{"code":"import { __decorate, __metadata } from \"tslib\";\r\n/*\r\n * Copyright (c) 2022 SAP SE or an SAP affiliate company. All rights reserved.\r\n */\r\nimport { PERSONALIZATION_COMMERCE_CUSTOMIZATION_ACTION_STATUSES } from 'personalizationcommons';\r\nimport { SeDowngradeService } from 'smarteditcommons';\r\nlet /* @ngInject */ ActionsDataFactory = class /* @ngInject */ ActionsDataFactory {\r\n    constructor() {\r\n        this.actions = [];\r\n        this.removedActions = [];\r\n    }\r\n    getActions() {\r\n        return this.actions;\r\n    }\r\n    getRemovedActions() {\r\n        return this.removedActions;\r\n    }\r\n    resetActions() {\r\n        this.actions.length = 0;\r\n    }\r\n    resetRemovedActions() {\r\n        this.removedActions.length = 0;\r\n    }\r\n    addAction(action, comparer) {\r\n        let exist = false;\r\n        this.actions.forEach((wrapper) => {\r\n            exist = exist || comparer(action, wrapper.action);\r\n        });\r\n        if (!exist) {\r\n            let status = PERSONALIZATION_COMMERCE_CUSTOMIZATION_ACTION_STATUSES.NEW;\r\n            let removedIndex = -1;\r\n            this.removedActions.forEach((wrapper, index) => {\r\n                if (comparer(action, wrapper.action)) {\r\n                    removedIndex = index;\r\n                }\r\n            });\r\n            if (removedIndex >= 0) {\r\n                // we found or action in delete queue\r\n                status = PERSONALIZATION_COMMERCE_CUSTOMIZATION_ACTION_STATUSES.OLD;\r\n                this.removedActions.splice(removedIndex, 1);\r\n            }\r\n            this.actions.push({\r\n                action,\r\n                status\r\n            });\r\n        }\r\n    }\r\n    isItemInSelectedActions(action, comparer) {\r\n        return this.actions.find((wrapper) => comparer(action, wrapper.action));\r\n    }\r\n};\r\n/* @ngInject */ ActionsDataFactory = __decorate([\r\n    SeDowngradeService(),\r\n    __metadata(\"design:paramtypes\", [])\r\n], /* @ngInject */ ActionsDataFactory);\r\nexport { /* @ngInject */ ActionsDataFactory };\r\n//# sourceMappingURL=ActionsDataFactory.js.map","references":["/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/personalization/personalizationsmartedit/apps/personalizationcommons/dist/index.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/personalization/personalizationsmartedit/apps/personalizationsmarteditcontainer/src/interfaces/index.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/dist/index.d.ts"],"map":"{\"version\":3,\"file\":\"ActionsDataFactory.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../src/management/commerceCustomizationView/ActionsDataFactory.ts\"],\"names\":[],\"mappings\":\";AAAA;;GAEG;AACH,OAAO,EAAE,sDAAsD,EAAE,MAAM,wBAAwB,CAAC;AAEhG,OAAO,EAAE,kBAAkB,EAAE,MAAM,kBAAkB,CAAC;AAGtD,yCAAA;IAII;QAHO,YAAO,GAAa,EAAE,CAAC;QACvB,mBAAc,GAAa,EAAE,CAAC;IAEtB,CAAC;IAET,UAAU;QACb,OAAO,IAAI,CAAC,OAAO,CAAC;IACxB,CAAC;IAEM,iBAAiB;QACpB,OAAO,IAAI,CAAC,cAAc,CAAC;IAC/B,CAAC;IAEM,YAAY;QACf,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC;IAC5B,CAAC;IAEM,mBAAmB;QACtB,IAAI,CAAC,cAAc,CAAC,MAAM,GAAG,CAAC,CAAC;IACnC,CAAC;IAEM,SAAS,CAAC,MAAkB,EAAE,QAA6B;QAC9D,IAAI,KAAK,GAAG,KAAK,CAAC;QAClB,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,OAAY,EAAE,EAAE;YAClC,KAAK,GAAG,KAAK,IAAI,QAAQ,CAAC,MAAM,EAAE,OAAO,CAAC,MAAM,CAAC,CAAC;QACtD,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,KAAK,EAAE;YACR,IAAI,MAAM,GAAG,sDAAsD,CAAC,GAAG,CAAC;YACxE,IAAI,YAAY,GAAG,CAAC,CAAC,CAAC;YACtB,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,OAAY,EAAE,KAAU,EAAE,EAAE;gBACrD,IAAI,QAAQ,CAAC,MAAM,EAAE,OAAO,CAAC,MAAM,CAAC,EAAE;oBAClC,YAAY,GAAG,KAAK,CAAC;iBACxB;YACL,CAAC,CAAC,CAAC;YACH,IAAI,YAAY,IAAI,CAAC,EAAE;gBACnB,qCAAqC;gBACrC,MAAM,GAAG,sDAAsD,CAAC,GAAG,CAAC;gBACpE,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC;aAC/C;YACD,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;gBACd,MAAM;gBACN,MAAM;aACT,CAAC,CAAC;SACN;IACL,CAAC;IAEM,uBAAuB,CAAC,MAAkB,EAAE,QAA6B;QAC5E,OAAO,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,OAAY,EAAE,EAAE,CAAC,QAAQ,CAAC,MAAM,EAAE,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC;IACjF,CAAC;CACJ,CAAA;AAlDD;IADC,kBAAkB,EAAE;;sCAmDpB\"}","dts":{"name":"/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/personalization/personalizationsmartedit/apps/personalizationsmarteditcontainer/node_modules/.cache/rollup-plugin-typescript2/placeholder/management/commerceCustomizationView/ActionsDataFactory.d.ts","writeByteOrderMark":false,"text":"import { Action, BaseAction } from 'personalizationsmarteditcontainer/interfaces';\r\nexport declare class ActionsDataFactory {\r\n    actions: Action[];\r\n    removedActions: Action[];\r\n    constructor();\r\n    getActions(): Action[];\r\n    getRemovedActions(): Action[];\r\n    resetActions(): void;\r\n    resetRemovedActions(): void;\r\n    addAction(action: BaseAction, comparer: (p1: any, p2: any) => boolean): void;\r\n    isItemInSelectedActions(action: BaseAction, comparer: (p1: any, p2: any) => boolean): Action;\r\n}\r\n"}}
