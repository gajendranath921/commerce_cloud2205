{"code":"import { __decorate, __metadata } from \"tslib\";\r\nimport { SeDowngradeService, PageVersionSelectionService } from 'smarteditcommons';\r\nimport { PersonalizationsmarteditRestService } from './PersonalizationsmarteditRestService';\r\nlet /* @ngInject */ PersonalizationsmarteditVersionCheckerService = class /* @ngInject */ PersonalizationsmarteditVersionCheckerService {\r\n    constructor(restService, pageVersionSelectionService) {\r\n        this.restService = restService;\r\n        this.pageVersionSelectionService = pageVersionSelectionService;\r\n    }\r\n    setVersion(version) {\r\n        this.version = version;\r\n    }\r\n    provideTranlationKey(key) {\r\n        const TRANSLATE_NS = 'personalization.se.cms.actionitem.page.version.rollback.confirmation';\r\n        this.version = this.version || this.pageVersionSelectionService.getSelectedPageVersion();\r\n        if (!!this.version) {\r\n            return this.restService.checkVersionConflict(this.version.uid).then((response) => (response.result ? key : TRANSLATE_NS), () => key);\r\n        }\r\n        else {\r\n            return Promise.resolve(key);\r\n        }\r\n    }\r\n};\r\n/* @ngInject */ PersonalizationsmarteditVersionCheckerService = __decorate([\r\n    SeDowngradeService(),\r\n    __metadata(\"design:paramtypes\", [PersonalizationsmarteditRestService,\r\n        PageVersionSelectionService])\r\n], /* @ngInject */ PersonalizationsmarteditVersionCheckerService);\r\nexport { /* @ngInject */ PersonalizationsmarteditVersionCheckerService };\r\n//# sourceMappingURL=PersonalizationsmarteditVersionCheckerService.js.map","references":["/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/dist/index.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/personalization/personalizationsmartedit/apps/personalizationsmarteditcontainer/src/service/PersonalizationsmarteditRestService.ts"],"map":"{\"version\":3,\"file\":\"PersonalizationsmarteditVersionCheckerService.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/service/PersonalizationsmarteditVersionCheckerService.ts\"],\"names\":[],\"mappings\":\";AAAA,OAAO,EAAE,kBAAkB,EAAE,2BAA2B,EAAgB,MAAM,kBAAkB,CAAC;AACjG,OAAO,EAAE,mCAAmC,EAAE,MAAM,uCAAuC,CAAC;AAG5F,oEAAA;IAEI,YACc,WAAgD,EAChD,2BAAwD;QADxD,gBAAW,GAAX,WAAW,CAAqC;QAChD,gCAA2B,GAA3B,2BAA2B,CAA6B;IACnE,CAAC;IAEG,UAAU,CAAC,OAAqB;QACnC,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;IAC3B,CAAC;IAEM,oBAAoB,CAAC,GAAW;QACnC,MAAM,YAAY,GAAG,sEAAsE,CAAC;QAE5F,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,2BAA2B,CAAC,sBAAsB,EAAE,CAAC;QAEzF,IAAI,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE;YAChB,OAAO,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,IAAI,CAC/D,CAAC,QAAa,EAAE,EAAE,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,YAAY,CAAC,EACzD,GAAG,EAAE,CAAC,GAAG,CACZ,CAAC;SACL;aAAM;YACH,OAAO,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;SAC/B;IACL,CAAC;CACJ,CAAA;AAzBD;IADC,kBAAkB,EAAE;qCAIU,mCAAmC;QACnB,2BAA2B;iEAqBzE\"}","dts":{"name":"/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/personalization/personalizationsmartedit/apps/personalizationsmarteditcontainer/node_modules/.cache/rollup-plugin-typescript2/placeholder/service/PersonalizationsmarteditVersionCheckerService.d.ts","writeByteOrderMark":false,"text":"import { PageVersionSelectionService, IPageVersion } from 'smarteditcommons';\r\nimport { PersonalizationsmarteditRestService } from './PersonalizationsmarteditRestService';\r\nexport declare class PersonalizationsmarteditVersionCheckerService {\r\n    protected restService: PersonalizationsmarteditRestService;\r\n    protected pageVersionSelectionService: PageVersionSelectionService;\r\n    private version;\r\n    constructor(restService: PersonalizationsmarteditRestService, pageVersionSelectionService: PageVersionSelectionService);\r\n    setVersion(version: IPageVersion): void;\r\n    provideTranlationKey(key: string): Promise<string>;\r\n}\r\n"}}
