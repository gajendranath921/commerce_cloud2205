{"code":"import { __awaiter, __decorate, __metadata } from \"tslib\";\r\nimport { IExperienceService, SeDowngradeService } from 'smarteditcommons';\r\nlet /* @ngInject */ PersonalizationsmarteditPreviewService = class /* @ngInject */ PersonalizationsmarteditPreviewService {\r\n    constructor(experienceService) {\r\n        this.experienceService = experienceService;\r\n    }\r\n    removePersonalizationDataFromPreview() {\r\n        return this.updatePreviewTicketWithVariations([]);\r\n    }\r\n    updatePreviewTicketWithVariations(variations) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const experience = yield this.experienceService.getCurrentExperience();\r\n            if (!experience) {\r\n                return undefined;\r\n            }\r\n            if (JSON.stringify(experience.variations) === JSON.stringify(variations)) {\r\n                return undefined;\r\n            }\r\n            experience.variations = variations;\r\n            yield this.experienceService.setCurrentExperience(experience);\r\n            return this.experienceService.updateExperience();\r\n        });\r\n    }\r\n};\r\n/* @ngInject */ PersonalizationsmarteditPreviewService = __decorate([\r\n    SeDowngradeService(),\r\n    __metadata(\"design:paramtypes\", [IExperienceService])\r\n], /* @ngInject */ PersonalizationsmarteditPreviewService);\r\nexport { /* @ngInject */ PersonalizationsmarteditPreviewService };\r\n//# sourceMappingURL=PersonalizationsmarteditPreviewService.js.map","references":["/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/dist/index.d.ts"],"map":"{\"version\":3,\"file\":\"PersonalizationsmarteditPreviewService.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/service/PersonalizationsmarteditPreviewService.ts\"],\"names\":[],\"mappings\":\";AAAA,OAAO,EAAe,kBAAkB,EAAE,kBAAkB,EAAE,MAAM,kBAAkB,CAAC;AAGvF,6DAAA;IACI,YAAsB,iBAAqC;QAArC,sBAAiB,GAAjB,iBAAiB,CAAoB;IAAG,CAAC;IAExD,oCAAoC;QACvC,OAAO,IAAI,CAAC,iCAAiC,CAAC,EAAE,CAAC,CAAC;IACtD,CAAC;IAEY,iCAAiC,CAAC,UAAe;;YAC1D,MAAM,UAAU,GAAG,MAAM,IAAI,CAAC,iBAAiB,CAAC,oBAAoB,EAAE,CAAC;YACvE,IAAI,CAAC,UAAU,EAAE;gBACb,OAAO,SAAS,CAAC;aACpB;YACD,IAAI,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,UAAU,CAAC,KAAK,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,EAAE;gBACtE,OAAO,SAAS,CAAC;aACpB;YACD,UAAU,CAAC,UAAU,GAAG,UAAU,CAAC;YACnC,MAAM,IAAI,CAAC,iBAAiB,CAAC,oBAAoB,CAAC,UAAU,CAAC,CAAC;YAC9D,OAAO,IAAI,CAAC,iBAAiB,CAAC,gBAAgB,EAAE,CAAC;QACrD,CAAC;KAAA;CACJ,CAAA;AAnBD;IADC,kBAAkB,EAAE;qCAEwB,kBAAkB;0DAkB9D\"}","dts":{"name":"/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/personalization/personalizationsmartedit/apps/personalizationsmarteditcontainer/node_modules/.cache/rollup-plugin-typescript2/placeholder/service/PersonalizationsmarteditPreviewService.d.ts","writeByteOrderMark":false,"text":"import { IExperience, IExperienceService } from 'smarteditcommons';\r\nexport declare class PersonalizationsmarteditPreviewService {\r\n    protected experienceService: IExperienceService;\r\n    constructor(experienceService: IExperienceService);\r\n    removePersonalizationDataFromPreview(): Promise<IExperience>;\r\n    updatePreviewTicketWithVariations(variations: any): Promise<IExperience>;\r\n}\r\n"}}
