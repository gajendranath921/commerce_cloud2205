{"code":"import { __decorate, __metadata } from \"tslib\";\r\nimport { Component, Input } from '@angular/core';\r\nimport { PersonalizationsmarteditUtils } from 'personalizationcommons';\r\nimport { CustomizationViewService } from '../../CustomizationViewService';\r\nimport { TriggerService } from '../../TriggerService';\r\nimport { EditVariationItemComponent, MoveVariationDownItemComponent, MoveVariationUpItemComponent, RemoveVariationItemComponent, ToggleVariationActiveItemComponent } from '../targetGroupDropdownItem';\r\nwindow.__smartedit__.addDecoratorPayload(\"Component\", \"TargetGroupVariationListComponent\", {\r\n    selector: 'perso-target-group-variation-list',\r\n    template: `<ul class=\"pe-customization-modal__list-group\"><li class=\"pe-customization-modal__list-group__item\" *ngFor=\"let variation of variationsForView\"><div class=\"pe-customization-modal__list-group__item-col1\"><a class=\"pe-customization-modal__list-group__item-link perso-wrap-ellipsis\" (click)=\"editVariation(variation)\">{{ variation.name }}</a><span [ngClass]=\"variation.activityState\">{{ variation.enablementText }}</span><div *ngIf=\"variation.isDefault\"><span class=\"pe-customization-modal__title-label-segments\" translate=\"personalization.modal.customizationvariationmanagement.targetgrouptab.segments.colon\"></span> <span translate=\"personalization.modal.customizationvariationmanagement.targetgrouptab.variation.default\"></span></div><div *ngIf=\"!variation.isDefault\"><div><span class=\"pe-customization-modal__title-label-segments\" translate=\"personalization.modal.customizationvariationmanagement.targetgrouptab.segments.colon\"></span><segment-expression-as-html [segmentExpression]=\"variation.triggers\"></segment-expression-as-html></div></div></div><div><se-dropdown-menu [dropdownItems]=\"dropdownItems\" [selectedItem]=\"{ variation: variation }\" class=\"pull-right\"></se-dropdown-menu></div></li></ul>`\r\n});\r\nlet TargetGroupVariationListComponent = class TargetGroupVariationListComponent {\r\n    constructor(customizationViewService, triggerService, persoUtils) {\r\n        this.customizationViewService = customizationViewService;\r\n        this.triggerService = triggerService;\r\n        this.persoUtils = persoUtils;\r\n        this.dropdownItems = [\r\n            { component: EditVariationItemComponent },\r\n            { component: ToggleVariationActiveItemComponent },\r\n            { component: MoveVariationUpItemComponent },\r\n            { component: MoveVariationDownItemComponent },\r\n            { component: RemoveVariationItemComponent }\r\n        ];\r\n        this.variationsForView = [];\r\n    }\r\n    ngOnChanges(changes) {\r\n        const variationsChange = changes.variations;\r\n        if (variationsChange) {\r\n            const variations = variationsChange.currentValue;\r\n            this.variationsForView = variations.map((variation) => {\r\n                const enablementText = this.getEnablementTextForVariation(variation);\r\n                const activityState = this.getActivityStateForVariation(this.customization, variation);\r\n                const isDefault = this.isDefaultTrigger(variation.triggers);\r\n                return Object.assign(Object.assign({}, variation), { enablementText,\r\n                    activityState,\r\n                    isDefault });\r\n            });\r\n        }\r\n    }\r\n    editVariation(variation) {\r\n        this.customizationViewService.editVariationAction(variation);\r\n    }\r\n    isDefaultTrigger(triggers) {\r\n        return this.triggerService.isDefault(triggers);\r\n    }\r\n    getActivityStateForVariation(customization, variation) {\r\n        return this.persoUtils.getActivityStateForVariation(customization, variation);\r\n    }\r\n    getEnablementTextForVariation(variation) {\r\n        const enablementText = this.persoUtils.getEnablementTextForVariation(variation, 'personalization.modal.customizationvariationmanagement.targetgrouptab');\r\n        return `(${enablementText})`;\r\n    }\r\n};\r\n__decorate([\r\n    Input(),\r\n    __metadata(\"design:type\", Array)\r\n], TargetGroupVariationListComponent.prototype, \"variations\", void 0);\r\n__decorate([\r\n    Input(),\r\n    __metadata(\"design:type\", Object)\r\n], TargetGroupVariationListComponent.prototype, \"customization\", void 0);\r\nTargetGroupVariationListComponent = __decorate([\r\n    Component({\r\n        selector: 'perso-target-group-variation-list',\r\n        template: `<ul class=\"pe-customization-modal__list-group\"><li class=\"pe-customization-modal__list-group__item\" *ngFor=\"let variation of variationsForView\"><div class=\"pe-customization-modal__list-group__item-col1\"><a class=\"pe-customization-modal__list-group__item-link perso-wrap-ellipsis\" (click)=\"editVariation(variation)\">{{ variation.name }}</a><span [ngClass]=\"variation.activityState\">{{ variation.enablementText }}</span><div *ngIf=\"variation.isDefault\"><span class=\"pe-customization-modal__title-label-segments\" translate=\"personalization.modal.customizationvariationmanagement.targetgrouptab.segments.colon\"></span> <span translate=\"personalization.modal.customizationvariationmanagement.targetgrouptab.variation.default\"></span></div><div *ngIf=\"!variation.isDefault\"><div><span class=\"pe-customization-modal__title-label-segments\" translate=\"personalization.modal.customizationvariationmanagement.targetgrouptab.segments.colon\"></span><segment-expression-as-html [segmentExpression]=\"variation.triggers\"></segment-expression-as-html></div></div></div><div><se-dropdown-menu [dropdownItems]=\"dropdownItems\" [selectedItem]=\"{ variation: variation }\" class=\"pull-right\"></se-dropdown-menu></div></li></ul>`\r\n    }),\r\n    __metadata(\"design:paramtypes\", [CustomizationViewService,\r\n        TriggerService,\r\n        PersonalizationsmarteditUtils])\r\n], TargetGroupVariationListComponent);\r\nexport { TargetGroupVariationListComponent };\r\n//# sourceMappingURL=TargetGroupVariationListComponent.js.map","references":["/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@angular+core@8.2.14_rxjs@6.5.4+zone.js@0.9.1/node_modules/@angular/core/core.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/personalization/personalizationsmartedit/apps/personalizationcommons/dist/index.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/dist/index.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/personalization/personalizationsmartedit/apps/personalizationsmarteditcontainer/src/management/manageCustomizationView/CustomizationViewService.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/personalization/personalizationsmartedit/apps/personalizationsmarteditcontainer/src/management/manageCustomizationView/TriggerService.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/personalization/personalizationsmartedit/apps/personalizationsmarteditcontainer/src/management/manageCustomizationView/targetGroupTab/targetGroupDropdownItem/index.ts"],"map":"{\"version\":3,\"file\":\"TargetGroupVariationListComponent.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../../../src/management/manageCustomizationView/targetGroupTab/targetGroupVariationList/TargetGroupVariationListComponent.ts\"],\"names\":[],\"mappings\":\";AACA,OAAO,EAAE,SAAS,EAAE,KAAK,EAAiB,MAAM,eAAe,CAAC;AAChE,OAAO,EAGH,6BAA6B,EAEhC,MAAM,wBAAwB,CAAC;AAEhC,OAAO,EAAE,wBAAwB,EAAE,MAAM,gCAAgC,CAAC;AAC1E,OAAO,EAAE,cAAc,EAAE,MAAM,sBAAsB,CAAC;AACtD,OAAO,EACH,0BAA0B,EAC1B,8BAA8B,EAC9B,4BAA4B,EAC5B,4BAA4B,EAC5B,kCAAkC,EACrC,MAAM,4BAA4B,CAAC;2FAWzB;IACP,QAAQ,EAAE,mCAAmC;IAC7C,QAAQ,EAAE,qrCAAqrC;CAClsC;AACD,IAAa,iCAAiC,GAA9C,MAAa,iCAAiC;IAS1C,YACY,wBAAkD,EAClD,cAA8B,EAC9B,UAAyC;QAFzC,6BAAwB,GAAxB,wBAAwB,CAA0B;QAClD,mBAAc,GAAd,cAAc,CAAgB;QAC9B,eAAU,GAAV,UAAU,CAA+B;QAEjD,IAAI,CAAC,aAAa,GAAG;YACjB,EAAE,SAAS,EAAE,0BAA0B,EAAE;YACzC,EAAE,SAAS,EAAE,kCAAkC,EAAE;YACjD,EAAE,SAAS,EAAE,4BAA4B,EAAE;YAC3C,EAAE,SAAS,EAAE,8BAA8B,EAAE;YAC7C,EAAE,SAAS,EAAE,4BAA4B,EAAE;SAC9C,CAAC;QAEF,IAAI,CAAC,iBAAiB,GAAG,EAAE,CAAC;IAChC,CAAC;IAED,WAAW,CAAC,OAAsB;QAC9B,MAAM,gBAAgB,GAAG,OAAO,CAAC,UAAU,CAAC;QAE5C,IAAI,gBAAgB,EAAE;YAClB,MAAM,UAAU,GAA6B,gBAAgB,CAAC,YAAY,CAAC;YAC3E,IAAI,CAAC,iBAAiB,GAAG,UAAU,CAAC,GAAG,CAAC,CAAC,SAAS,EAAE,EAAE;gBAClD,MAAM,cAAc,GAAG,IAAI,CAAC,6BAA6B,CAAC,SAAS,CAAC,CAAC;gBACrE,MAAM,aAAa,GAAG,IAAI,CAAC,4BAA4B,CACnD,IAAI,CAAC,aAAa,EAClB,SAAS,CACZ,CAAC;gBACF,MAAM,SAAS,GAAG,IAAI,CAAC,gBAAgB,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;gBAC5D,uCACO,SAAS,KACZ,cAAc;oBACd,aAAa;oBACb,SAAS,IACX;YACN,CAAC,CAAC,CAAC;SACN;IACL,CAAC;IAEM,aAAa,CAAC,SAAiC;QAClD,IAAI,CAAC,wBAAwB,CAAC,mBAAmB,CAAC,SAAS,CAAC,CAAC;IACjE,CAAC;IAEO,gBAAgB,CAAC,QAAmB;QACxC,OAAO,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;IACnD,CAAC;IAEO,4BAA4B,CAChC,aAA4B,EAC5B,SAAiC;QAEjC,OAAO,IAAI,CAAC,UAAU,CAAC,4BAA4B,CAAC,aAAa,EAAE,SAAS,CAAC,CAAC;IAClF,CAAC;IAEO,6BAA6B,CAAC,SAAiC;QACnE,MAAM,cAAc,GAAG,IAAI,CAAC,UAAU,CAAC,6BAA6B,CAChE,SAAS,EACT,uEAAuE,CAC1E,CAAC;QACF,OAAO,IAAI,cAAc,GAAG,CAAC;IACjC,CAAC;CACJ,CAAA;AApEY;IAAR,KAAK,EAAE;;qEAAsC;AACrC;IAAR,KAAK,EAAE;;wEAA8B;AAF7B,iCAAiC;IAJ7C,SAAS,CAAC;QACP,QAAQ,EAAE,mCAAmC;QAC7C,QAAQ,EAAE,qrCAAqrC;KAClsC,CAAC;qCAWwC,wBAAwB;QAClC,cAAc;QAClB,6BAA6B;GAZ5C,iCAAiC,CAqE7C;SArEY,iCAAiC\"}","dts":{"name":"/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/personalization/personalizationsmartedit/apps/personalizationsmarteditcontainer/node_modules/.cache/rollup-plugin-typescript2/placeholder/management/manageCustomizationView/targetGroupTab/targetGroupVariationList/TargetGroupVariationListComponent.d.ts","writeByteOrderMark":false,"text":"import { SimpleChanges } from '@angular/core';\r\nimport { Customization, CustomizationVariation, PersonalizationsmarteditUtils } from 'personalizationcommons';\r\nimport { IDropdownMenuItem } from 'smarteditcommons';\r\nimport { CustomizationViewService } from '../../CustomizationViewService';\r\nimport { TriggerService } from '../../TriggerService';\r\nexport interface CustomizationVariationListItem extends CustomizationVariation {\r\n    enablementText: string;\r\n    activityState: string;\r\n    isDefault: boolean;\r\n}\r\nexport declare class TargetGroupVariationListComponent {\r\n    private customizationViewService;\r\n    private triggerService;\r\n    private persoUtils;\r\n    variations: CustomizationVariation[];\r\n    customization: Customization;\r\n    readonly dropdownItems: IDropdownMenuItem[];\r\n    variationsForView: CustomizationVariationListItem[];\r\n    constructor(customizationViewService: CustomizationViewService, triggerService: TriggerService, persoUtils: PersonalizationsmarteditUtils);\r\n    ngOnChanges(changes: SimpleChanges): void;\r\n    editVariation(variation: CustomizationVariation): void;\r\n    private isDefaultTrigger;\r\n    private getActivityStateForVariation;\r\n    private getEnablementTextForVariation;\r\n}\r\n"}}
