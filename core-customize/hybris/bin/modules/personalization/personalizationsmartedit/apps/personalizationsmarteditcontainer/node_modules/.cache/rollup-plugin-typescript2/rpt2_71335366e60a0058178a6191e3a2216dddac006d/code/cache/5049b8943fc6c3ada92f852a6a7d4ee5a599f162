{"code":"import { __decorate, __metadata } from \"tslib\";\r\nimport { Component, Input } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport * as LodashService from 'lodash';\r\nimport { PersonalizationsmarteditMessageHandler, PersonalizationsmarteditUtils, PersonalizationsmarteditDateUtils, PersonalizationsmarteditContextUtils, PersonalizationsmarteditCommerceCustomizationService, CUSTOMIZE_VIEW_TOOLBAR_ITEM_KEY } from 'personalizationcommons';\r\nimport { CustomizeViewServiceProxy } from 'personalizationsmarteditcontainer/customizeView/CustomizeViewServiceOuterProxy';\r\nimport { PersonalizationsmarteditContextService, PersonalizationsmarteditPreviewService, PersonalizationsmarteditRestService } from 'personalizationsmarteditcontainer/service';\r\nimport { CrossFrameEventService, promiseUtils, SystemEventService, SHOW_TOOLBAR_ITEM_CONTEXT } from 'smarteditcommons';\r\nimport { ManageCustomizationViewManager } from '../../management/manageCustomizationView';\r\nwindow.__smartedit__.addDecoratorPayload(\"Component\", \"CustomizationsListComponent\", {\r\n    selector: 'customizations-list',\r\n    template: `<div class=\"pe-customize-panel-list\"><div class=\"pe-customize-panel-list__header\"><span class=\"pe-customize-panel-list__header--name\" translate=\"personalization.toolbar.pagecustomizations.list.title\"></span> <span class=\"pe-customize-panel-list__header--status\" translate=\"personalization.toolbar.pagecustomizations.list.status\"></span></div><div *ngFor=\"let customization of customizationsList; last as isLast; trackBy: customizationsListTrackBy\" [ngClass]=\"isLast && customization.collapsed && isCustomizationFromCurrentCatalog(customization, isLast) ? 'pe-customize-panel-list__item-last':''\"><div class=\"pe-customize-panel-list__row-layout\" [ngClass]=\"getSelectedCustomizationClass(customization)\"><div class=\"pe-customize-panel-list__icon-layout pe-customize-panel-list__icon-divider\" (click)=\"customizationRowClick(customization)\"><a class=\"pe-customize-panel-list__btn-link btn btn-link\" title=\"{{(customization.collapsed ? 'personalization.commons.icon.title.expand' : 'personalization.commons.icon.title.collapse') | translate}}\"><span [ngClass]=\"customization.collapsed ? 'sap-icon--navigation-right-arrow' : 'sap-icon--navigation-down-arrow'\"></span></a></div><div class=\"pe-customize-panel-list__row\" (click)=\"customizationRowClick(customization,true)\"><div class=\"pe-customize-panel-list__col-lg\"><div class=\"perso-wrap-ellipsis pe-customize-panel-list__parent-layout perso-tree__primary-data\" [textContent]=\"customization.name\" title=\"{{customization.name}}\"></div></div><div class=\"pe-customize-panel-list__col-md\"></div><div class=\"pe-customize-panel-list__col-md\"><div class=\"perso-tree__status\" [ngClass]=\"getActivityStateForCustomization(customization)\" [textContent]=\"getEnablementTextForCustomization(customization)\"></div><div class=\"perso-tree__dates-layout\" *ngIf=\"isEnabled(customization)\" [textContent]=\"getDatesForCustomization(customization)\"></div></div><div class=\"pe-customize-panel-list__col-sm\"><span *ngIf=\"!isCustomizationFromCurrentCatalog(customization)\" class=\"perso__globe-icon sap-icon--globe\"></span></div></div><div class=\"pe-customize-panel-list__col-xs pe-customize-panel-list__dropdown\"><div *ngIf=\"isCustomizationFromCurrentCatalog(customization)\" class=\"y-dropdown-more-menu dropdown open\"><button type=\"button\" class=\"pe-customize-panel-list__btn-link fd-button--light customization-rank-{{customization.rank}}-dropdown-toggle\" (click)=\"customizationSubMenuAction(customization)\"><span class=\"perso__more-icon sap-icon--overflow\"></span></button><ul *ngIf=\"customization.subMenu\" class=\"se-y-dropdown-menu__list fd-menu__list dropdown-menu\" role=\"menu\"><li><a class=\"se-dropdown-item fd-menu__item cutomization-rank-{{customization.rank}}-edit-button\" (click)=\"clearAllSubMenu();editCustomizationAction(customization)\" translate=\"personalization.toolbar.pagecustomizations.customization.options.edit\"></a></li></ul></div></div></div><div *ngIf=\"!customization.collapsed\"><div class=\"pe-customize-panel-list__row-layout\" *ngFor=\"let variation of customization.variations\" [ngClass]=\"getSelectedVariationClass(variation)\" (click)=\"clearAllSubMenu();variationClick(customization, variation)\"><div class=\"pe-customize-panel-list__icon-layout\"><div class=\"pe-customize-panel-list__btn-link btn btn-link\"></div></div><div class=\"pe-customize-panel-list__row\"><div class=\"pe-customize-panel-list__col-lg\"><div class=\"perso-wrap-ellipsis pe-customize-panel-list__child-layout\" [textContent]=\"variation.name\" title=\"{{variation.name}}\"></div></div><div class=\"pe-customize-panel-list__col-md\"><div class=\"pe-customize-panel-list__components-layout\"><div [hidden]=\"variation.numberOfAffectedComponents &lt; 0\" class=\"pe-customize-panel-list__number-layout\">{{variation.numberOfAffectedComponents}}</div><div [hidden]=\"variation.numberOfAffectedComponents >= 0\" class=\"pe-customize-panel-list__number-layout\">#</div><div class=\"perso-wrap-ellipsis\" translate=\"personalization.toolbar.pagecustomizations.variation.numberofaffectedcomponents.label\" title=\"{{'personalization.toolbar.pagecustomizations.variation.numberofaffectedcomponents.label' | translate}}\"></div></div></div><div class=\"pe-customize-panel-list__col-md perso-tree__status\" [ngClass]=\"getActivityStateForVariation(customization, variation)\" [textContent]=\"getEnablementTextForVariation(variation)\"></div><div class=\"pe-customize-panel-list__col-sm\"><span class=\"perso__cc-icon sap-icon--tag\" [ngClass]=\"{'perso__cc-icon--hidden': !hasCommerceActions(variation)}\" [title]=\"getCommerceCustomizationTooltip(variation)\"></span></div></div><div class=\"pe-customize-panel-list__col-xs pe-customize-panel-list__dropdown\"></div></div></div></div></div><div class=\"pe-spinner--outer\" [hidden]=\"!requestProcessing\"><div class=\"spinner-md spinner-light\"></div></div>`\r\n});\r\nlet CustomizationsListComponent = class CustomizationsListComponent {\r\n    constructor(translateService, personalizationsmarteditContextService, personalizationsmarteditRestService, personalizationsmarteditCommerceCustomizationService, personalizationsmarteditMessageHandler, personalizationsmarteditUtils, personalizationsmarteditDateUtils, personalizationsmarteditContextUtils, personalizationsmarteditPreviewService, personalizationsmarteditManager, customizeViewServiceProxy, systemEventService, crossFrameEventService) {\r\n        this.translateService = translateService;\r\n        this.personalizationsmarteditContextService = personalizationsmarteditContextService;\r\n        this.personalizationsmarteditRestService = personalizationsmarteditRestService;\r\n        this.personalizationsmarteditCommerceCustomizationService = personalizationsmarteditCommerceCustomizationService;\r\n        this.personalizationsmarteditMessageHandler = personalizationsmarteditMessageHandler;\r\n        this.personalizationsmarteditUtils = personalizationsmarteditUtils;\r\n        this.personalizationsmarteditDateUtils = personalizationsmarteditDateUtils;\r\n        this.personalizationsmarteditContextUtils = personalizationsmarteditContextUtils;\r\n        this.personalizationsmarteditPreviewService = personalizationsmarteditPreviewService;\r\n        this.personalizationsmarteditManager = personalizationsmarteditManager;\r\n        this.customizeViewServiceProxy = customizeViewServiceProxy;\r\n        this.systemEventService = systemEventService;\r\n        this.crossFrameEventService = crossFrameEventService;\r\n        this.sourceContainersComponentsInfo = {};\r\n        this.customizationsListPreCount = 0;\r\n    }\r\n    ngOnDestroy() {\r\n        if (this.customizationsModifiedUnsubscribe) {\r\n            this.customizationsModifiedUnsubscribe();\r\n        }\r\n    }\r\n    ngOnInit() {\r\n        this.sourceContainersComponentsInfo = {};\r\n        this.customizationsModifiedUnsubscribe = this.systemEventService.subscribe('CUSTOMIZATIONS_MODIFIED', () => {\r\n            this.refreshCustomizeContext();\r\n        });\r\n    }\r\n    ngDoCheck() {\r\n        if (this.customizationsListPreCount !== this.customizationsList.length) {\r\n            this.updateCustomizationList();\r\n            this.customizationsListPreCount = this.customizationsList.length;\r\n        }\r\n    }\r\n    updateCustomizationList() {\r\n        this.customizationsList.forEach((customization) => {\r\n            customization.collapsed = true;\r\n            if ((this.personalizationsmarteditContextService.getCustomize()\r\n                .selectedCustomization || {}).code === customization.code) {\r\n                customization.collapsed = false;\r\n                this.updateCustomizationData(customization);\r\n            }\r\n            this.personalizationsmarteditUtils.getAndSetCatalogVersionNameL10N(customization);\r\n        });\r\n    }\r\n    editCustomizationAction(customization) {\r\n        this.personalizationsmarteditContextUtils.clearCombinedViewContextAndReloadPreview(this.personalizationsmarteditPreviewService, this.personalizationsmarteditContextService);\r\n        this.personalizationsmarteditManager.openEditCustomizationModal(customization.code, '');\r\n    }\r\n    customizationRowClick(customization, select) {\r\n        this.clearAllSubMenu();\r\n        customization.collapsed = !customization.collapsed;\r\n        if (!customization.collapsed) {\r\n            this.updateCustomizationData(customization);\r\n        }\r\n        if (select) {\r\n            this.customizationClick(customization);\r\n        }\r\n        this.customizationsList\r\n            .filter((cust) => customization.code !== cust.code)\r\n            .forEach((cust) => {\r\n            cust.collapsed = true;\r\n        });\r\n    }\r\n    customizationClick(customization) {\r\n        const combinedView = this.personalizationsmarteditContextService.getCombinedView();\r\n        const currentVariations = this.personalizationsmarteditContextService.getCustomize()\r\n            .selectedVariations;\r\n        const visibleVariations = this.getVisibleVariations(customization);\r\n        const customize = this.personalizationsmarteditContextService.getCustomize();\r\n        customize.selectedCustomization = customization;\r\n        customize.selectedVariations = visibleVariations;\r\n        this.personalizationsmarteditContextService.setCustomize(customize);\r\n        if (visibleVariations.length > 0) {\r\n            const allVariations = this.personalizationsmarteditUtils\r\n                .getVariationCodes(visibleVariations)\r\n                .join(',');\r\n            this.getAndSetComponentsForVariation(customization.code, allVariations, customization.catalog, customization.catalogVersion);\r\n        }\r\n        if ((LodashService.isObjectLike(currentVariations) &&\r\n            !LodashService.isArray(currentVariations)) ||\r\n            combinedView.enabled) {\r\n            this.updatePreviewTicket();\r\n        }\r\n        this.personalizationsmarteditContextUtils.clearCombinedViewContext(this.personalizationsmarteditContextService);\r\n        this.crossFrameEventService.publish(SHOW_TOOLBAR_ITEM_CONTEXT, CUSTOMIZE_VIEW_TOOLBAR_ITEM_KEY);\r\n    }\r\n    getSelectedVariationClass(variation) {\r\n        if (LodashService.isEqual(variation.code, (this.personalizationsmarteditContextService.getCustomize().selectedVariations ||\r\n            {}).code)) {\r\n            return 'selectedVariation';\r\n        }\r\n        else {\r\n            return '';\r\n        }\r\n    }\r\n    getSelectedCustomizationClass(customization) {\r\n        if (LodashService.isEqual(customization.code, (this.personalizationsmarteditContextService.getCustomize()\r\n            .selectedCustomization || {}).code) &&\r\n            LodashService.isArray(this.personalizationsmarteditContextService.getCustomize().selectedVariations)) {\r\n            return 'selectedCustomization';\r\n        }\r\n        else {\r\n            return '';\r\n        }\r\n    }\r\n    variationClick(customization, variation) {\r\n        const customize = this.personalizationsmarteditContextService.getCustomize();\r\n        customize.selectedCustomization = customization;\r\n        customize.selectedVariations = variation;\r\n        this.personalizationsmarteditContextService.setCustomize(customize);\r\n        this.personalizationsmarteditContextUtils.clearCombinedViewContext(this.personalizationsmarteditContextService);\r\n        this.getAndSetComponentsForVariation(customization.code, variation.code, customization.catalog, customization.catalogVersion);\r\n        this.updatePreviewTicket(customization.code, [variation]);\r\n        this.crossFrameEventService.publish(SHOW_TOOLBAR_ITEM_CONTEXT, CUSTOMIZE_VIEW_TOOLBAR_ITEM_KEY);\r\n    }\r\n    hasCommerceActions(variation) {\r\n        return this.personalizationsmarteditUtils.hasCommerceActions(variation);\r\n    }\r\n    getCommerceCustomizationTooltip(variation) {\r\n        return this.personalizationsmarteditUtils.getCommerceCustomizationTooltip(variation, '', '');\r\n    }\r\n    getActivityStateForCustomization(customization) {\r\n        return this.personalizationsmarteditUtils.getActivityStateForCustomization(customization);\r\n    }\r\n    customizationsListTrackBy(index, _customizationsList) {\r\n        return index;\r\n    }\r\n    getActivityStateForVariation(customization, variation) {\r\n        return this.personalizationsmarteditUtils.getActivityStateForVariation(customization, variation);\r\n    }\r\n    clearAllSubMenu() {\r\n        for (const customization of this.customizationsList) {\r\n            customization.subMenu = false;\r\n        }\r\n    }\r\n    getEnablementTextForCustomization(customization) {\r\n        return this.personalizationsmarteditUtils.getEnablementTextForCustomization(customization, 'personalization.toolbar.pagecustomizations');\r\n    }\r\n    getEnablementTextForVariation(variation) {\r\n        return this.personalizationsmarteditUtils.getEnablementTextForVariation(variation, 'personalization.toolbar.pagecustomizations');\r\n    }\r\n    isEnabled(item) {\r\n        return this.personalizationsmarteditUtils.isPersonalizationItemEnabled(item);\r\n    }\r\n    getDatesForCustomization(customization) {\r\n        let activityStr = '';\r\n        let startDateStr = '';\r\n        let endDateStr = '';\r\n        if (customization.enabledStartDate || customization.enabledEndDate) {\r\n            startDateStr = this.personalizationsmarteditDateUtils.formatDateWithMessage(customization.enabledStartDate);\r\n            endDateStr = this.personalizationsmarteditDateUtils.formatDateWithMessage(customization.enabledEndDate);\r\n            if (!customization.enabledStartDate) {\r\n                startDateStr = ' ...';\r\n            }\r\n            if (!customization.enabledEndDate) {\r\n                endDateStr = '... ';\r\n            }\r\n            activityStr += ' (' + startDateStr + ' - ' + endDateStr + ') ';\r\n        }\r\n        return activityStr;\r\n    }\r\n    customizationSubMenuAction(customization) {\r\n        if (!customization.subMenu) {\r\n            this.clearAllSubMenu();\r\n        }\r\n        customization.subMenu = !customization.subMenu;\r\n    }\r\n    isCustomizationFromCurrentCatalog(customization) {\r\n        return this.personalizationsmarteditUtils.isItemFromCurrentCatalog(customization, this.personalizationsmarteditContextService.getSeData());\r\n    }\r\n    statusNotDeleted(variation) {\r\n        return this.personalizationsmarteditUtils.isItemVisible(variation);\r\n    }\r\n    matchActionForVariation(action, variation) {\r\n        return (action.variationCode === variation.code &&\r\n            action.actionCatalog === variation.catalog &&\r\n            action.actionCatalogVersion === variation.catalogVersion);\r\n    }\r\n    numberOfAffectedComponentsForActions(actionsForVariation) {\r\n        let result = 0;\r\n        actionsForVariation.forEach((action) => {\r\n            result += parseInt(this.sourceContainersComponentsInfo[action.containerId], 10) || 0;\r\n        });\r\n        return result;\r\n    }\r\n    initSourceContainersComponentsInfo() {\r\n        const deferred = promiseUtils.defer();\r\n        this.customizeViewServiceProxy.getSourceContainersInfo().then((response) => {\r\n            this.sourceContainersComponentsInfo = response;\r\n            deferred.resolve();\r\n        }, () => {\r\n            this.personalizationsmarteditMessageHandler.sendError(this.translateService.instant('personalization.error.gettingnumberofaffectedcomponentsforvariation'));\r\n            deferred.reject();\r\n        });\r\n        return deferred.promise;\r\n    }\r\n    paginatedGetAndSetNumberOfAffectedComponentsForVariations(customization, currentPage) {\r\n        this.personalizationsmarteditRestService\r\n            .getCxCmsActionsOnPageForCustomization(customization, currentPage)\r\n            .then((response) => {\r\n            customization.variations.forEach((variation) => {\r\n                const actionsForVariation = response.actions.filter((action) => this.matchActionForVariation(action, variation));\r\n                variation.numberOfAffectedComponents =\r\n                    currentPage === 0 ? 0 : variation.numberOfAffectedComponents;\r\n                variation.numberOfAffectedComponents += this.numberOfAffectedComponentsForActions(actionsForVariation);\r\n            });\r\n            const nextPage = currentPage + 1;\r\n            if (nextPage < response.pagination.totalPages) {\r\n                this.paginatedGetAndSetNumberOfAffectedComponentsForVariations(customization, nextPage);\r\n            }\r\n        }, () => {\r\n            this.personalizationsmarteditMessageHandler.sendError(this.translateService.instant('personalization.error.gettingnumberofaffectedcomponentsforvariation'));\r\n        });\r\n    }\r\n    getAndSetNumberOfAffectedComponentsForVariations(customization) {\r\n        const customize = this.personalizationsmarteditContextService.getCustomize();\r\n        const isUpToDate = (customize.selectedComponents || []).every((componentId) => this.sourceContainersComponentsInfo[componentId] !== undefined);\r\n        if (!isUpToDate ||\r\n            customize.selectedComponents === null ||\r\n            LodashService.isEqual(this.sourceContainersComponentsInfo, {})) {\r\n            this.initSourceContainersComponentsInfo().finally(() => {\r\n                this.paginatedGetAndSetNumberOfAffectedComponentsForVariations(customization, 0);\r\n            });\r\n        }\r\n        else if (isUpToDate) {\r\n            this.paginatedGetAndSetNumberOfAffectedComponentsForVariations(customization, 0);\r\n        }\r\n    }\r\n    getNumberOfAffectedComponentsForCorrespondingVariation(variationsArray, variationCode) {\r\n        const foundVariation = variationsArray.filter((elem) => elem.code === variationCode);\r\n        return (foundVariation[0] || {}).numberOfAffectedComponents;\r\n    }\r\n    updateCustomizationData(customization) {\r\n        this.personalizationsmarteditRestService\r\n            .getVariationsForCustomization(customization.code, customization)\r\n            .then((response) => {\r\n            const variations = response.variations\r\n                ? LodashService.cloneDeep(response.variations)\r\n                : [];\r\n            variations.forEach((variation, index) => {\r\n                if (!this.statusNotDeleted(variation)) {\r\n                    variations.splice(index, 1);\r\n                }\r\n                else {\r\n                    variation.numberOfAffectedComponents = this.getNumberOfAffectedComponentsForCorrespondingVariation(customization.variations, variation.code);\r\n                    variation.numberOfCommerceActions = this.personalizationsmarteditCommerceCustomizationService.getCommerceActionsCount(variation);\r\n                    variation.commerceCustomizations = this.personalizationsmarteditCommerceCustomizationService.getCommerceActionsCountMap(variation);\r\n                }\r\n            });\r\n            customization.variations = variations || [];\r\n            this.getAndSetNumberOfAffectedComponentsForVariations(customization);\r\n        }, () => {\r\n            this.personalizationsmarteditMessageHandler.sendError(this.translateService.instant('personalization.error.gettingcustomization'));\r\n        });\r\n    }\r\n    getVisibleVariations(customization) {\r\n        return this.personalizationsmarteditUtils.getVisibleItems(customization.variations);\r\n    }\r\n    getAndSetComponentsForVariation(customizationId, variationId, catalog, catalogVersion) {\r\n        this.personalizationsmarteditRestService\r\n            .getComponentsIdsForVariation(customizationId, variationId, catalog, catalogVersion)\r\n            .then((response) => {\r\n            const customize = this.personalizationsmarteditContextService.getCustomize();\r\n            customize.selectedComponents = response.components;\r\n            this.personalizationsmarteditContextService.setCustomize(customize);\r\n        }, () => {\r\n            this.personalizationsmarteditMessageHandler.sendError(this.translateService.instant('personalization.error.gettingcomponentsforvariation'));\r\n        });\r\n    }\r\n    updatePreviewTicket(customizationId, variationArray) {\r\n        const variationKeys = this.personalizationsmarteditUtils.getVariationKey(customizationId, variationArray);\r\n        this.personalizationsmarteditPreviewService.updatePreviewTicketWithVariations(variationKeys);\r\n    }\r\n    refreshCustomizeContext() {\r\n        const customize = LodashService.cloneDeep(this.personalizationsmarteditContextService.getCustomize());\r\n        if (customize.selectedCustomization) {\r\n            this.personalizationsmarteditRestService\r\n                .getCustomization(customize.selectedCustomization)\r\n                .then((response) => {\r\n                customize.selectedCustomization = response;\r\n                if (customize.selectedVariations &&\r\n                    !LodashService.isArray(customize.selectedVariations)) {\r\n                    response.variations\r\n                        .filter((item) => customize.selectedVariations\r\n                        .code === item.code)\r\n                        .forEach((variation) => {\r\n                        customize.selectedVariations = variation;\r\n                        if (!this.personalizationsmarteditUtils.isItemVisible(variation)) {\r\n                            customize.selectedCustomization = null;\r\n                            customize.selectedVariations = null;\r\n                            this.personalizationsmarteditPreviewService.removePersonalizationDataFromPreview();\r\n                        }\r\n                    });\r\n                }\r\n                this.personalizationsmarteditContextService.setCustomize(customize);\r\n            }, () => {\r\n                this.personalizationsmarteditMessageHandler.sendError(this.translateService.instant('personalization.error.gettingcustomization'));\r\n            });\r\n        }\r\n    }\r\n};\r\n__decorate([\r\n    Input(),\r\n    __metadata(\"design:type\", Array)\r\n], CustomizationsListComponent.prototype, \"customizationsList\", void 0);\r\n__decorate([\r\n    Input(),\r\n    __metadata(\"design:type\", Boolean)\r\n], CustomizationsListComponent.prototype, \"requestProcessing\", void 0);\r\nCustomizationsListComponent = __decorate([\r\n    Component({\r\n        selector: 'customizations-list',\r\n        template: `<div class=\"pe-customize-panel-list\"><div class=\"pe-customize-panel-list__header\"><span class=\"pe-customize-panel-list__header--name\" translate=\"personalization.toolbar.pagecustomizations.list.title\"></span> <span class=\"pe-customize-panel-list__header--status\" translate=\"personalization.toolbar.pagecustomizations.list.status\"></span></div><div *ngFor=\"let customization of customizationsList; last as isLast; trackBy: customizationsListTrackBy\" [ngClass]=\"isLast && customization.collapsed && isCustomizationFromCurrentCatalog(customization, isLast) ? 'pe-customize-panel-list__item-last':''\"><div class=\"pe-customize-panel-list__row-layout\" [ngClass]=\"getSelectedCustomizationClass(customization)\"><div class=\"pe-customize-panel-list__icon-layout pe-customize-panel-list__icon-divider\" (click)=\"customizationRowClick(customization)\"><a class=\"pe-customize-panel-list__btn-link btn btn-link\" title=\"{{(customization.collapsed ? 'personalization.commons.icon.title.expand' : 'personalization.commons.icon.title.collapse') | translate}}\"><span [ngClass]=\"customization.collapsed ? 'sap-icon--navigation-right-arrow' : 'sap-icon--navigation-down-arrow'\"></span></a></div><div class=\"pe-customize-panel-list__row\" (click)=\"customizationRowClick(customization,true)\"><div class=\"pe-customize-panel-list__col-lg\"><div class=\"perso-wrap-ellipsis pe-customize-panel-list__parent-layout perso-tree__primary-data\" [textContent]=\"customization.name\" title=\"{{customization.name}}\"></div></div><div class=\"pe-customize-panel-list__col-md\"></div><div class=\"pe-customize-panel-list__col-md\"><div class=\"perso-tree__status\" [ngClass]=\"getActivityStateForCustomization(customization)\" [textContent]=\"getEnablementTextForCustomization(customization)\"></div><div class=\"perso-tree__dates-layout\" *ngIf=\"isEnabled(customization)\" [textContent]=\"getDatesForCustomization(customization)\"></div></div><div class=\"pe-customize-panel-list__col-sm\"><span *ngIf=\"!isCustomizationFromCurrentCatalog(customization)\" class=\"perso__globe-icon sap-icon--globe\"></span></div></div><div class=\"pe-customize-panel-list__col-xs pe-customize-panel-list__dropdown\"><div *ngIf=\"isCustomizationFromCurrentCatalog(customization)\" class=\"y-dropdown-more-menu dropdown open\"><button type=\"button\" class=\"pe-customize-panel-list__btn-link fd-button--light customization-rank-{{customization.rank}}-dropdown-toggle\" (click)=\"customizationSubMenuAction(customization)\"><span class=\"perso__more-icon sap-icon--overflow\"></span></button><ul *ngIf=\"customization.subMenu\" class=\"se-y-dropdown-menu__list fd-menu__list dropdown-menu\" role=\"menu\"><li><a class=\"se-dropdown-item fd-menu__item cutomization-rank-{{customization.rank}}-edit-button\" (click)=\"clearAllSubMenu();editCustomizationAction(customization)\" translate=\"personalization.toolbar.pagecustomizations.customization.options.edit\"></a></li></ul></div></div></div><div *ngIf=\"!customization.collapsed\"><div class=\"pe-customize-panel-list__row-layout\" *ngFor=\"let variation of customization.variations\" [ngClass]=\"getSelectedVariationClass(variation)\" (click)=\"clearAllSubMenu();variationClick(customization, variation)\"><div class=\"pe-customize-panel-list__icon-layout\"><div class=\"pe-customize-panel-list__btn-link btn btn-link\"></div></div><div class=\"pe-customize-panel-list__row\"><div class=\"pe-customize-panel-list__col-lg\"><div class=\"perso-wrap-ellipsis pe-customize-panel-list__child-layout\" [textContent]=\"variation.name\" title=\"{{variation.name}}\"></div></div><div class=\"pe-customize-panel-list__col-md\"><div class=\"pe-customize-panel-list__components-layout\"><div [hidden]=\"variation.numberOfAffectedComponents &lt; 0\" class=\"pe-customize-panel-list__number-layout\">{{variation.numberOfAffectedComponents}}</div><div [hidden]=\"variation.numberOfAffectedComponents >= 0\" class=\"pe-customize-panel-list__number-layout\">#</div><div class=\"perso-wrap-ellipsis\" translate=\"personalization.toolbar.pagecustomizations.variation.numberofaffectedcomponents.label\" title=\"{{'personalization.toolbar.pagecustomizations.variation.numberofaffectedcomponents.label' | translate}}\"></div></div></div><div class=\"pe-customize-panel-list__col-md perso-tree__status\" [ngClass]=\"getActivityStateForVariation(customization, variation)\" [textContent]=\"getEnablementTextForVariation(variation)\"></div><div class=\"pe-customize-panel-list__col-sm\"><span class=\"perso__cc-icon sap-icon--tag\" [ngClass]=\"{'perso__cc-icon--hidden': !hasCommerceActions(variation)}\" [title]=\"getCommerceCustomizationTooltip(variation)\"></span></div></div><div class=\"pe-customize-panel-list__col-xs pe-customize-panel-list__dropdown\"></div></div></div></div></div><div class=\"pe-spinner--outer\" [hidden]=\"!requestProcessing\"><div class=\"spinner-md spinner-light\"></div></div>`\r\n    }),\r\n    __metadata(\"design:paramtypes\", [TranslateService,\r\n        PersonalizationsmarteditContextService,\r\n        PersonalizationsmarteditRestService,\r\n        PersonalizationsmarteditCommerceCustomizationService,\r\n        PersonalizationsmarteditMessageHandler,\r\n        PersonalizationsmarteditUtils,\r\n        PersonalizationsmarteditDateUtils,\r\n        PersonalizationsmarteditContextUtils,\r\n        PersonalizationsmarteditPreviewService,\r\n        ManageCustomizationViewManager,\r\n        CustomizeViewServiceProxy,\r\n        SystemEventService,\r\n        CrossFrameEventService])\r\n], CustomizationsListComponent);\r\nexport { CustomizationsListComponent };\r\n//# sourceMappingURL=CustomizationsListComponent.js.map","references":["/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@angular+core@8.2.14_rxjs@6.5.4+zone.js@0.9.1/node_modules/@angular/core/core.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@ngx-translate+core@11.0.1_@angular+core@8.2.14+rxjs@6.5.4/node_modules/@ngx-translate/core/ngx-translate-core.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@types+lodash@4.14.159/node_modules/@types/lodash/ts3.1/index.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/personalization/personalizationsmartedit/apps/personalizationcommons/dist/index.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/personalization/personalizationsmartedit/apps/personalizationsmarteditcontainer/src/customizeView/CustomizeViewServiceOuterProxy.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/personalization/personalizationsmartedit/apps/personalizationsmarteditcontainer/src/service/index.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/dist/index.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/personalization/personalizationsmartedit/apps/personalizationsmarteditcontainer/src/management/manageCustomizationView/index.ts"],"map":"{\"version\":3,\"file\":\"CustomizationsListComponent.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../src/customizeView/customizationsList/CustomizationsListComponent.ts\"],\"names\":[],\"mappings\":\"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\"}","dts":{"name":"/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/personalization/personalizationsmartedit/apps/personalizationsmarteditcontainer/node_modules/.cache/rollup-plugin-typescript2/placeholder/customizeView/customizationsList/CustomizationsListComponent.d.ts","writeByteOrderMark":false,"text":"import { OnInit, DoCheck, OnDestroy } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { PersonalizationsmarteditMessageHandler, PersonalizationsmarteditUtils, PersonalizationsmarteditDateUtils, PersonalizationsmarteditContextUtils, PersonalizationsmarteditCommerceCustomizationService, CustomizationVariation, Customization } from 'personalizationcommons';\r\nimport { CustomizeViewServiceProxy } from 'personalizationsmarteditcontainer/customizeView/CustomizeViewServiceOuterProxy';\r\nimport { PersonalizationsmarteditContextService, PersonalizationsmarteditPreviewService, PersonalizationsmarteditRestService } from 'personalizationsmarteditcontainer/service';\r\nimport { CrossFrameEventService, SystemEventService } from 'smarteditcommons';\r\nimport { ManageCustomizationViewManager } from '../../management/manageCustomizationView';\r\ninterface CustomizationListEntity extends Customization {\r\n    enabled?: boolean;\r\n    collapsed?: boolean;\r\n    subMenu?: boolean;\r\n}\r\nexport declare class CustomizationsListComponent implements OnInit, DoCheck, OnDestroy {\r\n    private translateService;\r\n    protected personalizationsmarteditContextService: PersonalizationsmarteditContextService;\r\n    protected personalizationsmarteditRestService: PersonalizationsmarteditRestService;\r\n    protected personalizationsmarteditCommerceCustomizationService: PersonalizationsmarteditCommerceCustomizationService;\r\n    protected personalizationsmarteditMessageHandler: PersonalizationsmarteditMessageHandler;\r\n    protected personalizationsmarteditUtils: PersonalizationsmarteditUtils;\r\n    protected personalizationsmarteditDateUtils: PersonalizationsmarteditDateUtils;\r\n    protected personalizationsmarteditContextUtils: PersonalizationsmarteditContextUtils;\r\n    protected personalizationsmarteditPreviewService: PersonalizationsmarteditPreviewService;\r\n    protected personalizationsmarteditManager: ManageCustomizationViewManager;\r\n    protected customizeViewServiceProxy: CustomizeViewServiceProxy;\r\n    protected systemEventService: SystemEventService;\r\n    protected crossFrameEventService: CrossFrameEventService;\r\n    customizationsList: CustomizationListEntity[];\r\n    requestProcessing: boolean;\r\n    private sourceContainersComponentsInfo;\r\n    private customizationsListPreCount;\r\n    private customizationsModifiedUnsubscribe;\r\n    constructor(translateService: TranslateService, personalizationsmarteditContextService: PersonalizationsmarteditContextService, personalizationsmarteditRestService: PersonalizationsmarteditRestService, personalizationsmarteditCommerceCustomizationService: PersonalizationsmarteditCommerceCustomizationService, personalizationsmarteditMessageHandler: PersonalizationsmarteditMessageHandler, personalizationsmarteditUtils: PersonalizationsmarteditUtils, personalizationsmarteditDateUtils: PersonalizationsmarteditDateUtils, personalizationsmarteditContextUtils: PersonalizationsmarteditContextUtils, personalizationsmarteditPreviewService: PersonalizationsmarteditPreviewService, personalizationsmarteditManager: ManageCustomizationViewManager, customizeViewServiceProxy: CustomizeViewServiceProxy, systemEventService: SystemEventService, crossFrameEventService: CrossFrameEventService);\r\n    ngOnDestroy(): void;\r\n    ngOnInit(): void;\r\n    ngDoCheck(): void;\r\n    updateCustomizationList(): void;\r\n    editCustomizationAction(customization: CustomizationListEntity): void;\r\n    customizationRowClick(customization: CustomizationListEntity, select: boolean): void;\r\n    customizationClick(customization: CustomizationListEntity): void;\r\n    getSelectedVariationClass(variation: CustomizationListEntity): string;\r\n    getSelectedCustomizationClass(customization: CustomizationListEntity): string;\r\n    variationClick(customization: CustomizationListEntity, variation: CustomizationVariation): void;\r\n    hasCommerceActions(variation: CustomizationVariation): boolean;\r\n    getCommerceCustomizationTooltip(variation: CustomizationVariation): string;\r\n    getActivityStateForCustomization(customization: CustomizationListEntity): string;\r\n    customizationsListTrackBy(index: number, _customizationsList: any): number;\r\n    getActivityStateForVariation(customization: CustomizationListEntity, variation: CustomizationVariation): string;\r\n    clearAllSubMenu(): void;\r\n    getEnablementTextForCustomization(customization: CustomizationListEntity): string;\r\n    getEnablementTextForVariation(variation: CustomizationVariation): string;\r\n    isEnabled(item: any): boolean;\r\n    getDatesForCustomization(customization: CustomizationListEntity): string;\r\n    customizationSubMenuAction(customization: CustomizationListEntity): void;\r\n    isCustomizationFromCurrentCatalog(customization: CustomizationListEntity): boolean;\r\n    statusNotDeleted(variation: CustomizationVariation): boolean;\r\n    private matchActionForVariation;\r\n    private numberOfAffectedComponentsForActions;\r\n    private initSourceContainersComponentsInfo;\r\n    private paginatedGetAndSetNumberOfAffectedComponentsForVariations;\r\n    private getAndSetNumberOfAffectedComponentsForVariations;\r\n    private getNumberOfAffectedComponentsForCorrespondingVariation;\r\n    private updateCustomizationData;\r\n    private getVisibleVariations;\r\n    private getAndSetComponentsForVariation;\r\n    private updatePreviewTicket;\r\n    private refreshCustomizeContext;\r\n}\r\nexport {};\r\n"}}
