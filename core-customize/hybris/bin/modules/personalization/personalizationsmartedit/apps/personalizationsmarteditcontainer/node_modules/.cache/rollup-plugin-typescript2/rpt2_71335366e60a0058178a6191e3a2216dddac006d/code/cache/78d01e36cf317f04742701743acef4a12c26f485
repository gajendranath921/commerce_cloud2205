{"code":"import { __decorate, __metadata } from \"tslib\";\r\n/*\r\n * Copyright (c) 2022 SAP SE or an SAP affiliate company. All rights reserved.\r\n */\r\nimport { PersonalizationsmarteditContextUtils, IPersonalizationsmarteditContextServiceProxy } from 'personalizationcommons';\r\nimport { SeDowngradeService, ISharedDataService } from 'smarteditcommons';\r\nimport { LoadConfigManagerService } from 'smarteditcontainer';\r\nlet /* @ngInject */ PersonalizationsmarteditContextService = class /* @ngInject */ PersonalizationsmarteditContextService {\r\n    constructor(sharedDataService, loadConfigManagerService, personalizationsmarteditContextServiceProxy, personalizationsmarteditContextUtils) {\r\n        this.sharedDataService = sharedDataService;\r\n        this.loadConfigManagerService = loadConfigManagerService;\r\n        this.personalizationsmarteditContextServiceProxy = personalizationsmarteditContextServiceProxy;\r\n        this.personalizationsmarteditContextUtils = personalizationsmarteditContextUtils;\r\n        const context = personalizationsmarteditContextUtils.getContextObject();\r\n        this.setPersonalization(context.personalization);\r\n        this.setCustomize(context.customize);\r\n        this.setCombinedView(context.combinedView);\r\n        this.setSeData(context.seData);\r\n        this.customizeFiltersState = {};\r\n    }\r\n    getPersonalization() {\r\n        return this.personalization;\r\n    }\r\n    setPersonalization(personalization) {\r\n        this.personalization = personalization;\r\n        this.personalizationsmarteditContextServiceProxy.setPersonalization(personalization);\r\n    }\r\n    getCustomize() {\r\n        return this.customize;\r\n    }\r\n    setCustomize(customize) {\r\n        this.customize = customize;\r\n        this.personalizationsmarteditContextServiceProxy.setCustomize(customize);\r\n        window.sessionStorage.setItem('Customize', JSON.stringify(customize));\r\n    }\r\n    getCombinedView() {\r\n        return this.combinedView;\r\n    }\r\n    setCombinedView(combinedView) {\r\n        this.combinedView = combinedView;\r\n        this.personalizationsmarteditContextServiceProxy.setCombinedView(combinedView);\r\n        window.sessionStorage.setItem('CombinedView', JSON.stringify(combinedView));\r\n    }\r\n    getSeData() {\r\n        return this.seData;\r\n    }\r\n    setSeData(seData) {\r\n        this.seData = seData;\r\n        this.personalizationsmarteditContextServiceProxy.setSeData(seData);\r\n    }\r\n    refreshExperienceData() {\r\n        return this.sharedDataService.get('experience').then((data) => {\r\n            const seData = this.getSeData();\r\n            seData.seExperienceData = data;\r\n            seData.pageId = data.pageId;\r\n            this.setSeData(seData);\r\n            return Promise.resolve('ok');\r\n        });\r\n    }\r\n    refreshConfigurationData() {\r\n        this.loadConfigManagerService.loadAsObject().then((configurations) => {\r\n            const seData = this.getSeData();\r\n            seData.seConfigurationData = configurations;\r\n            this.setSeData(seData);\r\n        });\r\n    }\r\n    applySynchronization() {\r\n        this.personalizationsmarteditContextServiceProxy.setPersonalization(this.personalization);\r\n        this.personalizationsmarteditContextServiceProxy.setCustomize(this.customize);\r\n        this.personalizationsmarteditContextServiceProxy.setCombinedView(this.combinedView);\r\n        this.personalizationsmarteditContextServiceProxy.setSeData(this.seData);\r\n        this.refreshExperienceData();\r\n        this.refreshConfigurationData();\r\n    }\r\n    getContexServiceProxy() {\r\n        return this.personalizationsmarteditContextServiceProxy;\r\n    }\r\n    getCustomizeFiltersState() {\r\n        return this.customizeFiltersState;\r\n    }\r\n    setCustomizeFiltersState(filters) {\r\n        this.customizeFiltersState = filters;\r\n    }\r\n};\r\n/* @ngInject */ PersonalizationsmarteditContextService = __decorate([\r\n    SeDowngradeService(),\r\n    __metadata(\"design:paramtypes\", [ISharedDataService,\r\n        LoadConfigManagerService,\r\n        IPersonalizationsmarteditContextServiceProxy,\r\n        PersonalizationsmarteditContextUtils])\r\n], /* @ngInject */ PersonalizationsmarteditContextService);\r\nexport { /* @ngInject */ PersonalizationsmarteditContextService };\r\n//# sourceMappingURL=PersonalizationsmarteditContextServiceOuter.js.map","references":["/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/personalization/personalizationsmartedit/apps/personalizationcommons/dist/index.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/dist/index.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedit/apps/smartedit-container/dist/index.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/personalization/personalizationsmartedit/apps/personalizationsmarteditcontainer/src/service/PersonalizationsmarteditContextServiceOuterProxy.ts"],"map":"{\"version\":3,\"file\":\"PersonalizationsmarteditContextServiceOuter.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/service/PersonalizationsmarteditContextServiceOuter.ts\"],\"names\":[],\"mappings\":\"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\"}","dts":{"name":"/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/personalization/personalizationsmartedit/apps/personalizationsmarteditcontainer/node_modules/.cache/rollup-plugin-typescript2/placeholder/service/PersonalizationsmarteditContextServiceOuter.d.ts","writeByteOrderMark":false,"text":"import { PersonalizationsmarteditContextUtils, Personalization, Customize, CombinedView, SeData, IPersonalizationsmarteditContextServiceProxy } from 'personalizationcommons';\r\nimport { ISharedDataService } from 'smarteditcommons';\r\nimport { LoadConfigManagerService } from 'smarteditcontainer';\r\nimport { PersonalizationsmarteditContextServiceProxy } from './PersonalizationsmarteditContextServiceOuterProxy';\r\nexport declare class PersonalizationsmarteditContextService {\r\n    protected sharedDataService: ISharedDataService;\r\n    protected loadConfigManagerService: LoadConfigManagerService;\r\n    protected personalizationsmarteditContextServiceProxy: IPersonalizationsmarteditContextServiceProxy;\r\n    protected personalizationsmarteditContextUtils: PersonalizationsmarteditContextUtils;\r\n    protected personalization: Personalization;\r\n    protected customize: Customize;\r\n    protected combinedView: CombinedView;\r\n    protected seData: SeData;\r\n    protected customizeFiltersState: any;\r\n    constructor(sharedDataService: ISharedDataService, loadConfigManagerService: LoadConfigManagerService, personalizationsmarteditContextServiceProxy: IPersonalizationsmarteditContextServiceProxy, personalizationsmarteditContextUtils: PersonalizationsmarteditContextUtils);\r\n    getPersonalization(): Personalization;\r\n    setPersonalization(personalization: Personalization): void;\r\n    getCustomize(): Customize;\r\n    setCustomize(customize: Customize): void;\r\n    getCombinedView(): CombinedView;\r\n    setCombinedView(combinedView: CombinedView): void;\r\n    getSeData(): SeData;\r\n    setSeData(seData: SeData): void;\r\n    refreshExperienceData(): any;\r\n    refreshConfigurationData(): any;\r\n    applySynchronization(): void;\r\n    getContexServiceProxy(): PersonalizationsmarteditContextServiceProxy;\r\n    getCustomizeFiltersState(): any;\r\n    setCustomizeFiltersState(filters: any): any;\r\n}\r\n"}}
