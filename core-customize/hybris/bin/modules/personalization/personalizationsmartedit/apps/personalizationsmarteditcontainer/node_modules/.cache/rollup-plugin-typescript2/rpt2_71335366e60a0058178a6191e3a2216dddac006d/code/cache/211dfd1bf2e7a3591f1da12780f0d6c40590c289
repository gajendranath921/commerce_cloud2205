{"code":"import { __decorate, __metadata } from \"tslib\";\r\nimport { Component } from '@angular/core';\r\nimport * as lodash from 'lodash';\r\nimport { PersonalizationsmarteditContextUtils, CUSTOMIZE_VIEW_TOOLBAR_ITEM_KEY } from 'personalizationcommons';\r\nimport { CrossFrameEventService, SHOW_TOOLBAR_ITEM_CONTEXT, HIDE_TOOLBAR_ITEM_CONTEXT } from 'smarteditcommons';\r\nimport { PersonalizationsmarteditContextService } from '../service/PersonalizationsmarteditContextServiceOuter';\r\nimport { PersonalizationsmarteditPreviewService } from '../service/PersonalizationsmarteditPreviewService';\r\nwindow.__smartedit__.addDecoratorPayload(\"Component\", \"CustomizeToolbarContextComponent\", {\r\n    selector: 'personalizationsmartedit-customize-toolbar-context',\r\n    template: `<div *ngIf=\"visible\" class=\"pe-toolbar-item-context\"><span class=\"sap-icon--slim-arrow-right pe-toolbar-item-context__icon\"></span><div class=\"pe-toolbar-item-context__btn\"><div class=\"pe-toolbar-item-context__btn-txt\"><div title=\"{{title}}\" class=\"perso-wrap-ellipsis pe-toolbar-item-context__btn-title\">{{title}}</div><div title=\"{{subtitle}}\" class=\"perso-wrap-ellipsis pe-toolbar-item-context__btn-subtitle\">{{subtitle}}</div></div></div><div class=\"pe-toolbar-item-context__btn-hyicon\" (click)=\"clear()\"><span class=\"sap-icon--decline\"></span></div></div>`\r\n});\r\nlet CustomizeToolbarContextComponent = class CustomizeToolbarContextComponent {\r\n    constructor(personalizationsmarteditContextService, personalizationsmarteditContextUtils, personalizationsmarteditPreviewService, crossFrameEventService) {\r\n        this.personalizationsmarteditContextService = personalizationsmarteditContextService;\r\n        this.personalizationsmarteditContextUtils = personalizationsmarteditContextUtils;\r\n        this.personalizationsmarteditPreviewService = personalizationsmarteditPreviewService;\r\n        this.crossFrameEventService = crossFrameEventService;\r\n    }\r\n    ngOnInit() {\r\n        this.selectedCustomization = lodash.cloneDeep(this.personalizationsmarteditContextService.getCustomize().selectedCustomization);\r\n        this.selectedVariations = lodash.cloneDeep(this.personalizationsmarteditContextService.getCustomize().selectedVariations);\r\n        this.visible = false;\r\n        if (this.selectedCustomization) {\r\n            this.title = this.personalizationsmarteditContextService.getCustomize().selectedCustomization.name;\r\n            this.visible = true;\r\n            if (!lodash.isArray(this.selectedVariations)) {\r\n                this.subtitle = this.selectedVariations.name;\r\n            }\r\n        }\r\n        this.oldSelectedCustomization = this.personalizationsmarteditContextService.getCustomize().selectedCustomization;\r\n        this.oldSelectedVariations = this.personalizationsmarteditContextService.getCustomize().selectedVariations;\r\n    }\r\n    ngDoCheck() {\r\n        const selectedCustomization = this.personalizationsmarteditContextService.getCustomize()\r\n            .selectedCustomization;\r\n        if (selectedCustomization && selectedCustomization !== this.oldSelectedCustomization) {\r\n            this.oldSelectedCustomization = selectedCustomization;\r\n            this.title = selectedCustomization.name;\r\n            this.visible = true;\r\n            this.crossFrameEventService.publish(SHOW_TOOLBAR_ITEM_CONTEXT, CUSTOMIZE_VIEW_TOOLBAR_ITEM_KEY);\r\n        }\r\n        else if (!selectedCustomization) {\r\n            this.visible = false;\r\n            this.crossFrameEventService.publish(HIDE_TOOLBAR_ITEM_CONTEXT, CUSTOMIZE_VIEW_TOOLBAR_ITEM_KEY);\r\n        }\r\n        const selectedVariations = this.personalizationsmarteditContextService.getCustomize()\r\n            .selectedVariations;\r\n        if (selectedVariations && selectedVariations !== this.oldSelectedVariations) {\r\n            this.oldSelectedVariations = selectedVariations;\r\n            if (!lodash.isArray(selectedVariations)) {\r\n                this.subtitle = selectedVariations.name;\r\n            }\r\n        }\r\n    }\r\n    clear() {\r\n        this.personalizationsmarteditContextUtils.clearCustomizeContextAndReloadPreview(this.personalizationsmarteditPreviewService, this.personalizationsmarteditContextService);\r\n        this.crossFrameEventService.publish(HIDE_TOOLBAR_ITEM_CONTEXT, CUSTOMIZE_VIEW_TOOLBAR_ITEM_KEY);\r\n    }\r\n};\r\nCustomizeToolbarContextComponent = __decorate([\r\n    Component({\r\n        selector: 'personalizationsmartedit-customize-toolbar-context',\r\n        template: `<div *ngIf=\"visible\" class=\"pe-toolbar-item-context\"><span class=\"sap-icon--slim-arrow-right pe-toolbar-item-context__icon\"></span><div class=\"pe-toolbar-item-context__btn\"><div class=\"pe-toolbar-item-context__btn-txt\"><div title=\"{{title}}\" class=\"perso-wrap-ellipsis pe-toolbar-item-context__btn-title\">{{title}}</div><div title=\"{{subtitle}}\" class=\"perso-wrap-ellipsis pe-toolbar-item-context__btn-subtitle\">{{subtitle}}</div></div></div><div class=\"pe-toolbar-item-context__btn-hyicon\" (click)=\"clear()\"><span class=\"sap-icon--decline\"></span></div></div>`\r\n    }),\r\n    __metadata(\"design:paramtypes\", [PersonalizationsmarteditContextService,\r\n        PersonalizationsmarteditContextUtils,\r\n        PersonalizationsmarteditPreviewService,\r\n        CrossFrameEventService])\r\n], CustomizeToolbarContextComponent);\r\nexport { CustomizeToolbarContextComponent };\r\n//# sourceMappingURL=CustomizeToolbarContextComponent.js.map","references":["/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@angular+core@8.2.14_rxjs@6.5.4+zone.js@0.9.1/node_modules/@angular/core/core.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@types+lodash@4.14.159/node_modules/@types/lodash/ts3.1/index.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/personalization/personalizationsmartedit/apps/personalizationcommons/dist/index.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/dist/index.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/personalization/personalizationsmartedit/apps/personalizationsmarteditcontainer/src/service/PersonalizationsmarteditContextServiceOuter.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/personalization/personalizationsmartedit/apps/personalizationsmarteditcontainer/src/service/PersonalizationsmarteditPreviewService.ts"],"map":"{\"version\":3,\"file\":\"CustomizeToolbarContextComponent.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/toolbarContext/CustomizeToolbarContextComponent.ts\"],\"names\":[],\"mappings\":\"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\"}","dts":{"name":"/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/personalization/personalizationsmartedit/apps/personalizationsmarteditcontainer/node_modules/.cache/rollup-plugin-typescript2/placeholder/toolbarContext/CustomizeToolbarContextComponent.d.ts","writeByteOrderMark":false,"text":"import { OnInit, DoCheck } from '@angular/core';\r\nimport { PersonalizationsmarteditContextUtils } from 'personalizationcommons';\r\nimport { CrossFrameEventService } from 'smarteditcommons';\r\nimport { PersonalizationsmarteditContextService } from '../service/PersonalizationsmarteditContextServiceOuter';\r\nimport { PersonalizationsmarteditPreviewService } from '../service/PersonalizationsmarteditPreviewService';\r\nexport declare class CustomizeToolbarContextComponent implements OnInit, DoCheck {\r\n    protected personalizationsmarteditContextService: PersonalizationsmarteditContextService;\r\n    protected personalizationsmarteditContextUtils: PersonalizationsmarteditContextUtils;\r\n    protected personalizationsmarteditPreviewService: PersonalizationsmarteditPreviewService;\r\n    protected crossFrameEventService: CrossFrameEventService;\r\n    visible: boolean;\r\n    title: string;\r\n    subtitle: string;\r\n    private selectedCustomization;\r\n    private selectedVariations;\r\n    private oldSelectedCustomization;\r\n    private oldSelectedVariations;\r\n    constructor(personalizationsmarteditContextService: PersonalizationsmarteditContextService, personalizationsmarteditContextUtils: PersonalizationsmarteditContextUtils, personalizationsmarteditPreviewService: PersonalizationsmarteditPreviewService, crossFrameEventService: CrossFrameEventService);\r\n    ngOnInit(): void;\r\n    ngDoCheck(): void;\r\n    clear(): void;\r\n}\r\n"}}
