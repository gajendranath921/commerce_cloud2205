{"code":"import { __decorate } from \"tslib\";\r\nimport { cloneDeep, isArray, isObject } from 'lodash';\r\nimport { SeDowngradeService } from 'smarteditcommons';\r\nimport { CombinedView, Customize, Personalization, SeData } from '../dtos';\r\nlet /* @ngInject */ PersonalizationsmarteditContextUtils = class /* @ngInject */ PersonalizationsmarteditContextUtils {\r\n    getContextObject() {\r\n        return {\r\n            personalization: new Personalization(),\r\n            customize: new Customize(),\r\n            combinedView: new CombinedView(),\r\n            seData: new SeData()\r\n        };\r\n    }\r\n    clearCustomizeContext(contextService) {\r\n        const customize = contextService.getCustomize();\r\n        customize.enabled = false;\r\n        customize.selectedCustomization = null;\r\n        customize.selectedVariations = null;\r\n        customize.selectedComponents = null;\r\n        contextService.setCustomize(customize);\r\n    }\r\n    clearCustomizeContextAndReloadPreview(previewService, contextService) {\r\n        const selectedVariations = cloneDeep(contextService.getCustomize().selectedVariations);\r\n        this.clearCustomizeContext(contextService);\r\n        if (isObject(selectedVariations) && !isArray(selectedVariations)) {\r\n            previewService.removePersonalizationDataFromPreview();\r\n        }\r\n    }\r\n    clearCombinedViewCustomizeContext(contextService) {\r\n        const combinedView = contextService.getCombinedView();\r\n        combinedView.customize.enabled = false;\r\n        combinedView.customize.selectedCustomization = null;\r\n        combinedView.customize.selectedVariations = null;\r\n        combinedView.customize.selectedComponents = null;\r\n        if (isArray(combinedView.selectedItems)) {\r\n            combinedView.selectedItems.forEach((item) => {\r\n                delete item.highlighted;\r\n            });\r\n        }\r\n        contextService.setCombinedView(combinedView);\r\n    }\r\n    clearCombinedViewContext(contextService) {\r\n        const combinedView = contextService.getCombinedView();\r\n        combinedView.enabled = false;\r\n        combinedView.selectedItems = null;\r\n        contextService.setCombinedView(combinedView);\r\n    }\r\n    clearCombinedViewContextAndReloadPreview(previewService, contextService) {\r\n        const cvEnabled = cloneDeep(contextService.getCombinedView().enabled);\r\n        const cvSelectedItems = cloneDeep(contextService.getCombinedView().selectedItems);\r\n        this.clearCombinedViewContext(contextService);\r\n        if (cvEnabled && cvSelectedItems) {\r\n            previewService.removePersonalizationDataFromPreview();\r\n        }\r\n    }\r\n};\r\n/* @ngInject */ PersonalizationsmarteditContextUtils = __decorate([\r\n    SeDowngradeService()\r\n], /* @ngInject */ PersonalizationsmarteditContextUtils);\r\nexport { /* @ngInject */ PersonalizationsmarteditContextUtils };\r\n//# sourceMappingURL=PersonalizationsmarteditContextUtils.js.map","references":["/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@types+lodash@4.14.159/node_modules/@types/lodash/ts3.1/index.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/dist/index.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/personalization/personalizationsmartedit/apps/personalizationcommons/src/dtos/index.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/personalization/personalizationsmartedit/apps/personalizationcommons/src/services/index.ts"],"map":"{\"version\":3,\"file\":\"PersonalizationsmarteditContextUtils.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/utils/PersonalizationsmarteditContextUtils.ts\"],\"names\":[],\"mappings\":\";AAAA,OAAO,EAAE,SAAS,EAAE,OAAO,EAAE,QAAQ,EAAE,MAAM,QAAQ,CAAC;AACtD,OAAO,EAAE,kBAAkB,EAAE,MAAM,kBAAkB,CAAC;AACtD,OAAO,EACH,YAAY,EACZ,SAAS,EAET,eAAe,EACf,MAAM,EACT,MAAM,SAAS,CAAC;AAOjB,2DAAA;IACW,gBAAgB;QACnB,OAAO;YACH,eAAe,EAAE,IAAI,eAAe,EAAE;YACtC,SAAS,EAAE,IAAI,SAAS,EAAE;YAC1B,YAAY,EAAE,IAAI,YAAY,EAAE;YAChC,MAAM,EAAE,IAAI,MAAM,EAAE;SACvB,CAAC;IACN,CAAC;IAEM,qBAAqB,CAAC,cAAuD;QAChF,MAAM,SAAS,GAAG,cAAc,CAAC,YAAY,EAAE,CAAC;QAChD,SAAS,CAAC,OAAO,GAAG,KAAK,CAAC;QAC1B,SAAS,CAAC,qBAAqB,GAAG,IAAI,CAAC;QACvC,SAAS,CAAC,kBAAkB,GAAG,IAAI,CAAC;QACpC,SAAS,CAAC,kBAAkB,GAAG,IAAI,CAAC;QACpC,cAAc,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC;IAC3C,CAAC;IAEM,qCAAqC,CACxC,cAAuD,EACvD,cAAuD;QAEvD,MAAM,kBAAkB,GAAG,SAAS,CAAC,cAAc,CAAC,YAAY,EAAE,CAAC,kBAAkB,CAAC,CAAC;QACvF,IAAI,CAAC,qBAAqB,CAAC,cAAc,CAAC,CAAC;QAC3C,IAAI,QAAQ,CAAC,kBAAkB,CAAC,IAAI,CAAC,OAAO,CAAC,kBAAkB,CAAC,EAAE;YAC9D,cAAc,CAAC,oCAAoC,EAAE,CAAC;SACzD;IACL,CAAC;IAEM,iCAAiC,CACpC,cAAuD;QAEvD,MAAM,YAAY,GAAG,cAAc,CAAC,eAAe,EAAE,CAAC;QACtD,YAAY,CAAC,SAAS,CAAC,OAAO,GAAG,KAAK,CAAC;QACvC,YAAY,CAAC,SAAS,CAAC,qBAAqB,GAAG,IAAI,CAAC;QACpD,YAAY,CAAC,SAAS,CAAC,kBAAkB,GAAG,IAAI,CAAC;QACjD,YAAY,CAAC,SAAS,CAAC,kBAAkB,GAAG,IAAI,CAAC;QACjD,IAAI,OAAO,CAAC,YAAY,CAAC,aAAa,CAAC,EAAE;YACrC,YAAY,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,IAAS,EAAE,EAAE;gBAC7C,OAAO,IAAI,CAAC,WAAW,CAAC;YAC5B,CAAC,CAAC,CAAC;SACN;QACD,cAAc,CAAC,eAAe,CAAC,YAAY,CAAC,CAAC;IACjD,CAAC;IAEM,wBAAwB,CAAC,cAAuD;QACnF,MAAM,YAAY,GAAG,cAAc,CAAC,eAAe,EAAE,CAAC;QACtD,YAAY,CAAC,OAAO,GAAG,KAAK,CAAC;QAC7B,YAAY,CAAC,aAAa,GAAG,IAAI,CAAC;QAClC,cAAc,CAAC,eAAe,CAAC,YAAY,CAAC,CAAC;IACjD,CAAC;IAEM,wCAAwC,CAC3C,cAAuD,EACvD,cAAuD;QAEvD,MAAM,SAAS,GAAG,SAAS,CAAC,cAAc,CAAC,eAAe,EAAE,CAAC,OAAO,CAAC,CAAC;QACtE,MAAM,eAAe,GAAG,SAAS,CAAC,cAAc,CAAC,eAAe,EAAE,CAAC,aAAa,CAAC,CAAC;QAClF,IAAI,CAAC,wBAAwB,CAAC,cAAc,CAAC,CAAC;QAC9C,IAAI,SAAS,IAAI,eAAe,EAAE;YAC9B,cAAc,CAAC,oCAAoC,EAAE,CAAC;SACzD;IACL,CAAC;CACJ,CAAA;AAhED;IADC,kBAAkB,EAAE;wDAiEpB\"}","dts":{"name":"/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/personalization/personalizationsmartedit/apps/personalizationcommons/node_modules/.cache/rollup-plugin-typescript2/placeholder/utils/PersonalizationsmarteditContextUtils.d.ts","writeByteOrderMark":false,"text":"import { IPersonalizationsmarteditContextObject } from '../dtos';\r\nimport { IPersonalizationsmarteditContextService, IPersonalizationsmarteditPreviewService } from '../services';\r\nexport declare class PersonalizationsmarteditContextUtils {\r\n    getContextObject(): IPersonalizationsmarteditContextObject;\r\n    clearCustomizeContext(contextService: IPersonalizationsmarteditContextService): void;\r\n    clearCustomizeContextAndReloadPreview(previewService: IPersonalizationsmarteditPreviewService, contextService: IPersonalizationsmarteditContextService): void;\r\n    clearCombinedViewCustomizeContext(contextService: IPersonalizationsmarteditContextService): void;\r\n    clearCombinedViewContext(contextService: IPersonalizationsmarteditContextService): void;\r\n    clearCombinedViewContextAndReloadPreview(previewService: IPersonalizationsmarteditPreviewService, contextService: IPersonalizationsmarteditContextService): void;\r\n}\r\n"}}
