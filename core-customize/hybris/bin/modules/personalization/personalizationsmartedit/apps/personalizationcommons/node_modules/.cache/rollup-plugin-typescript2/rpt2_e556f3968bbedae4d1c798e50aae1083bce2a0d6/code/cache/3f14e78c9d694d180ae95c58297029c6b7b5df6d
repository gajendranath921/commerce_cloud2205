{"code":"import { __decorate, __metadata, __param } from \"tslib\";\r\nimport { DOCUMENT } from '@angular/common';\r\nimport { Component, Input, Inject, ViewChild, TemplateRef, ViewContainerRef } from '@angular/core';\r\nwindow.__smartedit__.addDecoratorPayload(\"Component\", \"ScrollZoneComponent\", {\r\n    selector: 'personalizationsmartedit-scroll-zone',\r\n    template: `<ng-template #scrollZoneBody><personalizationsmartedit-scroll-zone-body-container><personalizationsmartedit-scroll-zone-body [hidden]=\"!scrollZoneTop\" [isTransparent]=\"isTransparent\" [additionalClasses]=\"['perso__scrollzone--top']\" (scrollZoneBodyMouseenter)=\"onScrollTopMouseenter()\" (scrollZoneBodyMouseleave)=\"stopScroll()\"></personalizationsmartedit-scroll-zone-body><personalizationsmartedit-scroll-zone-body [hidden]=\"!scrollZoneBottom\" [isTransparent]=\"isTransparent\" [additionalClasses]=\"['perso__scrollzone--bottom']\" (scrollZoneBodyMouseenter)=\"onScrollBottomMouseenter()\" (scrollZoneBodyMouseleave)=\"stopScroll()\"></personalizationsmartedit-scroll-zone-body></personalizationsmartedit-scroll-zone-body-container></ng-template>`\r\n});\r\nlet ScrollZoneComponent = class ScrollZoneComponent {\r\n    constructor(viewContainerRef, document) {\r\n        this.viewContainerRef = viewContainerRef;\r\n        this.document = document;\r\n        this.scrollZoneTop = false;\r\n        this.scrollZoneBottom = false;\r\n        this.scrollZoneVisible = false;\r\n        this.isTransparent = false;\r\n    }\r\n    ngAfterViewInit() {\r\n        if (this.scrollZoneVisible) {\r\n            this.createScrollZoneBody();\r\n        }\r\n    }\r\n    ngOnChanges(changes) {\r\n        const scrollZoneVisibleChange = changes.scrollZoneVisible;\r\n        if (scrollZoneVisibleChange && !scrollZoneVisibleChange.firstChange) {\r\n            if (scrollZoneVisibleChange.currentValue) {\r\n                this.createScrollZoneBody();\r\n            }\r\n            else {\r\n                this.destroyScrollZoneBody();\r\n            }\r\n        }\r\n    }\r\n    ngOnDestroy() {\r\n        this.destroyScrollZoneBody();\r\n    }\r\n    onScrollTopMouseenter() {\r\n        this.isScrolling = true;\r\n        this.scrollTop();\r\n    }\r\n    onScrollBottomMouseenter() {\r\n        this.isScrolling = true;\r\n        this.scrollBottom();\r\n    }\r\n    stopScroll() {\r\n        this.isScrolling = false;\r\n        clearTimeout(this.scrollZoneTopTimeout);\r\n        clearTimeout(this.scrollZoneBottomTimeout);\r\n    }\r\n    scrollTop() {\r\n        if (!this.isScrolling) {\r\n            clearTimeout(this.scrollZoneTopTimeout);\r\n            return;\r\n        }\r\n        this.scrollZoneTop = this.elementToScroll.scrollTop() <= 2 ? false : true;\r\n        this.scrollZoneBottom = true;\r\n        this.elementToScroll.scrollTop(this.elementToScroll.scrollTop() - 15);\r\n        this.scrollZoneTopTimeout = setTimeout(() => {\r\n            this.scrollTop();\r\n        }, 100);\r\n    }\r\n    scrollBottom() {\r\n        if (!this.isScrolling) {\r\n            clearTimeout(this.scrollZoneBottomTimeout);\r\n            return;\r\n        }\r\n        this.scrollZoneTop = true;\r\n        const heightVisibleFromTop = this.elementToScroll.get(0).scrollHeight - this.elementToScroll.scrollTop();\r\n        this.scrollZoneBottom =\r\n            Math.abs(heightVisibleFromTop - this.elementToScroll.outerHeight()) < 2 ? false : true;\r\n        this.elementToScroll.scrollTop(this.elementToScroll.scrollTop() + 15);\r\n        this.scrollZoneBottomTimeout = setTimeout(() => {\r\n            this.scrollBottom();\r\n        }, 100);\r\n    }\r\n    createScrollZoneBody() {\r\n        if (this.viewRef) {\r\n            return;\r\n        }\r\n        this.viewRef = this.viewContainerRef.createEmbeddedView(this.scrollZoneBody);\r\n        const scrollZoneBodyDom = this.viewRef.rootNodes[0];\r\n        this.document.body.appendChild(scrollZoneBodyDom);\r\n        this.scrollZoneTop = true;\r\n        this.scrollZoneBottom = true;\r\n    }\r\n    destroyScrollZoneBody() {\r\n        if (!this.viewRef) {\r\n            return;\r\n        }\r\n        this.viewRef.destroy();\r\n        this.viewRef = null;\r\n    }\r\n};\r\n__decorate([\r\n    Input(),\r\n    __metadata(\"design:type\", Boolean)\r\n], ScrollZoneComponent.prototype, \"scrollZoneVisible\", void 0);\r\n__decorate([\r\n    Input(),\r\n    __metadata(\"design:type\", Boolean)\r\n], ScrollZoneComponent.prototype, \"isTransparent\", void 0);\r\n__decorate([\r\n    Input(),\r\n    __metadata(\"design:type\", Object)\r\n], ScrollZoneComponent.prototype, \"elementToScroll\", void 0);\r\n__decorate([\r\n    ViewChild('scrollZoneBody', { static: true }),\r\n    __metadata(\"design:type\", TemplateRef)\r\n], ScrollZoneComponent.prototype, \"scrollZoneBody\", void 0);\r\nScrollZoneComponent = __decorate([\r\n    Component({\r\n        selector: 'personalizationsmartedit-scroll-zone',\r\n        template: `<ng-template #scrollZoneBody><personalizationsmartedit-scroll-zone-body-container><personalizationsmartedit-scroll-zone-body [hidden]=\"!scrollZoneTop\" [isTransparent]=\"isTransparent\" [additionalClasses]=\"['perso__scrollzone--top']\" (scrollZoneBodyMouseenter)=\"onScrollTopMouseenter()\" (scrollZoneBodyMouseleave)=\"stopScroll()\"></personalizationsmartedit-scroll-zone-body><personalizationsmartedit-scroll-zone-body [hidden]=\"!scrollZoneBottom\" [isTransparent]=\"isTransparent\" [additionalClasses]=\"['perso__scrollzone--bottom']\" (scrollZoneBodyMouseenter)=\"onScrollBottomMouseenter()\" (scrollZoneBodyMouseleave)=\"stopScroll()\"></personalizationsmartedit-scroll-zone-body></personalizationsmartedit-scroll-zone-body-container></ng-template>`\r\n    }),\r\n    __param(1, Inject(DOCUMENT)),\r\n    __metadata(\"design:paramtypes\", [ViewContainerRef,\r\n        Document])\r\n], ScrollZoneComponent);\r\nexport { ScrollZoneComponent };\r\n//# sourceMappingURL=ScrollZoneComponent.js.map","references":["/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@angular+common@8.2.14_@angular+core@8.2.14+rxjs@6.5.4/node_modules/@angular/common/common.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@angular+core@8.2.14_rxjs@6.5.4+zone.js@0.9.1/node_modules/@angular/core/core.d.ts"],"map":"{\"version\":3,\"file\":\"ScrollZoneComponent.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/scrollZone/ScrollZoneComponent.ts\"],\"names\":[],\"mappings\":\"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\"}","dts":{"name":"/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/personalization/personalizationsmartedit/apps/personalizationcommons/node_modules/.cache/rollup-plugin-typescript2/placeholder/scrollZone/ScrollZoneComponent.d.ts","writeByteOrderMark":false,"text":"/// <reference types=\"angular\" />\r\n/// <reference types=\"jquery\" />\r\n/// <reference types=\"eonasdan-bootstrap-datetimepicker\" />\r\nimport { AfterViewInit, OnDestroy, OnChanges, SimpleChanges, TemplateRef, ViewContainerRef } from '@angular/core';\r\nexport declare class ScrollZoneComponent implements AfterViewInit, OnChanges, OnDestroy {\r\n    private viewContainerRef;\r\n    private document;\r\n    scrollZoneVisible: boolean | undefined;\r\n    isTransparent: boolean;\r\n    elementToScroll: JQuery<HTMLElement>;\r\n    scrollZoneBody: TemplateRef<any>;\r\n    scrollZoneTop: boolean;\r\n    scrollZoneBottom: boolean;\r\n    private viewRef;\r\n    private isScrolling;\r\n    private scrollZoneTopTimeout;\r\n    private scrollZoneBottomTimeout;\r\n    constructor(viewContainerRef: ViewContainerRef, document: Document);\r\n    ngAfterViewInit(): void;\r\n    ngOnChanges(changes: SimpleChanges): void;\r\n    ngOnDestroy(): void;\r\n    onScrollTopMouseenter(): void;\r\n    onScrollBottomMouseenter(): void;\r\n    stopScroll(): void;\r\n    private scrollTop;\r\n    private scrollBottom;\r\n    private createScrollZoneBody;\r\n    private destroyScrollZoneBody;\r\n}\r\n"}}
