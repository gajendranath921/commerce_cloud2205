{"code":"/*\r\n * Copyright (c) 2022 SAP SE or an SAP affiliate company. All rights reserved.\r\n */\r\nexport class PersonalizationsmarteditCommerceCustomizationService {\r\n    constructor() {\r\n        this.nonCommerceActionTypes = ['cxCmsActionData'];\r\n        this.types = [];\r\n    }\r\n    isNonCommerceAction(action) {\r\n        return this.nonCommerceActionTypes.some((val) => val === action.type);\r\n    }\r\n    isCommerceAction(action) {\r\n        return !this.isNonCommerceAction(action);\r\n    }\r\n    isTypeEnabled(type, seConfigurationData) {\r\n        return (seConfigurationData !== undefined &&\r\n            seConfigurationData !== null &&\r\n            seConfigurationData[type.confProperty] === true);\r\n    }\r\n    registerType(item) {\r\n        const type = item.type;\r\n        let exists = false;\r\n        this.types.forEach((val) => {\r\n            if (val.type === type) {\r\n                exists = true;\r\n            }\r\n        });\r\n        if (!exists) {\r\n            this.types.push(item);\r\n        }\r\n    }\r\n    getAvailableTypes(seConfigurationData) {\r\n        return this.types.filter((item) => this.isTypeEnabled(item, seConfigurationData));\r\n    }\r\n    isCommerceCustomizationEnabled(seConfigurationData) {\r\n        const at = this.getAvailableTypes(seConfigurationData);\r\n        return at.length > 0;\r\n    }\r\n    getNonCommerceActionsCount(variation) {\r\n        return (variation.actions || []).filter(this.isNonCommerceAction, this).length;\r\n    }\r\n    getCommerceActionsCountMap(variation) {\r\n        const result = {};\r\n        (variation.actions || []).filter(this.isCommerceAction, this).forEach((action) => {\r\n            const typeKey = action.type.toLowerCase();\r\n            let count = result[typeKey];\r\n            if (count === undefined) {\r\n                count = 1;\r\n            }\r\n            else {\r\n                count += 1;\r\n            }\r\n            result[typeKey] = count;\r\n        });\r\n        return result;\r\n    }\r\n    getCommerceActionsCount(variation) {\r\n        return (variation.actions || []).filter(this.isCommerceAction, this).length;\r\n    }\r\n}\r\n//# sourceMappingURL=PersonalizationsmarteditCommerceCustomizationService.js.map","references":[],"map":"{\"version\":3,\"file\":\"PersonalizationsmarteditCommerceCustomizationService.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/services/PersonalizationsmarteditCommerceCustomizationService.ts\"],\"names\":[],\"mappings\":\"AAAA;;GAEG;AACH,MAAM,OAAO,oDAAoD;IAAjE;QACc,2BAAsB,GAAG,CAAC,iBAAiB,CAAC,CAAC;QAC7C,UAAK,GAAU,EAAE,CAAC;IAmEhC,CAAC;IAjEU,mBAAmB,CAAC,MAAW;QAClC,OAAO,IAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,KAAK,MAAM,CAAC,IAAI,CAAC,CAAC;IAC1E,CAAC;IAEM,gBAAgB,CAAC,MAAW;QAC/B,OAAO,CAAC,IAAI,CAAC,mBAAmB,CAAC,MAAM,CAAC,CAAC;IAC7C,CAAC;IAEM,aAAa,CAAC,IAAS,EAAE,mBAAwB;QACpD,OAAO,CACH,mBAAmB,KAAK,SAAS;YACjC,mBAAmB,KAAK,IAAI;YAC5B,mBAAmB,CAAC,IAAI,CAAC,YAAY,CAAC,KAAK,IAAI,CAClD,CAAC;IACN,CAAC;IAEM,YAAY,CAAC,IAAS;QACzB,MAAM,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;QACvB,IAAI,MAAM,GAAG,KAAK,CAAC;QAEnB,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE;YACvB,IAAI,GAAG,CAAC,IAAI,KAAK,IAAI,EAAE;gBACnB,MAAM,GAAG,IAAI,CAAC;aACjB;QACL,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,MAAM,EAAE;YACT,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SACzB;IACL,CAAC;IAEM,iBAAiB,CAAC,mBAAwB;QAC7C,OAAO,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,aAAa,CAAC,IAAI,EAAE,mBAAmB,CAAC,CAAC,CAAC;IACtF,CAAC;IAEM,8BAA8B,CAAC,mBAAwB;QAC1D,MAAM,EAAE,GAAG,IAAI,CAAC,iBAAiB,CAAC,mBAAmB,CAAC,CAAC;QACvD,OAAO,EAAE,CAAC,MAAM,GAAG,CAAC,CAAC;IACzB,CAAC;IAEM,0BAA0B,CAAC,SAAc;QAC5C,OAAO,CAAC,SAAS,CAAC,OAAO,IAAI,EAAE,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,mBAAmB,EAAE,IAAI,CAAC,CAAC,MAAM,CAAC;IACnF,CAAC;IAEM,0BAA0B,CAAC,SAAc;QAC5C,MAAM,MAAM,GAAQ,EAAE,CAAC;QAEvB,CAAC,SAAS,CAAC,OAAO,IAAI,EAAE,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,gBAAgB,EAAE,IAAI,CAAC,CAAC,OAAO,CAAC,CAAC,MAAW,EAAE,EAAE;YAClF,MAAM,OAAO,GAAG,MAAM,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC;YAE1C,IAAI,KAAK,GAAG,MAAM,CAAC,OAAO,CAAC,CAAC;YAC5B,IAAI,KAAK,KAAK,SAAS,EAAE;gBACrB,KAAK,GAAG,CAAC,CAAC;aACb;iBAAM;gBACH,KAAK,IAAI,CAAC,CAAC;aACd;YACD,MAAM,CAAC,OAAO,CAAC,GAAG,KAAK,CAAC;QAC5B,CAAC,CAAC,CAAC;QAEH,OAAO,MAAM,CAAC;IAClB,CAAC;IAEM,uBAAuB,CAAC,SAAc;QACzC,OAAO,CAAC,SAAS,CAAC,OAAO,IAAI,EAAE,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,gBAAgB,EAAE,IAAI,CAAC,CAAC,MAAM,CAAC;IAChF,CAAC;CACJ\"}","dts":{"name":"/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/personalization/personalizationsmartedit/apps/personalizationcommons/node_modules/.cache/rollup-plugin-typescript2/placeholder/services/PersonalizationsmarteditCommerceCustomizationService.d.ts","writeByteOrderMark":false,"text":"export declare class PersonalizationsmarteditCommerceCustomizationService {\r\n    protected nonCommerceActionTypes: string[];\r\n    protected types: any[];\r\n    isNonCommerceAction(action: any): any;\r\n    isCommerceAction(action: any): boolean;\r\n    isTypeEnabled(type: any, seConfigurationData: any): boolean;\r\n    registerType(item: any): void;\r\n    getAvailableTypes(seConfigurationData: any): any;\r\n    isCommerceCustomizationEnabled(seConfigurationData: any): boolean;\r\n    getNonCommerceActionsCount(variation: any): number;\r\n    getCommerceActionsCountMap(variation: any): any;\r\n    getCommerceActionsCount(variation: any): number;\r\n}\r\n"}}
