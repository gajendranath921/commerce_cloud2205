/**
 * @fileoverview added by tsickle
 * Generated from: lib/calendar/i18n/calendar-i18n.ts
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import * as tslib_1 from "tslib";
import { Inject, Injectable, LOCALE_ID, Optional } from '@angular/core';
import { FormStyle, getLocaleDayNames, getLocaleMonthNames, TranslationWidth } from '@angular/common';
import { Subject } from 'rxjs';
import * as i0 from "@angular/core";
/**
 * @param {?} locale
 * @return {?}
 */
export function CALENDAR_I18N_FACTORY(locale) {
    return new CalendarI18nDefault(locale);
}
/**
 * Abstract class which defines the behaviour calendar internationalization. See calendar examples for usage details.
 * @abstract
 */
var CalendarI18n = /** @class */ (function () {
    function CalendarI18n() {
        /**
         * This is event that should be called, when any property is changed, to let component detect an changes.
         */
        this.i18nChange = new Subject();
    }
    CalendarI18n.decorators = [
        { type: Injectable, args: [{
                    providedIn: 'root',
                    useFactory: CALENDAR_I18N_FACTORY,
                    deps: [LOCALE_ID]
                },] }
    ];
    /** @nocollapse */ CalendarI18n.ngInjectableDef = i0.ɵɵdefineInjectable({ factory: function CalendarI18n_Factory() { return CALENDAR_I18N_FACTORY(i0.ɵɵinject(i0.LOCALE_ID)); }, token: CalendarI18n, providedIn: "root" });
    return CalendarI18n;
}());
export { CalendarI18n };
if (false) {
    /**
     * This is event that should be called, when any property is changed, to let component detect an changes.
     * @type {?}
     */
    CalendarI18n.prototype.i18nChange;
    /**
     * Aria label for a specific date.
     * @abstract
     * @param {?} date Native date object to use for the label.
     * @return {?}
     */
    CalendarI18n.prototype.getDayAriaLabel = function (date) { };
    /**
     * Get all short week day names, such as Mo for Monday.
     * @abstract
     * @return {?}
     */
    CalendarI18n.prototype.getAllShortWeekdays = function () { };
    /**
     * Get all short month names, such as Nov for November.
     * @abstract
     * @return {?}
     */
    CalendarI18n.prototype.getAllShortMonthNames = function () { };
    /**
     * Get all full month names.
     * @abstract
     * @return {?}
     */
    CalendarI18n.prototype.getAllFullMonthNames = function () { };
}
/**
 * Default implementation of the CalendarI18n service. It will get dates from the application locale if it is present.
 */
var CalendarI18nDefault = /** @class */ (function (_super) {
    tslib_1.__extends(CalendarI18nDefault, _super);
    /** Constructor takes in a locale_id and gets the appropriate data from Angular. */
    function CalendarI18nDefault(locale) {
        var _this = _super.call(this) || this;
        _this.locale = locale;
        _this.weekdaysFallback = [
            'Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'
        ];
        _this.monthsFullFallback = [
            'January', 'February', 'March', 'April', 'May', 'June', 'July',
            'August', 'September', 'October', 'November', 'December'
        ];
        _this.monthsShortFallback = [
            'Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul',
            'Aug', 'Sep', 'Oct', 'Nov', 'Dec'
        ];
        if (locale) {
            /** @type {?} */
            var sundayStartWeekdays_1 = getLocaleDayNames(locale, FormStyle.Standalone, TranslationWidth.Short);
            _this.weekdaysShort = sundayStartWeekdays_1.map((/**
             * @param {?} day
             * @param {?} index
             * @return {?}
             */
            function (day, index) { return sundayStartWeekdays_1[index % 7]; }));
            _this.monthsShort = getLocaleMonthNames(locale, FormStyle.Standalone, TranslationWidth.Abbreviated);
            _this.monthsFull = getLocaleMonthNames(locale, FormStyle.Standalone, TranslationWidth.Wide);
        }
        _this.checkForFallback();
        return _this;
    }
    /**
     * Aria label for a specific date. Default implementation produces the label: {Date} {Month} {Year}.
     *
     * @param date Native date object to use for the label.
     */
    /**
     * Aria label for a specific date. Default implementation produces the label: {Date} {Month} {Year}.
     *
     * @param {?} date Native date object to use for the label.
     * @return {?}
     */
    CalendarI18nDefault.prototype.getDayAriaLabel = /**
     * Aria label for a specific date. Default implementation produces the label: {Date} {Month} {Year}.
     *
     * @param {?} date Native date object to use for the label.
     * @return {?}
     */
    function (date) {
        return date.getDate() + ' ' + this.monthsFull[date.getMonth()] + ' ' + date.getFullYear();
    };
    /** Get all full month names. */
    /**
     * Get all full month names.
     * @return {?}
     */
    CalendarI18nDefault.prototype.getAllFullMonthNames = /**
     * Get all full month names.
     * @return {?}
     */
    function () {
        return this.monthsFull;
    };
    /** Get all short month names, such as Nov for November. */
    /**
     * Get all short month names, such as Nov for November.
     * @return {?}
     */
    CalendarI18nDefault.prototype.getAllShortMonthNames = /**
     * Get all short month names, such as Nov for November.
     * @return {?}
     */
    function () {
        return this.monthsShort;
    };
    /** Get all short week day names, such as Mo for Monday. */
    /**
     * Get all short week day names, such as Mo for Monday.
     * @return {?}
     */
    CalendarI18nDefault.prototype.getAllShortWeekdays = /**
     * Get all short week day names, such as Mo for Monday.
     * @return {?}
     */
    function () {
        return this.weekdaysShort;
    };
    /** Checks if a fallback is needed. Older versions of Angular may need this. */
    /**
     * Checks if a fallback is needed. Older versions of Angular may need this.
     * @private
     * @return {?}
     */
    CalendarI18nDefault.prototype.checkForFallback = /**
     * Checks if a fallback is needed. Older versions of Angular may need this.
     * @private
     * @return {?}
     */
    function () {
        if (!this.weekdaysShort || this.weekdaysShort.length === 0) {
            this.weekdaysShort = this.weekdaysFallback;
        }
        if (!this.monthsShort || this.monthsShort.length === 0) {
            this.monthsShort = this.monthsShortFallback;
        }
        if (!this.monthsFull || this.monthsFull.length === 0) {
            this.monthsFull = this.monthsFullFallback;
        }
    };
    CalendarI18nDefault.decorators = [
        { type: Injectable }
    ];
    /** @nocollapse */
    CalendarI18nDefault.ctorParameters = function () { return [
        { type: String, decorators: [{ type: Optional }, { type: Inject, args: [LOCALE_ID,] }] }
    ]; };
    return CalendarI18nDefault;
}(CalendarI18n));
export { CalendarI18nDefault };
if (false) {
    /**
     * @type {?}
     * @private
     */
    CalendarI18nDefault.prototype.weekdaysShort;
    /**
     * @type {?}
     * @private
     */
    CalendarI18nDefault.prototype.monthsShort;
    /**
     * @type {?}
     * @private
     */
    CalendarI18nDefault.prototype.monthsFull;
    /**
     * @type {?}
     * @private
     */
    CalendarI18nDefault.prototype.weekdaysFallback;
    /**
     * @type {?}
     * @private
     */
    CalendarI18nDefault.prototype.monthsFullFallback;
    /**
     * @type {?}
     * @private
     */
    CalendarI18nDefault.prototype.monthsShortFallback;
    /**
     * @type {?}
     * @private
     */
    CalendarI18nDefault.prototype.locale;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2FsZW5kYXItaTE4bi5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BmdW5kYW1lbnRhbC1uZ3gvY29yZS8iLCJzb3VyY2VzIjpbImxpYi9jYWxlbmRhci9pMThuL2NhbGVuZGFyLWkxOG4udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsT0FBTyxFQUFFLE1BQU0sRUFBRSxVQUFVLEVBQUUsU0FBUyxFQUFFLFFBQVEsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUN4RSxPQUFPLEVBQUUsU0FBUyxFQUFFLGlCQUFpQixFQUFFLG1CQUFtQixFQUFFLGdCQUFnQixFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDdEcsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLE1BQU0sQ0FBQzs7Ozs7O0FBRS9CLE1BQU0sVUFBVSxxQkFBcUIsQ0FBQyxNQUFNO0lBQ3hDLE9BQU8sSUFBSSxtQkFBbUIsQ0FBQyxNQUFNLENBQUMsQ0FBQztBQUMzQyxDQUFDOzs7OztBQUtEO0lBQUE7Ozs7UUFRb0IsZUFBVSxHQUFrQixJQUFJLE9BQU8sRUFBUSxDQUFDO0tBa0JuRTs7Z0JBMUJBLFVBQVUsU0FBQztvQkFDUixVQUFVLEVBQUUsTUFBTTtvQkFDbEIsVUFBVSxFQUFFLHFCQUFxQjtvQkFDakMsSUFBSSxFQUFFLENBQUMsU0FBUyxDQUFDO2lCQUNwQjs7O3VCQWZEO0NBcUNDLEFBMUJELElBMEJDO1NBckJxQixZQUFZOzs7Ozs7SUFHOUIsa0NBQWdFOzs7Ozs7O0lBTWhFLDZEQUE2Qzs7Ozs7O0lBRzdDLDZEQUF5Qzs7Ozs7O0lBR3pDLCtEQUEyQzs7Ozs7O0lBRzNDLDhEQUEwQzs7Ozs7QUFROUM7SUFDeUMsK0NBQVk7SUFvQmpELG1GQUFtRjtJQUNuRiw2QkFBbUQsTUFBYztRQUFqRSxZQUNJLGlCQUFPLFNBU1Y7UUFWa0QsWUFBTSxHQUFOLE1BQU0sQ0FBUTtRQWZ6RCxzQkFBZ0IsR0FBYTtZQUNqQyxRQUFRLEVBQUUsUUFBUSxFQUFFLFNBQVMsRUFBRSxXQUFXLEVBQUUs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QWdDOzs7OztJQUNoQywwQ0FBOEI7Ozs7O0lBQzlCLHlDQUE2Qjs7Ozs7SUFFN0IsK0NBRUU7Ozs7O0lBRUYsaURBR0U7Ozs7O0lBRUYsa0RBR0U7Ozs7O0lBR1UscUNBQXFEIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5qZWN0LCBJbmplY3RhYmxlLCBMT0NBTEVfSUQsIE9wdGlvbmFsIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBGb3JtU3R5bGUsIGdldExvY2FsZURheU5hbWVzLCBnZXRMb2NhbGVNb250aE5hbWVzLCBUcmFuc2xhdGlvbldpZHRoIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcbmltcG9ydCB7IFN1YmplY3QgfSBmcm9tICdyeGpzJztcblxuZXhwb3J0IGZ1bmN0aW9uIENBTEVOREFSX0kxOE5fRkFDVE9SWShsb2NhbGUpIHtcbiAgICByZXR1cm4gbmV3IENhbGVuZGFySTE4bkRlZmF1bHQobG9jYWxlKTtcbn1cblxuLyoqXG4gKiBBYnN0cmFjdCBjbGFzcyB3aGljaCBkZWZpbmVzIHRoZSBiZWhhdmlvdXIgY2FsZW5kYXIgaW50ZXJuYXRpb25hbGl6YXRpb24uIFNlZSBjYWxlbmRhciBleGFtcGxlcyBmb3IgdXNhZ2UgZGV0YWlscy5cbiAqL1xuQEluamVjdGFibGUoe1xuICAgIHByb3ZpZGVkSW46ICdyb290JyxcbiAgICB1c2VGYWN0b3J5OiBDQUxFTkRBUl9JMThOX0ZBQ1RPUlksXG4gICAgZGVwczogW0xPQ0FMRV9JRF1cbn0pXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQ2FsZW5kYXJJMThuIHtcblxuICAgIC8qKiBUaGlzIGlzIGV2ZW50IHRoYXQgc2hvdWxkIGJlIGNhbGxlZCwgd2hlbiBhbnkgcHJvcGVydHkgaXMgY2hhbmdlZCwgdG8gbGV0IGNvbXBvbmVudCBkZXRlY3QgYW4gY2hhbmdlcy4gKi9cbiAgICBwdWJsaWMgcmVhZG9ubHkgaTE4bkNoYW5nZTogU3ViamVjdDx2b2lkPiA9IG5ldyBTdWJqZWN0PHZvaWQ+KCk7XG5cbiAgICAvKipcbiAgICAgKiBBcmlhIGxhYmVsIGZvciBhIHNwZWNpZmljIGRhdGUuXG4gICAgICogQHBhcmFtIGRhdGUgTmF0aXZlIGRhdGUgb2JqZWN0IHRvIHVzZSBmb3IgdGhlIGxhYmVsLlxuICAgICAqL1xuICAgIGFic3RyYWN0IGdldERheUFyaWFMYWJlbChkYXRlOiBEYXRlKTogc3RyaW5nO1xuXG4gICAgLyoqIEdldCBhbGwgc2hvcnQgd2VlayBkYXkgbmFtZXMsIHN1Y2ggYXMgTW8gZm9yIE1vbmRheS4gKi9cbiAgICBhYnN0cmFjdCBnZXRBbGxTaG9ydFdlZWtkYXlzKCk6IHN0cmluZ1tdO1xuXG4gICAgLyoqIEdldCBhbGwgc2hvcnQgbW9udGggbmFtZXMsIHN1Y2ggYXMgTm92IGZvciBOb3ZlbWJlci4gKi9cbiAgICBhYnN0cmFjdCBnZXRBbGxTaG9ydE1vbnRoTmFtZXMoKTogc3RyaW5nW107XG5cbiAgICAvKiogR2V0IGFsbCBmdWxsIG1vbnRoIG5hbWVzLiAqL1xuICAgIGFic3RyYWN0IGdldEFsbEZ1bGxNb250aE5hbWVzKCk6IHN0cmluZ1tdO1xuXG4gICAgLyoqICAqL1xufVxuXG4vKipcbiAqIERlZmF1bHQgaW1wbGVtZW50YXRpb24gb2YgdGhlIENhbGVuZGFySTE4biBzZXJ2aWNlLiBJdCB3aWxsIGdldCBkYXRlcyBmcm9tIHRoZSBhcHBsaWNhdGlvbiBsb2NhbGUgaWYgaXQgaXMgcHJlc2VudC5cbiAqL1xuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIENhbGVuZGFySTE4bkRlZmF1bHQgZXh0ZW5kcyBDYWxlbmRhckkxOG4ge1xuXG4gICAgcHJpdmF0ZSB3ZWVrZGF5c1Nob3J0OiBzdHJpbmdbXTtcbiAgICBwcml2YXRlIG1vbnRoc1Nob3J0OiBzdHJpbmdbXTtcbiAgICBwcml2YXRlIG1vbnRoc0Z1bGw6IHN0cmluZ1tdO1xuXG4gICAgcHJpdmF0ZSB3ZWVrZGF5c0ZhbGxiYWNrOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgJ1N1bmRheScsICdNb25kYXknLCAnVHVlc2RheScsICdXZWRuZXNkYXknLCAnVGh1cnNkYXknLCAnRnJpZGF5JywgJ1NhdHVyZGF5J1xuICAgIF07XG5cbiAgICBwcml2YXRlIG1vbnRoc0Z1bGxGYWxsYmFjazogc3RyaW5nW10gPSBbXG4gICAgICAgICdKYW51YXJ5JywgJ0ZlYnJ1YXJ5JywgJ01hcmNoJywgJ0FwcmlsJywgJ01heScsICdKdW5lJywgJ0p1bHknLFxuICAgICAgICAnQXVndXN0JywgJ1NlcHRlbWJlcicsICdPY3RvYmVyJywgJ05vdmVtYmVyJywgJ0RlY2VtYmVyJ1xuICAgIF07XG5cbiAgICBwcml2YXRlIG1vbnRoc1Nob3J0RmFsbGJhY2s6IHN0cmluZ1tdID0gW1xuICAgICAgICAnSmFuJywgJ0ZlYicsICdNYXInLCAnQXByJywgJ01heScsICdKdW4nLCAnSnVsJyxcbiAgICAgICAgJ0F1ZycsICdTZXAnLCAnT2N0JywgJ05vdicsICdEZWMnXG4gICAgXTtcblxuICAgIC8qKiBDb25zdHJ1Y3RvciB0YWtlcyBpbiBhIGxvY2FsZV9pZCBhbmQgZ2V0cyB0aGUgYXBwcm9wcmlhdGUgZGF0YSBmcm9tIEFuZ3VsYXIuICovXG4gICAgY29uc3RydWN0b3IoQE9wdGlvbmFsKCkgQEluamVjdChMT0NBTEVfSUQpIHByaXZhdGUgbG9jYWxlOiBzdHJpbmcpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgaWYgKGxvY2FsZSkge1xuICAgICAgICAgICAgY29uc3Qgc3VuZGF5U3RhcnRXZWVrZGF5cyA9IGdldExvY2FsZURheU5hbWVzKGxvY2FsZSwgRm9ybVN0eWxlLlN0YW5kYWxvbmUsIFRyYW5zbGF0aW9uV2lkdGguU2hvcnQpO1xuICAgICAgICAgICAgdGhpcy53ZWVrZGF5c1Nob3J0ID0gc3VuZGF5U3RhcnRXZWVrZGF5cy5tYXAoKGRheSwgaW5kZXgpID0+IHN1bmRheVN0YXJ0V2Vla2RheXNbaW5kZXggJSA3XSk7XG4gICAgICAgICAgICB0aGlzLm1vbnRoc1Nob3J0ID0gZ2V0TG9jYWxlTW9udGhOYW1lcyhsb2NhbGUsIEZvcm1TdHlsZS5TdGFuZGFsb25lLCBUcmFuc2xhdGlvbldpZHRoLkFiYnJldmlhdGVkKTtcbiAgICAgICAgICAgIHRoaXMubW9udGhzRnVsbCA9IGdldExvY2FsZU1vbnRoTmFtZXMobG9jYWxlLCBGb3JtU3R5bGUuU3RhbmRhbG9uZSwgVHJhbnNsYXRpb25XaWR0aC5XaWRlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY2hlY2tGb3JGYWxsYmFjaygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFyaWEgbGFiZWwgZm9yIGEgc3BlY2lmaWMgZGF0ZS4gRGVmYXVsdCBpbXBsZW1lbnRhdGlvbiBwcm9kdWNlcyB0aGUgbGFiZWw6IHtEYXRlfSB7TW9udGh9IHtZZWFyfS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBkYXRlIE5hdGl2ZSBkYXRlIG9iamVjdCB0byB1c2UgZm9yIHRoZSBsYWJlbC5cbiAgICAgKi9cbiAgICBnZXREYXlBcmlhTGFiZWwoZGF0ZTogRGF0ZSk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBkYXRlLmdldERhdGUoKSArICcgJyArIHRoaXMubW9udGhzRnVsbFtkYXRlLmdldE1vbnRoKCldICsgJyAnICsgZGF0ZS5nZXRGdWxsWWVhcigpO1xuICAgIH1cblxuICAgIC8qKiBHZXQgYWxsIGZ1bGwgbW9udGggbmFtZXMuICovXG4gICAgZ2V0QWxsRnVsbE1vbnRoTmFtZXMoKTogc3RyaW5nW10ge1xuICAgICAgICByZXR1cm4gdGhpcy5tb250aHNGdWxsO1xuICAgIH1cblxuICAgIC8qKiBHZXQgYWxsIHNob3J0IG1vbnRoIG5hbWVzLCBzdWNoIGFzIE5vdiBmb3IgTm92ZW1iZXIuICovXG4gICAgZ2V0QWxsU2hvcnRNb250aE5hbWVzKCk6IHN0cmluZ1tdIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubW9udGhzU2hvcnQ7XG4gICAgfVxuXG4gICAgLyoqIEdldCBhbGwgc2hvcnQgd2VlayBkYXkgbmFtZXMsIHN1Y2ggYXMgTW8gZm9yIE1vbmRheS4gKi9cbiAgICBnZXRBbGxTaG9ydFdlZWtkYXlzKCk6IHN0cmluZ1tdIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2Vla2RheXNTaG9ydDtcbiAgICB9XG5cbiAgICAvKiogQ2hlY2tzIGlmIGEgZmFsbGJhY2sgaXMgbmVlZGVkLiBPbGRlciB2ZXJzaW9ucyBvZiBBbmd1bGFyIG1heSBuZWVkIHRoaXMuICovXG4gICAgcHJpdmF0ZSBjaGVja0ZvckZhbGxiYWNrKCk6IHZvaWQge1xuICAgICAgICBpZiAoIXRoaXMud2Vla2RheXNTaG9ydCB8fCB0aGlzLndlZWtkYXlzU2hvcnQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLndlZWtkYXlzU2hvcnQgPSB0aGlzLndlZWtkYXlzRmFsbGJhY2s7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMubW9udGhzU2hvcnQgfHwgdGhpcy5tb250aHNTaG9ydC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMubW9udGhzU2hvcnQgPSB0aGlzLm1vbnRoc1Nob3J0RmFsbGJhY2s7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMubW9udGhzRnVsbCB8fCB0aGlzLm1vbnRoc0Z1bGwubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLm1vbnRoc0Z1bGwgPSB0aGlzLm1vbnRoc0Z1bGxGYWxsYmFjaztcbiAgICAgICAgfVxuICAgIH1cblxufVxuIl19