{"code":"import { __decorate, __metadata } from \"tslib\";\r\n/*\r\n * Copyright (c) 2022 SAP SE or an SAP affiliate company. All rights reserved.\r\n */\r\nimport { Component, ElementRef, Injector } from '@angular/core';\r\nimport { UpgradeModule } from '@angular/upgrade/static';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { registerCustomComponents, AngularJSBootstrapIndicatorService, SMARTEDITCONTAINER_COMPONENT_NAME, SMARTEDITLOADER_COMPONENT_NAME } from 'smarteditcommons';\r\nimport { Smarteditcontainer } from 'smarteditcontainer/legacySmarteditcontainer';\r\nconst LEGACY_APP_NAME = 'legacyApp';\r\nwindow.__smartedit__.addDecoratorPayload(\"Component\", \"SmarteditcontainerComponent\", {\r\n    selector: SMARTEDITCONTAINER_COMPONENT_NAME,\r\n    template: `\n        <router-outlet></router-outlet>\n        <div ng-attr-id=\"${LEGACY_APP_NAME}\">\n            <se-announcement-board></se-announcement-board>\n            <se-notification-panel></se-notification-panel>\n            <div ng-view></div>\n        </div>\n    `\r\n});\r\nlet SmarteditcontainerComponent = class SmarteditcontainerComponent {\r\n    constructor(translateService, injector, upgrade, elementRef, bootstrapIndicator) {\r\n        this.translateService = translateService;\r\n        this.upgrade = upgrade;\r\n        this.elementRef = elementRef;\r\n        this.bootstrapIndicator = bootstrapIndicator;\r\n        this.legacyAppName = LEGACY_APP_NAME;\r\n        this.legacyAppName = LEGACY_APP_NAME;\r\n        this.setApplicationTitle();\r\n        registerCustomComponents(injector);\r\n    }\r\n    ngOnInit() {\r\n        /*\r\n         * for e2e purposes:\r\n         * in e2e, we sometimes add some test code in the parent frame to be added to the runtime\r\n         * since we only bootstrap within smarteditcontainer-component node,\r\n         * this code will be ignored unless added into the component before legacy AnguylarJS bootstrapping\r\n         */\r\n        Array.prototype.slice\r\n            .call(document.body.childNodes)\r\n            .filter((childNode) => !this.isAppComponent(childNode) && !this.isSmarteditLoader(childNode))\r\n            .forEach((childNode) => {\r\n            this.legacyAppNode.appendChild(childNode);\r\n        });\r\n    }\r\n    ngAfterViewInit() {\r\n        this.upgrade.bootstrap(this.legacyAppNode, [Smarteditcontainer.moduleName], { strictDi: false });\r\n        this.bootstrapIndicator.setSmarteditContainerReady();\r\n    }\r\n    setApplicationTitle() {\r\n        this.translateService.get('se.application.name').subscribe((pageTitle) => {\r\n            document.title = pageTitle;\r\n        });\r\n    }\r\n    get legacyAppNode() {\r\n        // return this.elementRef.nativeElement.querySelector(`#${this.legacyAppName}`);\r\n        return this.elementRef.nativeElement.querySelector(`div[ng-attr-id=\"${this.legacyAppName}\"]`);\r\n    }\r\n    isAppComponent(childNode) {\r\n        return (childNode.nodeType === Node.ELEMENT_NODE &&\r\n            childNode.tagName === SMARTEDITCONTAINER_COMPONENT_NAME.toUpperCase());\r\n    }\r\n    isSmarteditLoader(childNode) {\r\n        return (childNode.nodeType === Node.ELEMENT_NODE &&\r\n            (childNode.id === 'smarteditloader' ||\r\n                childNode.tagName === SMARTEDITLOADER_COMPONENT_NAME.toUpperCase()));\r\n    }\r\n};\r\nSmarteditcontainerComponent = __decorate([\r\n    Component({\r\n        selector: SMARTEDITCONTAINER_COMPONENT_NAME,\r\n        template: `\n        <router-outlet></router-outlet>\n        <div ng-attr-id=\"${LEGACY_APP_NAME}\">\n            <se-announcement-board></se-announcement-board>\n            <se-notification-panel></se-notification-panel>\n            <div ng-view></div>\n        </div>\n    `\r\n    }),\r\n    __metadata(\"design:paramtypes\", [TranslateService,\r\n        Injector,\r\n        UpgradeModule,\r\n        ElementRef,\r\n        AngularJSBootstrapIndicatorService])\r\n], SmarteditcontainerComponent);\r\nexport { SmarteditcontainerComponent };\r\n//# sourceMappingURL=SmarteditcontainerComponent.js.map","references":["/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@angular+core@8.2.14_rxjs@6.5.4+zone.js@0.9.1/node_modules/@angular/core/core.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@angular+upgrade@8.2.14_d2ff5303d1bb22207cb4aaa9bb380a83/node_modules/@angular/upgrade/static.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@ngx-translate+core@11.0.1_@angular+core@8.2.14+rxjs@6.5.4/node_modules/@ngx-translate/core/ngx-translate-core.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/dist/index.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedit/apps/smartedit-container/src/legacySmarteditcontainer.ts"],"map":"{\"version\":3,\"file\":\"SmarteditcontainerComponent.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../src/components/ng/SmarteditcontainerComponent.ts\"],\"names\":[],\"mappings\":\"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\"}","dts":{"name":"/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedit/apps/smartedit-container/node_modules/.cache/rollup-plugin-typescript2/placeholder/components/ng/SmarteditcontainerComponent.d.ts","writeByteOrderMark":false,"text":"import { ElementRef, Injector } from '@angular/core';\r\nimport { UpgradeModule } from '@angular/upgrade/static';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { AngularJSBootstrapIndicatorService } from 'smarteditcommons';\r\nexport declare class SmarteditcontainerComponent {\r\n    private translateService;\r\n    upgrade: UpgradeModule;\r\n    private elementRef;\r\n    private bootstrapIndicator;\r\n    legacyAppName: string;\r\n    constructor(translateService: TranslateService, injector: Injector, upgrade: UpgradeModule, elementRef: ElementRef, bootstrapIndicator: AngularJSBootstrapIndicatorService);\r\n    ngOnInit(): void;\r\n    ngAfterViewInit(): void;\r\n    private setApplicationTitle;\r\n    private get legacyAppNode();\r\n    private isAppComponent;\r\n    private isSmarteditLoader;\r\n}\r\n"}}
