{"code":"import { __decorate, __metadata } from \"tslib\";\r\n/*\r\n * Copyright (c) 2022 SAP SE or an SAP affiliate company. All rights reserved.\r\n */\r\nimport { IPermissionService, ISharedDataService, SeDowngradeService, EXPERIENCE_STORAGE_KEY } from 'smarteditcommons';\r\n/** @internal */\r\nlet /* @ngInject */ PermissionsRegistrationService = class /* @ngInject */ PermissionsRegistrationService {\r\n    constructor(permissionService, sharedDataService) {\r\n        this.permissionService = permissionService;\r\n        this.sharedDataService = sharedDataService;\r\n    }\r\n    /**\r\n     * Method containing registrations of rules and permissions to be used in smartedit workspace\r\n     */\r\n    registerRulesAndPermissions() {\r\n        // Rules\r\n        this.permissionService.registerRule({\r\n            names: ['se.slot.belongs.to.page'],\r\n            verify: (permissionObjects) => this.sharedDataService\r\n                .get(EXPERIENCE_STORAGE_KEY)\r\n                .then((experience) => experience.pageContext &&\r\n                experience.pageContext.catalogVersionUuid ===\r\n                    permissionObjects[0].context.slotCatalogVersionUuid)\r\n        });\r\n        // Permissions\r\n        this.permissionService.registerPermission({\r\n            aliases: ['se.slot.not.external'],\r\n            rules: ['se.slot.belongs.to.page']\r\n        });\r\n    }\r\n};\r\n/* @ngInject */ PermissionsRegistrationService = __decorate([\r\n    SeDowngradeService(),\r\n    __metadata(\"design:paramtypes\", [IPermissionService,\r\n        ISharedDataService])\r\n], /* @ngInject */ PermissionsRegistrationService);\r\nexport { /* @ngInject */ PermissionsRegistrationService };\r\n//# sourceMappingURL=PermissionsRegistrationService.js.map","references":["/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/dist/index.d.ts"],"map":"{\"version\":3,\"file\":\"PermissionsRegistrationService.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/services/PermissionsRegistrationService.ts\"],\"names\":[],\"mappings\":\";AAAA;;GAEG;AACH,OAAO,EAEH,kBAAkB,EAClB,kBAAkB,EAElB,kBAAkB,EAClB,sBAAsB,EACzB,MAAM,kBAAkB,CAAC;AAE1B,gBAAgB;AAEhB,qDAAA;IACI,YACY,iBAAqC,EACrC,iBAAqC;QADrC,sBAAiB,GAAjB,iBAAiB,CAAoB;QACrC,sBAAiB,GAAjB,iBAAiB,CAAoB;IAC9C,CAAC;IAEJ;;OAEG;IACI,2BAA2B;QAC9B,QAAQ;QACR,IAAI,CAAC,iBAAiB,CAAC,YAAY,CAAC;YAChC,KAAK,EAAE,CAAC,yBAAyB,CAAC;YAClC,MAAM,EAAE,CAAC,iBAAsC,EAAE,EAAE,CAC/C,IAAI,CAAC,iBAAiB;iBACjB,GAAG,CAAC,sBAAsB,CAAC;iBAC3B,IAAI,CACD,CAAC,UAAuB,EAAE,EAAE,CACxB,UAAU,CAAC,WAAW;gBACtB,UAAU,CAAC,WAAW,CAAC,kBAAkB;oBACrC,iBAAiB,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,sBAAsB,CAC9D;SACZ,CAAC,CAAC;QAEH,cAAc;QACd,IAAI,CAAC,iBAAiB,CAAC,kBAAkB,CAAC;YACtC,OAAO,EAAE,CAAC,sBAAsB,CAAC;YACjC,KAAK,EAAE,CAAC,yBAAyB,CAAC;SACrC,CAAC,CAAC;IACP,CAAC;CACJ,CAAA;AA9BD;IADC,kBAAkB,EAAE;qCAGc,kBAAkB;QAClB,kBAAkB;kDA2BpD\"}","dts":{"name":"/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedit/apps/smartedit-container/node_modules/.cache/rollup-plugin-typescript2/placeholder/services/PermissionsRegistrationService.d.ts","writeByteOrderMark":false,"text":"import { IPermissionService, ISharedDataService } from 'smarteditcommons';\r\n/** @internal */\r\nexport declare class PermissionsRegistrationService {\r\n    private permissionService;\r\n    private sharedDataService;\r\n    constructor(permissionService: IPermissionService, sharedDataService: ISharedDataService);\r\n    /**\r\n     * Method containing registrations of rules and permissions to be used in smartedit workspace\r\n     */\r\n    registerRulesAndPermissions(): void;\r\n}\r\n"}}
