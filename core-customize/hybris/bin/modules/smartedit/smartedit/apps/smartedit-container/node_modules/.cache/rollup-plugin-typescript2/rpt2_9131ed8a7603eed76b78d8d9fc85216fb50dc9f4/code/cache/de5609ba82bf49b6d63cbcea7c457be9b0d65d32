{"code":"import { __decorate, __metadata } from \"tslib\";\r\n/*\r\n * Copyright (c) 2022 SAP SE or an SAP affiliate company. All rights reserved.\r\n */\r\nimport { CloneableUtils, GatewayProxied, IFeatureService, IToolbarServiceFactory, SeDowngradeService } from 'smarteditcommons';\r\n/** @internal */\r\nlet /* @ngInject */ FeatureService = class /* @ngInject */ FeatureService extends IFeatureService {\r\n    constructor(toolbarServiceFactory, cloneableUtils) {\r\n        super(cloneableUtils);\r\n        this.toolbarServiceFactory = toolbarServiceFactory;\r\n        this.features = [];\r\n    }\r\n    getFeatureProperty(featureKey, propertyName) {\r\n        const feature = this._getFeatureByKey(featureKey);\r\n        return Promise.resolve(feature ? feature[propertyName] : null);\r\n    }\r\n    getFeatureKeys() {\r\n        return this.features.map((feature) => feature.key);\r\n    }\r\n    addToolbarItem(configuration) {\r\n        const toolbar = this.toolbarServiceFactory.getToolbarService(configuration.toolbarId);\r\n        configuration.enablingCallback = function () {\r\n            this.addItems([configuration]);\r\n        }.bind(toolbar);\r\n        configuration.disablingCallback = function () {\r\n            this.removeItemByKey(configuration.key);\r\n        }.bind(toolbar);\r\n        return this.register(configuration);\r\n    }\r\n    _registerAliases(configuration) {\r\n        const feature = this._getFeatureByKey(configuration.key);\r\n        if (!feature) {\r\n            configuration.id = btoa(configuration.key);\r\n            this.features.push(configuration);\r\n        }\r\n        return Promise.resolve();\r\n    }\r\n    _getFeatureByKey(key) {\r\n        return this.features.find((feature) => feature.key === key);\r\n    }\r\n};\r\n/* @ngInject */ FeatureService = __decorate([\r\n    SeDowngradeService(IFeatureService),\r\n    GatewayProxied('_registerAliases', 'addToolbarItem', 'register', 'enable', 'disable', '_remoteEnablingFromInner', '_remoteDisablingFromInner', 'addDecorator', 'getFeatureProperty', 'addContextualMenuButton'),\r\n    __metadata(\"design:paramtypes\", [IToolbarServiceFactory,\r\n        CloneableUtils])\r\n], /* @ngInject */ FeatureService);\r\nexport { /* @ngInject */ FeatureService };\r\n//# sourceMappingURL=FeatureServiceOuter.js.map","references":["/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/dist/index.d.ts"],"map":"{\"version\":3,\"file\":\"FeatureServiceOuter.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../src/services/perspectives/FeatureServiceOuter.ts\"],\"names\":[],\"mappings\":\";AAAA;;GAEG;AACH,OAAO,EACH,cAAc,EACd,cAAc,EAEd,eAAe,EAEf,sBAAsB,EACtB,kBAAkB,EACrB,MAAM,kBAAkB,CAAC;AAE1B,gBAAgB;AAchB,qCAAA,oCAA4B,SAAQ,eAAe;IAG/C,YACY,qBAA6C,EACrD,cAA8B;QAE9B,KAAK,CAAC,cAAc,CAAC,CAAC;QAHd,0BAAqB,GAArB,qBAAqB,CAAwB;QAIrD,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;IACvB,CAAC;IAED,kBAAkB,CACd,UAAkB,EAClB,YAAmC;QAEnC,MAAM,OAAO,GAAG,IAAI,CAAC,gBAAgB,CAAC,UAAU,CAAC,CAAC;QAClD,OAAO,OAAO,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;IACnE,CAAC;IAED,cAAc;QACV,OAAO,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,OAAO,EAAE,EAAE,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;IACvD,CAAC;IAED,cAAc,CAAC,aAA2B;QACtC,MAAM,OAAO,GAAG,IAAI,CAAC,qBAAqB,CAAC,iBAAiB,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;QACtF,aAAa,CAAC,gBAAgB,GAAG;YAC7B,IAAI,CAAC,QAAQ,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC;QACnC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAEhB,aAAa,CAAC,iBAAiB,GAAG;YAC9B,IAAI,CAAC,eAAe,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;QAC5C,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAEhB,OAAO,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC;IACxC,CAAC;IAES,gBAAgB,CAAC,aAA8B;QACrD,MAAM,OAAO,GAAG,IAAI,CAAC,gBAAgB,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;QACzD,IAAI,CAAC,OAAO,EAAE;YACT,aAAqB,CAAC,EAAE,GAAG,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;YACpD,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;SACrC;QACD,OAAO,OAAO,CAAC,OAAO,EAAE,CAAC;IAC7B,CAAC;IAEO,gBAAgB,CAAC,GAAW;QAChC,OAAO,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,OAAwB,EAAE,EAAE,CAAC,OAAO,CAAC,GAAG,KAAK,GAAG,CAAC,CAAC;IACjF,CAAC;CACJ,CAAA;AAhDD;IAbC,kBAAkB,CAAC,eAAe,CAAC;IACnC,cAAc,CACX,kBAAkB,EAClB,gBAAgB,EAChB,UAAU,EACV,QAAQ,EACR,SAAS,EACT,0BAA0B,EAC1B,2BAA2B,EAC3B,cAAc,EACd,oBAAoB,EACpB,yBAAyB,CAC5B;qCAKsC,sBAAsB;QACrC,cAAc;kCA2CrC\"}","dts":{"name":"/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedit/apps/smartedit-container/node_modules/.cache/rollup-plugin-typescript2/placeholder/services/perspectives/FeatureServiceOuter.d.ts","writeByteOrderMark":false,"text":"import { CloneableUtils, InternalFeature, IFeatureService, IToolbarItem, IToolbarServiceFactory } from 'smarteditcommons';\r\n/** @internal */\r\nexport declare class FeatureService extends IFeatureService {\r\n    private toolbarServiceFactory;\r\n    private features;\r\n    constructor(toolbarServiceFactory: IToolbarServiceFactory, cloneableUtils: CloneableUtils);\r\n    getFeatureProperty(featureKey: string, propertyName: keyof InternalFeature): Promise<string | string[] | (() => void)>;\r\n    getFeatureKeys(): string[];\r\n    addToolbarItem(configuration: IToolbarItem): Promise<void>;\r\n    protected _registerAliases(configuration: InternalFeature): Promise<void>;\r\n    private _getFeatureByKey;\r\n}\r\n"}}
