{"code":"import { __decorate, __metadata } from \"tslib\";\r\nimport { ChangeDetectionStrategy, Component, EventEmitter, Input, Output } from '@angular/core';\r\nimport { CatalogNavigateToSite } from '../services/CatalogNavigateToSite';\r\nimport { CatalogHierarchyNodeMenuItemComponent } from './CatalogHierarchyNodeMenuItemComponent';\r\nimport './CatalogHierarchyNodeComponent.scss';\r\nconst CATALOG_DROPDOWN_ANCHOR_CLASS = 'se-cth-node-anchor';\r\nwindow.__smartedit__.addDecoratorPayload(\"Component\", \"CatalogHierarchyNodeComponent\", {\r\n    changeDetection: ChangeDetectionStrategy.OnPush,\r\n    selector: 'se-catalog-hierarchy-node',\r\n    template: `<div class=\"se-cth-node-name\" [style.padding-left.px]=\"15 * index\" [style.padding-right.px]=\"15 * index\" [class.se-cth-node-name__last]=\"isLast\"><fd-icon glyph=\"navigation-down-arrow\"></fd-icon>{{ (isLast ? catalog.name : catalog.catalogName) | seL10n | async }}&nbsp; <span *ngIf=\"isLast\">({{ 'se.catalog.hierarchy.modal.tree.this.catalog' | translate}})</span></div><div class=\"se-cth-node-sites\"><ng-container><ng-container *ngIf=\"hasOneSite; else hasManySites\"><a class=\"se-cth-node-anchor\" href=\"\" (click)=\"onNavigateToSite(catalog.sites[0].uid)\">{{ catalog.sites[0].name | seL10n | async }}<fd-icon glyph=\"navigation-right-arrow\"></fd-icon></a></ng-container><ng-template #hasManySites><se-dropdown-menu [dropdownItems]=\"dropdownItems\" useProjectedAnchor=\"1\" (click)=\"onSiteSelect($event)\"><span class=\"se-cth-node-anchor\">{{ this.catalog.sites.length }} Sites<fd-icon glyph=\"navigation-down-arrow\"></fd-icon></span></se-dropdown-menu></ng-template></ng-container></div>`\r\n});\r\nlet CatalogHierarchyNodeComponent = class CatalogHierarchyNodeComponent {\r\n    constructor(navigateToSite) {\r\n        this.navigateToSite = navigateToSite;\r\n        this.siteSelect = new EventEmitter();\r\n    }\r\n    ngOnChanges() {\r\n        this.dropdownItems = this.getDropdownItems();\r\n    }\r\n    onNavigateToSite(siteUid) {\r\n        this.navigateToSite.navigate(siteUid);\r\n        this.siteSelect.emit();\r\n    }\r\n    onSiteSelect($event) {\r\n        const target = $event.target;\r\n        if (!target.classList.contains(CATALOG_DROPDOWN_ANCHOR_CLASS) &&\r\n            !target.closest(`.${CATALOG_DROPDOWN_ANCHOR_CLASS}`)) {\r\n            this.siteSelect.emit();\r\n        }\r\n    }\r\n    get hasOneSite() {\r\n        return this.catalog.sites.length === 1;\r\n    }\r\n    getDropdownItems() {\r\n        return this.catalog.sites.map((site) => (Object.assign(Object.assign({}, site), { component: CatalogHierarchyNodeMenuItemComponent })));\r\n    }\r\n};\r\n__decorate([\r\n    Input(),\r\n    __metadata(\"design:type\", Number)\r\n], CatalogHierarchyNodeComponent.prototype, \"index\", void 0);\r\n__decorate([\r\n    Input(),\r\n    __metadata(\"design:type\", Object)\r\n], CatalogHierarchyNodeComponent.prototype, \"catalog\", void 0);\r\n__decorate([\r\n    Input(),\r\n    __metadata(\"design:type\", String)\r\n], CatalogHierarchyNodeComponent.prototype, \"siteId\", void 0);\r\n__decorate([\r\n    Input(),\r\n    __metadata(\"design:type\", Boolean)\r\n], CatalogHierarchyNodeComponent.prototype, \"isLast\", void 0);\r\n__decorate([\r\n    Output(),\r\n    __metadata(\"design:type\", Object)\r\n], CatalogHierarchyNodeComponent.prototype, \"siteSelect\", void 0);\r\nCatalogHierarchyNodeComponent = __decorate([\r\n    Component({\r\n        changeDetection: ChangeDetectionStrategy.OnPush,\r\n        selector: 'se-catalog-hierarchy-node',\r\n        template: `<div class=\"se-cth-node-name\" [style.padding-left.px]=\"15 * index\" [style.padding-right.px]=\"15 * index\" [class.se-cth-node-name__last]=\"isLast\"><fd-icon glyph=\"navigation-down-arrow\"></fd-icon>{{ (isLast ? catalog.name : catalog.catalogName) | seL10n | async }}&nbsp; <span *ngIf=\"isLast\">({{ 'se.catalog.hierarchy.modal.tree.this.catalog' | translate}})</span></div><div class=\"se-cth-node-sites\"><ng-container><ng-container *ngIf=\"hasOneSite; else hasManySites\"><a class=\"se-cth-node-anchor\" href=\"\" (click)=\"onNavigateToSite(catalog.sites[0].uid)\">{{ catalog.sites[0].name | seL10n | async }}<fd-icon glyph=\"navigation-right-arrow\"></fd-icon></a></ng-container><ng-template #hasManySites><se-dropdown-menu [dropdownItems]=\"dropdownItems\" useProjectedAnchor=\"1\" (click)=\"onSiteSelect($event)\"><span class=\"se-cth-node-anchor\">{{ this.catalog.sites.length }} Sites<fd-icon glyph=\"navigation-down-arrow\"></fd-icon></span></se-dropdown-menu></ng-template></ng-container></div>`\r\n    }),\r\n    __metadata(\"design:paramtypes\", [CatalogNavigateToSite])\r\n], CatalogHierarchyNodeComponent);\r\nexport { CatalogHierarchyNodeComponent };\r\n//# sourceMappingURL=CatalogHierarchyNodeComponent.js.map","references":["/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@angular+core@8.2.14_rxjs@6.5.4+zone.js@0.9.1/node_modules/@angular/core/core.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/dist/index.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedit/apps/smartedit-container/src/services/widgets/catalogDetails/services/CatalogNavigateToSite.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedit/apps/smartedit-container/src/services/widgets/catalogDetails/components/CatalogHierarchyNodeMenuItemComponent.ts"],"map":"{\"version\":3,\"file\":\"CatalogHierarchyNodeComponent.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../../../src/services/widgets/catalogDetails/components/CatalogHierarchyNodeComponent.ts\"],\"names\":[],\"mappings\":\";AACA,OAAO,EACH,uBAAuB,EACvB,SAAS,EACT,YAAY,EACZ,KAAK,EAEL,MAAM,EACT,MAAM,eAAe,CAAC;AAEvB,OAAO,EAAE,qBAAqB,EAAE,MAAM,mCAAmC,CAAC;AAC1E,OAAO,EAAE,qCAAqC,EAAE,MAAM,yCAAyC,CAAC;AAEhG,OAAO,sCAAsC,CAAC;AAG9C,MAAM,6BAA6B,GAAG,oBAAoB,CAAC;uFAGhD;IACP,eAAe,EAAE,uBAAuB,CAAC,MAAM;IAC/C,QAAQ,EAAE,2BAA2B;IACrC,QAAQ,EAAE,k9BAAk9B;CAC/9B;AACD,IAAa,6BAA6B,GAA1C,MAAa,6BAA6B;IAmBtC,YAAoB,cAAqC;QAArC,mBAAc,GAAd,cAAc,CAAuB;QAJzD,eAAU,GAAG,IAAI,YAAY,EAAQ,CAAC;IAIsB,CAAC;IAE7D,WAAW;QACP,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,gBAAgB,EAAE,CAAC;IACjD,CAAC;IAED,gBAAgB,CAAC,OAAe;QAC5B,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;QACtC,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;IAC3B,CAAC;IAED,YAAY,CAAC,MAAe;QACxB,MAAM,MAAM,GAAG,MAAM,CAAC,MAAqB,CAAC;QAE5C,IACI,CAAC,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,6BAA6B,CAAC;YACzD,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,6BAA6B,EAAE,CAAC,EACtD;YACE,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;SAC1B;IACL,CAAC;IAED,IAAI,UAAU;QACV,OAAO,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,MAAM,KAAK,CAAC,CAAC;IAC3C,CAAC;IAED,gBAAgB;QACZ,OAAO,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CACzB,CAAC,IAAI,EAAE,EAAE,CACL,CAAC,gCACM,IAAI,KACP,SAAS,EAAE,qCAAqC,GAC3C,CAAA,CAChB,CAAC;IACN,CAAC;CACJ,CAAA;AApDG;IADC,KAAK,EAAE;;4DACM;AAGd;IADC,KAAK,EAAE;;8DAC+B;AAGvC;IADC,KAAK,EAAE;;6DACO;AAIf;IADC,KAAK,EAAE;;6DACQ;AAGhB;IADC,MAAM,EAAE;;iEAC6B;AAf7B,6BAA6B;IALzC,SAAS,CAAC;QACP,eAAe,EAAE,uBAAuB,CAAC,MAAM;QAC/C,QAAQ,EAAE,2BAA2B;QACrC,QAAQ,EAAE,k9BAAk9B;KAC/9B,CAAC;qCAoBsC,qBAAqB;GAnBhD,6BAA6B,CAsDzC;SAtDY,6BAA6B\"}","dts":{"name":"/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedit/apps/smartedit-container/node_modules/.cache/rollup-plugin-typescript2/placeholder/services/widgets/catalogDetails/components/CatalogHierarchyNodeComponent.d.ts","writeByteOrderMark":false,"text":"import { EventEmitter, OnChanges } from '@angular/core';\r\nimport { IBaseCatalog, IDropdownMenuItem, IParentCatalog } from 'smarteditcommons';\r\nimport { CatalogNavigateToSite } from '../services/CatalogNavigateToSite';\r\nimport './CatalogHierarchyNodeComponent.scss';\r\nexport declare class CatalogHierarchyNodeComponent implements OnChanges {\r\n    private navigateToSite;\r\n    index: number;\r\n    catalog: IBaseCatalog & IParentCatalog;\r\n    siteId: string;\r\n    isLast: boolean;\r\n    siteSelect: EventEmitter<void>;\r\n    dropdownItems: IDropdownMenuItem[];\r\n    constructor(navigateToSite: CatalogNavigateToSite);\r\n    ngOnChanges(): void;\r\n    onNavigateToSite(siteUid: string): void;\r\n    onSiteSelect($event: UIEvent): void;\r\n    get hasOneSite(): boolean;\r\n    getDropdownItems(): IDropdownMenuItem[];\r\n}\r\n"}}
