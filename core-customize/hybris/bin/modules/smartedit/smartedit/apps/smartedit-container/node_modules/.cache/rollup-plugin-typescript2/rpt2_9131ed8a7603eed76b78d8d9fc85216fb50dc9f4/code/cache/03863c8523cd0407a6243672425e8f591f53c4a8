{"code":"import { __decorate, __metadata } from \"tslib\";\r\nimport './UserAccount.scss';\r\nimport { Component } from '@angular/core';\r\nimport { CrossFrameEventService, EVENTS, IAuthenticationService, ISessionService, SeDowngradeComponent } from 'smarteditcommons';\r\nimport { IframeManagerService } from '../../services/iframe/IframeManagerService';\r\nwindow.__smartedit__.addDecoratorPayload(\"Component\", \"UserAccountComponent\", {\r\n    selector: 'se-user-account',\r\n    template: `<div class=\"se-user-account-dropdown\"><div class=\"se-user-account-dropdown__role\">{{ 'se.toolbar.useraccount.role' | translate }}</div><div class=\"user-account-dropdown__name\">{{username}}</div><div class=\"divider\"></div><a class=\"se-sign-out__link fd-menu__item\" (click)=\"signOut()\">{{'se.toolbar.useraccount.signout' | translate}}</a></div>`\r\n});\r\nlet /* @ngInject */ UserAccountComponent = class /* @ngInject */ UserAccountComponent {\r\n    constructor(authenticationService, iframeManagerService, crossFrameEventService, sessionService) {\r\n        this.authenticationService = authenticationService;\r\n        this.iframeManagerService = iframeManagerService;\r\n        this.crossFrameEventService = crossFrameEventService;\r\n        this.sessionService = sessionService;\r\n    }\r\n    ngOnInit() {\r\n        this.unregUserChanged = this.crossFrameEventService.subscribe(EVENTS.USER_HAS_CHANGED, () => this.getUsername());\r\n        this.getUsername();\r\n    }\r\n    ngOnDestroy() {\r\n        this.unregUserChanged();\r\n    }\r\n    signOut() {\r\n        this.authenticationService.logout();\r\n        this.iframeManagerService.setCurrentLocation(null);\r\n    }\r\n    getUsername() {\r\n        this.sessionService.getCurrentUserDisplayName().then((displayName) => {\r\n            this.username = displayName;\r\n        });\r\n    }\r\n};\r\n/* @ngInject */ UserAccountComponent = __decorate([\r\n    SeDowngradeComponent(),\r\n    Component({\r\n        selector: 'se-user-account',\r\n        template: `<div class=\"se-user-account-dropdown\"><div class=\"se-user-account-dropdown__role\">{{ 'se.toolbar.useraccount.role' | translate }}</div><div class=\"user-account-dropdown__name\">{{username}}</div><div class=\"divider\"></div><a class=\"se-sign-out__link fd-menu__item\" (click)=\"signOut()\">{{'se.toolbar.useraccount.signout' | translate}}</a></div>`\r\n    }),\r\n    __metadata(\"design:paramtypes\", [IAuthenticationService,\r\n        IframeManagerService,\r\n        CrossFrameEventService,\r\n        ISessionService])\r\n], /* @ngInject */ UserAccountComponent);\r\nexport { /* @ngInject */ UserAccountComponent };\r\n//# sourceMappingURL=UserAccountComponent.js.map","references":["/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@angular+core@8.2.14_rxjs@6.5.4+zone.js@0.9.1/node_modules/@angular/core/core.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/dist/index.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedit/apps/smartedit-container/src/services/iframe/IframeManagerService.ts"],"map":"{\"version\":3,\"file\":\"UserAccountComponent.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../src/components/userAccount/UserAccountComponent.ts\"],\"names\":[],\"mappings\":\";AACA,OAAO,oBAAoB,CAAC;AAC5B,OAAO,EAAE,SAAS,EAAqB,MAAM,eAAe,CAAC;AAE7D,OAAO,EACH,sBAAsB,EACtB,MAAM,EACN,sBAAsB,EACtB,eAAe,EACf,oBAAoB,EACvB,MAAM,kBAAkB,CAAC;AAC1B,OAAO,EAAE,oBAAoB,EAAE,MAAM,4CAA4C,CAAC;8EAGvE;IACP,QAAQ,EAAE,iBAAiB;IAC3B,QAAQ,EAAE,wVAAwV;CACrW;AACD,2CAAA;IAKI,YACY,qBAA6C,EAC7C,oBAA0C,EAC1C,sBAA8C,EAC9C,cAA+B;QAH/B,0BAAqB,GAArB,qBAAqB,CAAwB;QAC7C,yBAAoB,GAApB,oBAAoB,CAAsB;QAC1C,2BAAsB,GAAtB,sBAAsB,CAAwB;QAC9C,mBAAc,GAAd,cAAc,CAAiB;IACxC,CAAC;IAEJ,QAAQ;QACJ,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,sBAAsB,CAAC,SAAS,CAAC,MAAM,CAAC,gBAAgB,EAAE,GAAG,EAAE,CACxF,IAAI,CAAC,WAAW,EAAE,CACrB,CAAC;QACF,IAAI,CAAC,WAAW,EAAE,CAAC;IACvB,CAAC;IAED,WAAW;QACP,IAAI,CAAC,gBAAgB,EAAE,CAAC;IAC5B,CAAC;IAEM,OAAO;QACV,IAAI,CAAC,qBAAqB,CAAC,MAAM,EAAE,CAAC;QACpC,IAAI,CAAC,oBAAoB,CAAC,kBAAkB,CAAC,IAAI,CAAC,CAAC;IACvD,CAAC;IAEM,WAAW;QACd,IAAI,CAAC,cAAc,CAAC,yBAAyB,EAAE,CAAC,IAAI,CAAC,CAAC,WAAmB,EAAE,EAAE;YACzE,IAAI,CAAC,QAAQ,GAAG,WAAW,CAAC;QAChC,CAAC,CAAC,CAAC;IACP,CAAC;CACJ,CAAA;AAjCD;IALC,oBAAoB,EAAE;IACtB,SAAS,CAAC;QACP,QAAQ,EAAE,iBAAiB;QAC3B,QAAQ,EAAE,wVAAwV;KACrW,CAAC;qCAOqC,sBAAsB;QACvB,oBAAoB;QAClB,sBAAsB;QAC9B,eAAe;wCAwB9C\"}","dts":{"name":"/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedit/apps/smartedit-container/node_modules/.cache/rollup-plugin-typescript2/placeholder/components/userAccount/UserAccountComponent.d.ts","writeByteOrderMark":false,"text":"import './UserAccount.scss';\r\nimport { OnDestroy, OnInit } from '@angular/core';\r\nimport { CrossFrameEventService, IAuthenticationService, ISessionService } from 'smarteditcommons';\r\nimport { IframeManagerService } from '../../services/iframe/IframeManagerService';\r\nexport declare class UserAccountComponent implements OnInit, OnDestroy {\r\n    private authenticationService;\r\n    private iframeManagerService;\r\n    private crossFrameEventService;\r\n    private sessionService;\r\n    username: string;\r\n    private unregUserChanged;\r\n    constructor(authenticationService: IAuthenticationService, iframeManagerService: IframeManagerService, crossFrameEventService: CrossFrameEventService, sessionService: ISessionService);\r\n    ngOnInit(): void;\r\n    ngOnDestroy(): void;\r\n    signOut(): void;\r\n    getUsername(): void;\r\n}\r\n"}}
