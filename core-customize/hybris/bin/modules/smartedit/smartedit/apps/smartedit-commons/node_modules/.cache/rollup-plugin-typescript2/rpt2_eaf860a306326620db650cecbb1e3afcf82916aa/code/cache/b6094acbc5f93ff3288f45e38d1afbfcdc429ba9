{"code":"import { __decorate, __metadata } from \"tslib\";\r\nimport { Component, Input } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { zip } from 'rxjs';\r\nimport { tap } from 'rxjs/operators';\r\nimport { SeDowngradeComponent } from '../../di';\r\nimport { TextTruncateService } from '../../services';\r\nwindow.__smartedit__.addDecoratorPayload(\"Component\", \"MoreTextComponent\", {\r\n    selector: 'se-more-text',\r\n    template: `\n        <span id=\"y-more-text-payload\" class=\"se-more-text__payload\">{{ text }}</span>\n        <span\n            id=\"y-more-text-toggle\"\n            class=\"se-more-text__toggle\"\n            [ngClass]=\"{ 'se-more-text__toggle--capitalize': capitalizeLabel }\"\n            (click)=\"showHideMoreText()\"\n            *ngIf=\"isTruncated\"\n            >{{ linkLabel }}</span\n        >\n    `,\r\n    styles: [`.se-more-text__toggle--capitalize{text-transform:capitalize;color:#0a6ed1;cursor:pointer}`],\r\n    providers: [TextTruncateService]\r\n});\r\nlet /* @ngInject */ MoreTextComponent = class /* @ngInject */ MoreTextComponent {\r\n    constructor(textTruncateService, translate) {\r\n        this.textTruncateService = textTruncateService;\r\n        this.translate = translate;\r\n        this.capitalizeLabel = false;\r\n        this.isTruncated = false;\r\n        this.showingMore = false;\r\n    }\r\n    ngOnInit() {\r\n        this.limit = this.limit || 100;\r\n        this.moreLabelI18nKey = this.moreLabelI18nKey || 'se.moretext.more.link';\r\n        this.lessLabelI18nKey = this.lessLabelI18nKey || 'se.moretext.less.link';\r\n        this.truncatedText = this.textTruncateService.truncateToNearestWord(this.limit, this.text, this.ellipsis);\r\n        this.isTruncated = this.truncatedText.isTruncated();\r\n        this.translateLabels().subscribe(() => {\r\n            this.showHideMoreText();\r\n        });\r\n    }\r\n    showHideMoreText() {\r\n        if (!this.isTruncated) {\r\n            return;\r\n        }\r\n        this.text = this.showingMore\r\n            ? this.truncatedText.getUntruncatedText()\r\n            : this.truncatedText.getTruncatedText();\r\n        this.linkLabel = this.showingMore ? this.lessLabel : this.moreLabel;\r\n        this.showingMore = !this.showingMore;\r\n    }\r\n    translateLabels() {\r\n        return zip(this.translate.get(this.moreLabelI18nKey), this.translate.get(this.lessLabelI18nKey)).pipe(tap(([more, less]) => {\r\n            this.moreLabel = more;\r\n            this.lessLabel = less;\r\n        }));\r\n    }\r\n};\r\n__decorate([\r\n    Input(),\r\n    __metadata(\"design:type\", String)\r\n], /* @ngInject */ MoreTextComponent.prototype, \"text\", void 0);\r\n__decorate([\r\n    Input(),\r\n    __metadata(\"design:type\", Number)\r\n], /* @ngInject */ MoreTextComponent.prototype, \"limit\", void 0);\r\n__decorate([\r\n    Input(),\r\n    __metadata(\"design:type\", String)\r\n], /* @ngInject */ MoreTextComponent.prototype, \"moreLabelI18nKey\", void 0);\r\n__decorate([\r\n    Input(),\r\n    __metadata(\"design:type\", String)\r\n], /* @ngInject */ MoreTextComponent.prototype, \"lessLabelI18nKey\", void 0);\r\n__decorate([\r\n    Input(),\r\n    __metadata(\"design:type\", String)\r\n], /* @ngInject */ MoreTextComponent.prototype, \"ellipsis\", void 0);\r\n__decorate([\r\n    Input(),\r\n    __metadata(\"design:type\", Object)\r\n], /* @ngInject */ MoreTextComponent.prototype, \"capitalizeLabel\", void 0);\r\n/* @ngInject */ MoreTextComponent = __decorate([\r\n    SeDowngradeComponent(),\r\n    Component({\r\n        selector: 'se-more-text',\r\n        template: `\n        <span id=\"y-more-text-payload\" class=\"se-more-text__payload\">{{ text }}</span>\n        <span\n            id=\"y-more-text-toggle\"\n            class=\"se-more-text__toggle\"\n            [ngClass]=\"{ 'se-more-text__toggle--capitalize': capitalizeLabel }\"\n            (click)=\"showHideMoreText()\"\n            *ngIf=\"isTruncated\"\n            >{{ linkLabel }}</span\n        >\n    `,\r\n        styles: [`.se-more-text__toggle--capitalize{text-transform:capitalize;color:#0a6ed1;cursor:pointer}`],\r\n        providers: [TextTruncateService]\r\n    }),\r\n    __metadata(\"design:paramtypes\", [TextTruncateService,\r\n        TranslateService])\r\n], /* @ngInject */ MoreTextComponent);\r\nexport { /* @ngInject */ MoreTextComponent };\r\n//# sourceMappingURL=MoreTextComponent.js.map","references":["/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@angular+core@8.2.14_rxjs@6.5.4+zone.js@0.9.1/node_modules/@angular/core/core.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@ngx-translate+core@11.0.1_@angular+core@8.2.14+rxjs@6.5.4/node_modules/@ngx-translate/core/ngx-translate-core.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/rxjs@6.5.4/node_modules/rxjs/index.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/rxjs@6.5.4/node_modules/rxjs/operators/index.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/src/di/index.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/src/dtos/index.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/src/services/index.ts"],"map":"{\"version\":3,\"file\":\"MoreTextComponent.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../src/components/moreText/MoreTextComponent.ts\"],\"names\":[],\"mappings\":\"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\"}","dts":{"name":"/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/node_modules/.cache/rollup-plugin-typescript2/placeholder/components/moreText/MoreTextComponent.d.ts","writeByteOrderMark":false,"text":"import { TranslateService } from '@ngx-translate/core';\r\nimport { TextTruncateService } from '../../services';\r\nexport declare class MoreTextComponent {\r\n    private textTruncateService;\r\n    private translate;\r\n    text: string;\r\n    limit?: number;\r\n    moreLabelI18nKey?: string;\r\n    lessLabelI18nKey?: string;\r\n    ellipsis?: string;\r\n    capitalizeLabel: boolean;\r\n    linkLabel: string;\r\n    isTruncated: boolean;\r\n    private showingMore;\r\n    private moreLabel;\r\n    private lessLabel;\r\n    private truncatedText;\r\n    constructor(textTruncateService: TextTruncateService, translate: TranslateService);\r\n    ngOnInit(): void;\r\n    showHideMoreText(): void;\r\n    private translateLabels;\r\n}\r\n"}}
