{"code":"import { __decorate, __metadata } from \"tslib\";\r\nimport { Component, EventEmitter, Input, Output } from '@angular/core';\r\nimport { isEqual } from 'lodash';\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport { distinctUntilChanged, map } from 'rxjs/operators';\r\nimport { SeDowngradeComponent } from '../../di';\r\nimport { UserTrackingService } from '../../services';\r\nimport { USER_TRACKING_FUNCTIONALITY } from '../../utils';\r\nimport { TabsSelectAdapter } from './TabsSelectAdapter';\r\nwindow.__smartedit__.addDecoratorPayload(\"Component\", \"TabsComponent\", {\r\n    selector: 'se-tabs',\r\n    template: `<div class=\"se-tabset-wrapper\"><ul class=\"nav nav-tabs se-tabset\" role=\"tablist\" *ngIf=\"isInitialized\"><ng-container *ngIf=\"tabsList.length !== numTabsDisplayed\"><ng-container *ngFor=\"let tab of (getVisibleTabs() | async); trackBy: trackTabById\" [ngTemplateOutlet]=\"tabsetLink\" [ngTemplateOutletContext]=\"{ $implicit: tab }\"></ng-container></ng-container><ng-container *ngIf=\"tabsList && tabsList.length == numTabsDisplayed\"><ng-container *ngFor=\"let tab of tabsList; trackBy: trackTabById\" [ngTemplateOutlet]=\"tabsetLink\" [ngTemplateOutletContext]=\"{ $implicit: tab }\"></ng-container></ng-container><su-select class=\"se-tabset__select\" *ngIf=\"tabsList.length > numTabsDisplayed && (getDropdownTabs() | async)\" [items]=\"dropdownTabs\" [isKeyboardControlEnabled]=\"false\" [hasCustomTrigger]=\"true\" (onItemSelected)=\"selectTab($event.value)\"><li [ngClass]=\"{'active': isActiveInMoreTab()}\" su-select-custom-trigger><a [ngClass]=\"{'sm-tab-error': dropDownHasErrors()}\" class=\"dropdown-toggle\"><span *ngIf=\"!isActiveInMoreTab()\" class=\"multi-tabs__more-span\">{{ 'se.ytabset.tabs.more' | translate }} </span><span *ngIf=\"isActiveInMoreTab()\" class=\"multi-tabs__more-span\">{{selectedTab.title | translate}} </span><span class=\"caret\"></span></a></li></su-select><ng-template #tabsetLink let-tab><li [ngClass]=\"{ \n                    'active': tab.id === selectedTab.id,\n                    'se-tabset__tab--disabled': tab.disabled\n                }\" [attr.tab-id]=\"tab.id\" class=\"se-tabset__tab\"><a [ngClass]=\"{'sm-tab-error': tab.hasErrors}\" class=\"se-tabset__link mycustomtabset\" (click)=\"selectTab(tab)\" *ngIf=\"!tab.message\">{{tab.title | translate}}</a><se-tooltip [triggers]=\"['mouseover']\" *ngIf=\"tab.message\"><a se-tooltip-trigger [ngClass]=\"{'sm-tab-error': tab.hasErrors}\" class=\"se-tabset__link\" (click)=\"selectTab(tab)\">{{tab.title | translate}} </a><span se-tooltip-body>{{ tab.message }}</span></se-tooltip></li></ng-template></ul><div class=\"se-tab-set__content-wrapper\" *ngIf=\"selectedTab\"><ng-container *ngFor=\"let tab of tabsList; trackBy: trackTabById\"><se-tab [hidden]=\"tab.id !== selectedTab.id\" [attr.tab-id]=\"tab.id\" [tab]=\"tab\" [model]=\"model\"></se-tab></ng-container></div></div>`\r\n});\r\nlet /* @ngInject */ TabsComponent = class /* @ngInject */ TabsComponent {\r\n    constructor(userTrackingService) {\r\n        this.userTrackingService = userTrackingService;\r\n        this.tabsList = [];\r\n        this.onTabSelected = new EventEmitter();\r\n        this.tabChangedStream = new BehaviorSubject(null);\r\n    }\r\n    get isInitialized() {\r\n        return !!this.tabsList && this.tabsList.length > 1 && !!this.selectedTab;\r\n    }\r\n    isActiveInMoreTab() {\r\n        return (this.tabsList.findIndex((tab) => tab.id === this.selectedTab.id) >=\r\n            this.numTabsDisplayed - 1);\r\n    }\r\n    ngOnChanges(changes) {\r\n        const hasTabsInitialized = (changes.tabsList &&\r\n            changes.tabsList.currentValue &&\r\n            !changes.tabsList.previousValue) ||\r\n            (changes.tabsList && changes.tabsList.firstChange && !!changes.tabsList.currentValue);\r\n        const hasTabsChanged = changes.tabsList && !!changes.tabsList.previousValue && !!changes.tabsList.currentValue;\r\n        if (this.tabsList) {\r\n            const active = this.tabsList.find((tab) => tab.active) || this.tabsList[0];\r\n            if (!this.selectedTab || (this.selectedTab && this.selectedTab.id !== active.id)) {\r\n                this.selectedTab = active;\r\n                this.selectedTab.active = true;\r\n            }\r\n        }\r\n        if (hasTabsInitialized) {\r\n            this.tabsList = this.tabsList.map((tab) => (Object.assign(Object.assign({}, tab), { active: false, hasErrors: false })));\r\n            this.tabChangedStream.next();\r\n        }\r\n        if (hasTabsChanged) {\r\n            this.tabChangedStream.next();\r\n        }\r\n        this.getDropdownTabs().subscribe((tabs) => {\r\n            this.dropdownTabs = tabs;\r\n        });\r\n    }\r\n    selectTab(tabToSelect) {\r\n        if (tabToSelect && tabToSelect.id !== this.selectedTab.id) {\r\n            this.userTrackingService.trackingUserAction(USER_TRACKING_FUNCTIONALITY.ADD_COMPONENT, tabToSelect.title);\r\n            if (!this.selectedTab.active) {\r\n                this.findSelectedTab();\r\n            }\r\n            this.selectedTab.active = false;\r\n            this.selectedTab = tabToSelect;\r\n            this.selectedTab.active = true;\r\n            this.onTabSelected.emit(this.selectedTab.id);\r\n        }\r\n    }\r\n    dropDownHasErrors() {\r\n        const tabsInDropDown = this.tabsList.slice(this.numTabsDisplayed - 1);\r\n        return tabsInDropDown.some((tab) => tab.hasErrors);\r\n    }\r\n    findSelectedTab() {\r\n        const selectedTab = this.tabsList.find((tab) => tab.active);\r\n        if (selectedTab) {\r\n            this.selectedTab = selectedTab;\r\n        }\r\n    }\r\n    getDropdownTabs() {\r\n        return this.tabChangedStream.pipe(map(() => (this.tabsList || [])\r\n            .slice(this.numTabsDisplayed - 1)\r\n            .map(TabsSelectAdapter.transform)), distinctUntilChanged((a, b) => isEqual(a, b)));\r\n    }\r\n    getVisibleTabs() {\r\n        return this.tabChangedStream.pipe(map(() => (this.tabsList || []).slice(0, this.numTabsDisplayed - 1)), distinctUntilChanged((a, b) => isEqual(a, b)));\r\n    }\r\n    trackTabById(index) {\r\n        return index;\r\n    }\r\n};\r\n__decorate([\r\n    Input(),\r\n    __metadata(\"design:type\", Object)\r\n], /* @ngInject */ TabsComponent.prototype, \"model\", void 0);\r\n__decorate([\r\n    Input(),\r\n    __metadata(\"design:type\", Array)\r\n], /* @ngInject */ TabsComponent.prototype, \"tabsList\", void 0);\r\n__decorate([\r\n    Input(),\r\n    __metadata(\"design:type\", Number)\r\n], /* @ngInject */ TabsComponent.prototype, \"numTabsDisplayed\", void 0);\r\n__decorate([\r\n    Output(),\r\n    __metadata(\"design:type\", EventEmitter)\r\n], /* @ngInject */ TabsComponent.prototype, \"onTabSelected\", void 0);\r\n/* @ngInject */ TabsComponent = __decorate([\r\n    SeDowngradeComponent(),\r\n    Component({\r\n        selector: 'se-tabs',\r\n        template: `<div class=\"se-tabset-wrapper\"><ul class=\"nav nav-tabs se-tabset\" role=\"tablist\" *ngIf=\"isInitialized\"><ng-container *ngIf=\"tabsList.length !== numTabsDisplayed\"><ng-container *ngFor=\"let tab of (getVisibleTabs() | async); trackBy: trackTabById\" [ngTemplateOutlet]=\"tabsetLink\" [ngTemplateOutletContext]=\"{ $implicit: tab }\"></ng-container></ng-container><ng-container *ngIf=\"tabsList && tabsList.length == numTabsDisplayed\"><ng-container *ngFor=\"let tab of tabsList; trackBy: trackTabById\" [ngTemplateOutlet]=\"tabsetLink\" [ngTemplateOutletContext]=\"{ $implicit: tab }\"></ng-container></ng-container><su-select class=\"se-tabset__select\" *ngIf=\"tabsList.length > numTabsDisplayed && (getDropdownTabs() | async)\" [items]=\"dropdownTabs\" [isKeyboardControlEnabled]=\"false\" [hasCustomTrigger]=\"true\" (onItemSelected)=\"selectTab($event.value)\"><li [ngClass]=\"{'active': isActiveInMoreTab()}\" su-select-custom-trigger><a [ngClass]=\"{'sm-tab-error': dropDownHasErrors()}\" class=\"dropdown-toggle\"><span *ngIf=\"!isActiveInMoreTab()\" class=\"multi-tabs__more-span\">{{ 'se.ytabset.tabs.more' | translate }} </span><span *ngIf=\"isActiveInMoreTab()\" class=\"multi-tabs__more-span\">{{selectedTab.title | translate}} </span><span class=\"caret\"></span></a></li></su-select><ng-template #tabsetLink let-tab><li [ngClass]=\"{ \n                    'active': tab.id === selectedTab.id,\n                    'se-tabset__tab--disabled': tab.disabled\n                }\" [attr.tab-id]=\"tab.id\" class=\"se-tabset__tab\"><a [ngClass]=\"{'sm-tab-error': tab.hasErrors}\" class=\"se-tabset__link mycustomtabset\" (click)=\"selectTab(tab)\" *ngIf=\"!tab.message\">{{tab.title | translate}}</a><se-tooltip [triggers]=\"['mouseover']\" *ngIf=\"tab.message\"><a se-tooltip-trigger [ngClass]=\"{'sm-tab-error': tab.hasErrors}\" class=\"se-tabset__link\" (click)=\"selectTab(tab)\">{{tab.title | translate}} </a><span se-tooltip-body>{{ tab.message }}</span></se-tooltip></li></ng-template></ul><div class=\"se-tab-set__content-wrapper\" *ngIf=\"selectedTab\"><ng-container *ngFor=\"let tab of tabsList; trackBy: trackTabById\"><se-tab [hidden]=\"tab.id !== selectedTab.id\" [attr.tab-id]=\"tab.id\" [tab]=\"tab\" [model]=\"model\"></se-tab></ng-container></div></div>`\r\n    }),\r\n    __metadata(\"design:paramtypes\", [UserTrackingService])\r\n], /* @ngInject */ TabsComponent);\r\nexport { /* @ngInject */ TabsComponent };\r\n//# sourceMappingURL=TabsComponent.js.map","references":["/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@angular+core@8.2.14_rxjs@6.5.4+zone.js@0.9.1/node_modules/@angular/core/core.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedit/apps/smart-utils/dist/index.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@types+lodash@4.14.159/node_modules/@types/lodash/ts3.1/index.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/rxjs@6.5.4/node_modules/rxjs/index.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/rxjs@6.5.4/node_modules/rxjs/operators/index.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/src/di/index.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/src/services/index.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/src/utils/index.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/src/components/tabs/TabsSelectAdapter.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/src/components/tabs/types.ts"],"map":"{\"version\":3,\"file\":\"TabsComponent.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../src/components/tabs/TabsComponent.ts\"],\"names\":[],\"mappings\":\"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\"}","dts":{"name":"/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/node_modules/.cache/rollup-plugin-typescript2/placeholder/components/tabs/TabsComponent.d.ts","writeByteOrderMark":false,"text":"import { EventEmitter, OnChanges, SimpleChanges } from '@angular/core';\r\nimport { ISelectItem } from '@smart/utils';\r\nimport { Observable } from 'rxjs';\r\nimport { UserTrackingService } from '../../services';\r\nimport { Tab } from './types';\r\nexport declare class TabsComponent<T> implements OnChanges {\r\n    private userTrackingService;\r\n    model: T;\r\n    tabsList: Tab[];\r\n    numTabsDisplayed: number;\r\n    onTabSelected: EventEmitter<string>;\r\n    selectedTab: Tab;\r\n    selectItems: ISelectItem<Tab>[];\r\n    dropdownTabs: ISelectItem<Tab>[];\r\n    private tabChangedStream;\r\n    constructor(userTrackingService: UserTrackingService);\r\n    get isInitialized(): boolean;\r\n    isActiveInMoreTab(): boolean;\r\n    ngOnChanges(changes: SimpleChanges): void;\r\n    selectTab(tabToSelect: Tab): void;\r\n    dropDownHasErrors(): boolean;\r\n    findSelectedTab(): void;\r\n    getDropdownTabs(): Observable<ISelectItem<Tab>[]>;\r\n    getVisibleTabs(): Observable<Tab[]>;\r\n    trackTabById(index: number): number;\r\n}\r\n"}}
