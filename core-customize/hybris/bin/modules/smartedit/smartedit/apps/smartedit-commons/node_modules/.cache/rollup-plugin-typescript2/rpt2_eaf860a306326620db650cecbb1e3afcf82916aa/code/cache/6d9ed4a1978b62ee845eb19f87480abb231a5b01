{"code":"import { downgradeComponent, downgradeInjectable } from '@angular/upgrade/static';\r\nimport { functionsUtils } from '@smart/utils';\r\nimport * as angular from 'angular';\r\nimport { DIBridgeModule } from './DIBridgeModule';\r\nimport { parseDirectiveName } from './SeDirective';\r\n/** @internal */\r\nexport class DIBridgeUtils {\r\n    downgradeComponent(definition, componentConstructor) {\r\n        if (!functionsUtils.isUnitTestMode()) {\r\n            const nameSet = parseDirectiveName(definition.selector, componentConstructor);\r\n            this._getBridgeModule().directive(nameSet.name, downgradeComponent({\r\n                component: componentConstructor\r\n            }));\r\n        }\r\n    }\r\n    downgradeService(name, serviceConstructor, token) {\r\n        if (!functionsUtils.isUnitTestMode()) {\r\n            window.__smartedit__.downgradedService[name] = serviceConstructor;\r\n            if (serviceConstructor) {\r\n                const definition = window.__smartedit__.getDecoratorPayload('Injectable', serviceConstructor);\r\n                if (definition && definition.providedIn !== 'root') {\r\n                    throw new Error(`service ${name} is meant to be downgraded but is not provided in root: make sure to mark it with @Injectable({providedIn: 'root'})`);\r\n                }\r\n            }\r\n            this._getBridgeModule().factory(name, downgradeInjectable(token ? token : serviceConstructor));\r\n        }\r\n    }\r\n    /* forbiddenNameSpaces useFactory:false */\r\n    upgradeProvider(angularJSInjectionKey, angularInjectionToken) {\r\n        return {\r\n            provide: angularInjectionToken ? angularInjectionToken : angularJSInjectionKey,\r\n            // eslint-disable-next-line @typescript-eslint/explicit-function-return-type\r\n            useFactory: ($injector) => $injector.get(angularJSInjectionKey),\r\n            deps: ['$injector'] // $injector is provided by UpgradeModule\r\n        };\r\n    }\r\n    _getBridgeModule() {\r\n        /* forbiddenNameSpaces angular.module:false */\r\n        return angular.module(DIBridgeModule.moduleName);\r\n    }\r\n}\r\nexport const diBridgeUtils = new DIBridgeUtils();\r\n//# sourceMappingURL=DIBridgeUtils.js.map","references":["/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@angular+core@8.2.14_rxjs@6.5.4+zone.js@0.9.1/node_modules/@angular/core/core.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@angular+upgrade@8.2.14_d2ff5303d1bb22207cb4aaa9bb380a83/node_modules/@angular/upgrade/static.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedit/apps/smart-utils/dist/index.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@types+angular@1.7.3/node_modules/@types/angular/index.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/src/di/DIBridgeModule.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/src/di/SeDirective.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/src/di/types.ts"],"map":"{\"version\":3,\"file\":\"DIBridgeUtils.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/di/DIBridgeUtils.ts\"],\"names\":[],\"mappings\":\"AAIA,OAAO,EAAE,kBAAkB,EAAE,mBAAmB,EAAE,MAAM,yBAAyB,CAAC;AAClF,OAAO,EAAE,cAAc,EAAE,MAAM,cAAc,CAAC;AAC9C,OAAO,KAAK,OAAO,MAAM,SAAS,CAAC;AACnC,OAAO,EAAE,cAAc,EAAE,MAAM,kBAAkB,CAAC;AAClD,OAAO,EAAE,kBAAkB,EAAE,MAAM,eAAe,CAAC;AAGnD,gBAAgB;AAChB,MAAM,OAAO,aAAa;IACtB,kBAAkB,CAAC,UAAqB,EAAE,oBAAmC;QACzE,IAAI,CAAC,cAAc,CAAC,cAAc,EAAE,EAAE;YAClC,MAAM,OAAO,GAAG,kBAAkB,CAAC,UAAU,CAAC,QAAQ,EAAE,oBAAoB,CAAC,CAAC;YAE9E,IAAI,CAAC,gBAAgB,EAAE,CAAC,SAAS,CAC7B,OAAO,CAAC,IAAI,EACZ,kBAAkB,CAAC;gBACf,SAAS,EAAE,oBAAoB;aAClC,CAA8B,CAClC,CAAC;SACL;IACL,CAAC;IAED,gBAAgB,CAAC,IAAY,EAAE,kBAAiC,EAAE,KAAW;QACzE,IAAI,CAAC,cAAc,CAAC,cAAc,EAAE,EAAE;YAClC,MAAM,CAAC,aAAa,CAAC,iBAAiB,CAAC,IAAI,CAAC,GAAG,kBAAkB,CAAC;YAClE,IAAI,kBAAkB,EAAE;gBACpB,MAAM,UAAU,GAAe,MAAM,CAAC,aAAa,CAAC,mBAAmB,CACnE,YAAY,EACZ,kBAAkB,CACrB,CAAC;gBACF,IAAI,UAAU,IAAI,UAAU,CAAC,UAAU,KAAK,MAAM,EAAE;oBAChD,MAAM,IAAI,KAAK,CACX,WAAW,IAAI,qHAAqH,CACvI,CAAC;iBACL;aACJ;YACD,IAAI,CAAC,gBAAgB,EAAE,CAAC,OAAO,CAC3B,IAAI,EACJ,mBAAmB,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,kBAAkB,CAAQ,CACjE,CAAC;SACL;IACL,CAAC;IAED,0CAA0C;IAC1C,eAAe,CAAC,qBAA6B,EAAE,qBAA2B;QACtE,OAAO;YACH,OAAO,EAAE,qBAAqB,CAAC,CAAC,CAAC,qBAAqB,CAAC,CAAC,CAAC,qBAAqB;YAC9E,4EAA4E;YAC5E,UAAU,EAAE,CAAC,SAAwC,EAAE,EAAE,CACrD,SAAS,CAAC,GAAG,CAAC,qBAAqB,CAAC;YACxC,IAAI,EAAE,CAAC,WAAW,CAAC,CAAC,yCAAyC;SAChE,CAAC;IACN,CAAC;IAEO,gBAAgB;QACpB,8CAA8C;QAC9C,OAAO,OAAO,CAAC,MAAM,CAAE,cAAsC,CAAC,UAAU,CAAC,CAAC;IAC9E,CAAC;CACJ;AAED,MAAM,CAAC,MAAM,aAAa,GAAG,IAAI,aAAa,EAAE,CAAC\"}","dts":{"name":"/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/node_modules/.cache/rollup-plugin-typescript2/placeholder/di/DIBridgeUtils.d.ts","writeByteOrderMark":false,"text":"import { Component, Provider } from '@angular/core';\r\nimport { SeConstructor } from './types';\r\n/** @internal */\r\nexport declare class DIBridgeUtils {\r\n    downgradeComponent(definition: Component, componentConstructor: SeConstructor): void;\r\n    downgradeService(name: string, serviceConstructor: SeConstructor, token?: any): void;\r\n    upgradeProvider(angularJSInjectionKey: string, angularInjectionToken?: any): Provider;\r\n    private _getBridgeModule;\r\n}\r\nexport declare const diBridgeUtils: DIBridgeUtils;\r\n"}}
