{"code":"import { __decorate, __metadata } from \"tslib\";\r\nimport { ChangeDetectionStrategy, Component, EventEmitter, Input, Output, Type } from '@angular/core';\r\nimport { SelectComponent } from '../SelectComponent';\r\nwindow.__smartedit__.addDecoratorPayload(\"Component\", \"SelectListComponent\", {\r\n    selector: 'se-select-list',\r\n    changeDetection: ChangeDetectionStrategy.OnPush,\r\n    host: {\r\n        '[class.se-select-list]': 'true'\r\n    },\r\n    template: `<se-infinite-scrolling *ngIf=\"isPagedDropdown; else selectList\" [pageSize]=\"infiniteScrollingPageSize\" [mask]=\"search\" [fetchPage]=\"fetchPage\" [context]=\"selectComponentCtx\" (itemsChange)=\"onInfiniteScrollItemsChange()\"><ng-container *ngTemplateOutlet=\"selectList\"></ng-container></se-infinite-scrolling><ng-template #selectList><ol [attr.id]=\"id +'-list'\" fd-menu-list suListKeyboardControl [suListKeyboardControlDisabledPredicate]=\"keyboardControlDisabledPredicate\" (suListKeyboardControlEnterKeydown)=\"onEnterKeydown($event)\" [ngClass]=\"{ 'fd-menu__list--basic': !isPagedDropdown }\"><ng-container *ngFor=\"let item of items; trackBy: itemTrackBy\"><li *ngIf=\"(excludeSelected && !isItemSelected(item)) || !excludeSelected\" suListItemKeyboardControl class=\"se-select-list__item\" [ngClass]=\"{'is-selected': (!excludeSelected && isItemSelected(item)), 'is-disabled': isItemDisabled(item)}\"><fd-option (click)=\"onOptionClick($event, item)\" class=\"menu-option\"><se-item-printer [item]=\"item\" [isSelected]=\"false\" [component]=\"itemComponent\" [selectComponentCtx]=\"selectComponentCtx\"></se-item-printer></fd-option></li></ng-container></ol></ng-template>`\r\n});\r\nlet SelectListComponent = class SelectListComponent {\r\n    constructor() {\r\n        this.isPagedDropdown = false;\r\n        this.excludeSelected = false;\r\n        this.optionClick = new EventEmitter();\r\n        this.infiniteScrollItemsChange = new EventEmitter();\r\n        this.infiniteScrollingPageSize = 10;\r\n    }\r\n    keyboardControlDisabledPredicate(item) {\r\n        return item.getElement().classList.contains('is-disabled');\r\n    }\r\n    itemTrackBy(_, item) {\r\n        return item.id;\r\n    }\r\n    isItemSelected(item) {\r\n        const isMultiSelect = Array.isArray(this.selected);\r\n        if (!this.selected || (isMultiSelect && this.selected.length === 0)) {\r\n            return false;\r\n        }\r\n        return isMultiSelect\r\n            ? !!this.selected.find((selectedItem) => selectedItem.id === item.id)\r\n            : item.id === this.selected.id;\r\n    }\r\n    onOptionClick(event, item) {\r\n        if (this.isItemDisabled(item)) {\r\n            event.stopPropagation();\r\n            return;\r\n        }\r\n        this.optionClick.emit(item);\r\n    }\r\n    onEnterKeydown(itemIndex) {\r\n        const items = this.getItems();\r\n        const item = items[itemIndex];\r\n        this.optionClick.emit(item);\r\n    }\r\n    isItemDisabled(item) {\r\n        return this.disableChoiceFn ? this.disableChoiceFn(item) : false;\r\n    }\r\n    onInfiniteScrollItemsChange() {\r\n        this.infiniteScrollItemsChange.emit();\r\n    }\r\n    getItems() {\r\n        if (this.excludeSelected) {\r\n            return this.items.filter((item) => !this.isItemSelected(item));\r\n        }\r\n        else {\r\n            return this.items;\r\n        }\r\n    }\r\n};\r\n__decorate([\r\n    Input(),\r\n    __metadata(\"design:type\", String)\r\n], SelectListComponent.prototype, \"id\", void 0);\r\n__decorate([\r\n    Input(),\r\n    __metadata(\"design:type\", Object)\r\n], SelectListComponent.prototype, \"isPagedDropdown\", void 0);\r\n__decorate([\r\n    Input(),\r\n    __metadata(\"design:type\", Function)\r\n], SelectListComponent.prototype, \"fetchPage\", void 0);\r\n__decorate([\r\n    Input(),\r\n    __metadata(\"design:type\", String)\r\n], SelectListComponent.prototype, \"search\", void 0);\r\n__decorate([\r\n    Input(),\r\n    __metadata(\"design:type\", Array)\r\n], SelectListComponent.prototype, \"items\", void 0);\r\n__decorate([\r\n    Input(),\r\n    __metadata(\"design:type\", Object)\r\n], SelectListComponent.prototype, \"selected\", void 0);\r\n__decorate([\r\n    Input(),\r\n    __metadata(\"design:type\", Object)\r\n], SelectListComponent.prototype, \"excludeSelected\", void 0);\r\n__decorate([\r\n    Input(),\r\n    __metadata(\"design:type\", Function)\r\n], SelectListComponent.prototype, \"disableChoiceFn\", void 0);\r\n__decorate([\r\n    Input(),\r\n    __metadata(\"design:type\", Type)\r\n], SelectListComponent.prototype, \"itemComponent\", void 0);\r\n__decorate([\r\n    Input(),\r\n    __metadata(\"design:type\", SelectComponent)\r\n], SelectListComponent.prototype, \"selectComponentCtx\", void 0);\r\n__decorate([\r\n    Output(),\r\n    __metadata(\"design:type\", Object)\r\n], SelectListComponent.prototype, \"optionClick\", void 0);\r\n__decorate([\r\n    Output(),\r\n    __metadata(\"design:type\", Object)\r\n], SelectListComponent.prototype, \"infiniteScrollItemsChange\", void 0);\r\nSelectListComponent = __decorate([\r\n    Component({\r\n        selector: 'se-select-list',\r\n        changeDetection: ChangeDetectionStrategy.OnPush,\r\n        host: {\r\n            '[class.se-select-list]': 'true'\r\n        },\r\n        template: `<se-infinite-scrolling *ngIf=\"isPagedDropdown; else selectList\" [pageSize]=\"infiniteScrollingPageSize\" [mask]=\"search\" [fetchPage]=\"fetchPage\" [context]=\"selectComponentCtx\" (itemsChange)=\"onInfiniteScrollItemsChange()\"><ng-container *ngTemplateOutlet=\"selectList\"></ng-container></se-infinite-scrolling><ng-template #selectList><ol [attr.id]=\"id +'-list'\" fd-menu-list suListKeyboardControl [suListKeyboardControlDisabledPredicate]=\"keyboardControlDisabledPredicate\" (suListKeyboardControlEnterKeydown)=\"onEnterKeydown($event)\" [ngClass]=\"{ 'fd-menu__list--basic': !isPagedDropdown }\"><ng-container *ngFor=\"let item of items; trackBy: itemTrackBy\"><li *ngIf=\"(excludeSelected && !isItemSelected(item)) || !excludeSelected\" suListItemKeyboardControl class=\"se-select-list__item\" [ngClass]=\"{'is-selected': (!excludeSelected && isItemSelected(item)), 'is-disabled': isItemDisabled(item)}\"><fd-option (click)=\"onOptionClick($event, item)\" class=\"menu-option\"><se-item-printer [item]=\"item\" [isSelected]=\"false\" [component]=\"itemComponent\" [selectComponentCtx]=\"selectComponentCtx\"></se-item-printer></fd-option></li></ng-container></ol></ng-template>`\r\n    })\r\n], SelectListComponent);\r\nexport { SelectListComponent };\r\n//# sourceMappingURL=SelectListComponent.js.map","references":["/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@angular+core@8.2.14_rxjs@6.5.4+zone.js@0.9.1/node_modules/@angular/core/core.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedit/apps/smart-utils/dist/index.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/src/components/select/interfaces.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/src/components/select/SelectComponent.ts"],"map":"{\"version\":3,\"file\":\"SelectListComponent.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../../src/components/select/selectList/SelectListComponent.ts\"],\"names\":[],\"mappings\":\"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\"}","dts":{"name":"/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/node_modules/.cache/rollup-plugin-typescript2/placeholder/components/select/selectList/SelectListComponent.d.ts","writeByteOrderMark":false,"text":"import { EventEmitter, Type } from '@angular/core';\r\nimport { ListItemKeyboardControlDirective } from '@smart/utils';\r\nimport { FetchPageStrategy, SelectDisableChoice, SelectItem } from '../interfaces';\r\nimport { SelectComponent } from '../SelectComponent';\r\nexport declare class SelectListComponent<T extends SelectItem> {\r\n    id: string;\r\n    isPagedDropdown: boolean;\r\n    fetchPage: FetchPageStrategy<T>;\r\n    search: string;\r\n    items: T[];\r\n    selected: T | T[];\r\n    excludeSelected: boolean;\r\n    disableChoiceFn?: SelectDisableChoice<T>;\r\n    itemComponent: Type<any>;\r\n    selectComponentCtx: SelectComponent<T>;\r\n    optionClick: EventEmitter<T>;\r\n    infiniteScrollItemsChange: EventEmitter<T>;\r\n    readonly infiniteScrollingPageSize: number;\r\n    keyboardControlDisabledPredicate(item: ListItemKeyboardControlDirective): boolean;\r\n    itemTrackBy(_: any, item: SelectItem): string;\r\n    isItemSelected(item: T): boolean;\r\n    onOptionClick(event: MouseEvent, item: T): void;\r\n    onEnterKeydown(itemIndex: number): void;\r\n    isItemDisabled(item: T): boolean;\r\n    onInfiniteScrollItemsChange(): void;\r\n    private getItems;\r\n}\r\n"}}
