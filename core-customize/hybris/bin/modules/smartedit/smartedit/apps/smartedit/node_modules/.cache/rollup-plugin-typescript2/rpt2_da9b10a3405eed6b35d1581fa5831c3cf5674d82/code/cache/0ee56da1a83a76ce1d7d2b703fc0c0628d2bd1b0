{"code":"import { __decorate, __metadata, __param } from \"tslib\";\r\nimport { forwardRef, Component, ElementRef, Inject, Input, Injector } from '@angular/core';\r\nimport { filter } from 'rxjs/operators';\r\nimport { CLOSE_CTX_MENU, IContextualMenuService, NodeUtils, POPUP_OVERLAY_DATA, REFRESH_CONTEXTUAL_MENU_ITEMS_EVENT, SeCustomComponent, SystemEventService, YJQUERY_TOKEN, CONTEXTUAL_MENU_ITEM_DATA, ComponentHandlerService, CrossFrameEventService, EVENT_PAGE_TREE_COMPONENT_SELECTED, UserTrackingService, USER_TRACKING_FUNCTIONALITY } from 'smarteditcommons';\r\nimport { BaseContextualMenuComponent } from './BaseContextualMenuComponent';\r\nwindow.__smartedit__.addDecoratorPayload(\"Component\", \"MoreItemsComponent\", {\r\n    selector: 'se-more-items-component',\r\n    template: `\n        <div class=\"se-contextual-more-menu fd-menu\">\n            <ul\n                id=\"{{ parent.smarteditComponentId }}-{{ parent.smarteditComponentType }}-more-menu\"\n                class=\"fd-menu__list se-contextual-more-menu__list\"\n            >\n                <li\n                    *ngFor=\"let item of parent.getItems().moreMenuItems; let $index = index\"\n                    [attr.data-smartedit-id]=\"parent.smarteditComponentId\"\n                    [attr.data-smartedit-type]=\"parent.smarteditComponentType\"\n                    class=\"se-contextual-more-menu__item\"\n                    [ngClass]=\"item.customCss\"\n                >\n                    <se-popup-overlay\n                        [popupOverlay]=\"parent.itemTemplateOverlayWrapper\"\n                        [popupOverlayTrigger]=\"parent.shouldShowTemplate(item)\"\n                        [popupOverlayData]=\"{ item: item }\"\n                        (popupOverlayOnShow)=\"parent.onShowItemPopup(item)\"\n                        (popupOverlayOnHide)=\"parent.onHideItemPopup(false)\"\n                    >\n                        <se-contextual-menu-item\n                            [mode]=\"'compact'\"\n                            [index]=\"$index\"\n                            [componentAttributes]=\"parent.componentAttributes\"\n                            [slotAttributes]=\"parent.slotAttributes\"\n                            [itemConfig]=\"item\"\n                            (click)=\"parent.triggerMenuItemAction(item, $event)\"\n                            [attr.data-component-id]=\"parent.smarteditComponentId\"\n                            [attr.data-component-uuid]=\"\n                                parent.componentAttributes.smarteditComponentUuid\n                            \"\n                            [attr.data-component-type]=\"parent.smarteditComponentType\"\n                            [attr.data-slot-id]=\"parent.smarteditSlotId\"\n                            [attr.data-slot-uuid]=\"parent.smarteditSlotUuid\"\n                            [attr.data-container-id]=\"parent.smarteditContainerId\"\n                            [attr.data-container-type]=\"parent.smarteditContainerType\"\n                        >\n                        </se-contextual-menu-item>\n                    </se-popup-overlay>\n                </li>\n            </ul>\n        </div>\n    `\r\n});\r\nlet MoreItemsComponent = class MoreItemsComponent {\r\n    constructor(parent) {\r\n        this.parent = parent;\r\n    }\r\n};\r\nMoreItemsComponent = __decorate([\r\n    Component({\r\n        selector: 'se-more-items-component',\r\n        template: `\n        <div class=\"se-contextual-more-menu fd-menu\">\n            <ul\n                id=\"{{ parent.smarteditComponentId }}-{{ parent.smarteditComponentType }}-more-menu\"\n                class=\"fd-menu__list se-contextual-more-menu__list\"\n            >\n                <li\n                    *ngFor=\"let item of parent.getItems().moreMenuItems; let $index = index\"\n                    [attr.data-smartedit-id]=\"parent.smarteditComponentId\"\n                    [attr.data-smartedit-type]=\"parent.smarteditComponentType\"\n                    class=\"se-contextual-more-menu__item\"\n                    [ngClass]=\"item.customCss\"\n                >\n                    <se-popup-overlay\n                        [popupOverlay]=\"parent.itemTemplateOverlayWrapper\"\n                        [popupOverlayTrigger]=\"parent.shouldShowTemplate(item)\"\n                        [popupOverlayData]=\"{ item: item }\"\n                        (popupOverlayOnShow)=\"parent.onShowItemPopup(item)\"\n                        (popupOverlayOnHide)=\"parent.onHideItemPopup(false)\"\n                    >\n                        <se-contextual-menu-item\n                            [mode]=\"'compact'\"\n                            [index]=\"$index\"\n                            [componentAttributes]=\"parent.componentAttributes\"\n                            [slotAttributes]=\"parent.slotAttributes\"\n                            [itemConfig]=\"item\"\n                            (click)=\"parent.triggerMenuItemAction(item, $event)\"\n                            [attr.data-component-id]=\"parent.smarteditComponentId\"\n                            [attr.data-component-uuid]=\"\n                                parent.componentAttributes.smarteditComponentUuid\n                            \"\n                            [attr.data-component-type]=\"parent.smarteditComponentType\"\n                            [attr.data-slot-id]=\"parent.smarteditSlotId\"\n                            [attr.data-slot-uuid]=\"parent.smarteditSlotUuid\"\n                            [attr.data-container-id]=\"parent.smarteditContainerId\"\n                            [attr.data-container-type]=\"parent.smarteditContainerType\"\n                        >\n                        </se-contextual-menu-item>\n                    </se-popup-overlay>\n                </li>\n            </ul>\n        </div>\n    `\r\n    }),\r\n    __param(0, Inject(forwardRef(() => ContextualMenuDecoratorComponent))),\r\n    __metadata(\"design:paramtypes\", [ContextualMenuDecoratorComponent])\r\n], MoreItemsComponent);\r\nexport { MoreItemsComponent };\r\nwindow.__smartedit__.addDecoratorPayload(\"Component\", \"ContextualMenuItemOverlayComponent\", {\r\n    template: `\n        <div *ngIf=\"item.action.component\" class=\"se-contextual-extra-menu\">\n            <ng-container\n                *ngComponentOutlet=\"item.action.component; injector: componentInjector\"\n            ></ng-container>\n        </div>\n    `,\r\n    selector: 'se-contextual-menu-item-overlay'\r\n});\r\nlet ContextualMenuItemOverlayComponent = class ContextualMenuItemOverlayComponent {\r\n    constructor(data, parent, injector) {\r\n        this.data = data;\r\n        this.parent = parent;\r\n        this.injector = injector;\r\n    }\r\n    ngOnInit() {\r\n        this.createComponentInjector();\r\n    }\r\n    get item() {\r\n        return this.data.item;\r\n    }\r\n    createComponentInjector() {\r\n        this.componentInjector = Injector.create({\r\n            parent: this.injector,\r\n            providers: [\r\n                {\r\n                    provide: CONTEXTUAL_MENU_ITEM_DATA,\r\n                    useValue: {\r\n                        componentAttributes: this.parent.componentAttributes,\r\n                        setRemainOpen: (key, remainOpen) => this.parent.setRemainOpen(key, remainOpen)\r\n                    }\r\n                }\r\n            ]\r\n        });\r\n    }\r\n};\r\nContextualMenuItemOverlayComponent = __decorate([\r\n    Component({\r\n        template: `\n        <div *ngIf=\"item.action.component\" class=\"se-contextual-extra-menu\">\n            <ng-container\n                *ngComponentOutlet=\"item.action.component; injector: componentInjector\"\n            ></ng-container>\n        </div>\n    `,\r\n        selector: 'se-contextual-menu-item-overlay'\r\n    }),\r\n    __param(0, Inject(POPUP_OVERLAY_DATA)),\r\n    __param(1, Inject(forwardRef(() => ContextualMenuDecoratorComponent))),\r\n    __metadata(\"design:paramtypes\", [Object, ContextualMenuDecoratorComponent,\r\n        Injector])\r\n], ContextualMenuItemOverlayComponent);\r\nexport { ContextualMenuItemOverlayComponent };\r\nwindow.__smartedit__.addDecoratorPayload(\"Component\", \"ContextualMenuDecoratorComponent\", {\r\n    selector: 'contextual-menu',\r\n    template: `<div class=\"se-ctx-menu-decorator-wrapper\" [ngClass]=\"{'se-ctx-menu-decorator__border--visible': showContextualMenuBorders()}\"><div class=\"se-ctx-menu__overlay\" *ngIf=\"showOverlay(active)\"><div class=\"se-ctx-menu__overlay__left-section\" *ngIf=\"getItems()\"><div *ngFor=\"let item of getItems().leftMenuItems; let $index = index\" id=\"{{ item.key }}\"><se-popup-overlay [popupOverlay]=\"itemTemplateOverlayWrapper\" [popupOverlayTrigger]=\"shouldShowTemplate(item)\" [popupOverlayData]=\"{ item: item }\" (popupOverlayOnShow)=\"onShowItemPopup(item)\" (popupOverlayOnHide)=\"onHideItemPopup(false)\"><se-contextual-menu-item [mode]=\"'small'\" [index]=\"$index\" [componentAttributes]=\"componentAttributes\" [slotAttributes]=\"slotAttributes\" [itemConfig]=\"item\" (click)=\"triggerMenuItemAction(item, $event)\" [attr.data-component-id]=\"smarteditComponentId\" [attr.data-component-uuid]=\"componentAttributes.smarteditComponentUuid\" [attr.data-component-type]=\"smarteditComponentType\" [attr.data-slot-id]=\"smarteditSlotId\" [attr.data-slot-uuid]=\"smarteditSlotUuid\" [attr.data-container-id]=\"smarteditContainerId\" [attr.data-container-type]=\"smarteditContainerType\"></se-contextual-menu-item></se-popup-overlay></div></div><se-popup-overlay [popupOverlay]=\"moreMenuPopupConfig\" [popupOverlayTrigger]=\"moreMenuIsOpen\" (popupOverlayOnShow)=\"onShowMoreMenuPopup()\" (popupOverlayOnHide)=\"onHideMoreMenuPopup()\"><div *ngIf=\"getItems() && getItems().moreMenuItems.length > 0\" class=\"se-ctx-menu-element__btn se-ctx-menu-element__btn--more\" [ngClass]=\"{'se-ctx-menu-element__btn--more--open': moreMenuIsOpen }\" (click)=\"toggleMoreMenu()\"><span [title]=\"moreButton.i18nKey | translate\" class=\"{{moreButton.displayClass}}\"></span></div></se-popup-overlay></div><div class=\"se-wrapper-data\"><div><ng-content></ng-content></div></div></div>`\r\n});\r\nlet ContextualMenuDecoratorComponent = class ContextualMenuDecoratorComponent extends BaseContextualMenuComponent {\r\n    constructor(yjQuery, element, contextualMenuService, systemEventService, componentHandlerService, nodeUtils, crossFrameEventService, userTrackingService) {\r\n        super();\r\n        this.yjQuery = yjQuery;\r\n        this.element = element;\r\n        this.contextualMenuService = contextualMenuService;\r\n        this.systemEventService = systemEventService;\r\n        this.componentHandlerService = componentHandlerService;\r\n        this.nodeUtils = nodeUtils;\r\n        this.crossFrameEventService = crossFrameEventService;\r\n        this.userTrackingService = userTrackingService;\r\n        this.openItem = null;\r\n        this.moreMenuIsOpen = false;\r\n        this.itemTemplateOverlayWrapper = {\r\n            component: ContextualMenuItemOverlayComponent\r\n        };\r\n        this.moreMenuPopupConfig = {\r\n            component: MoreItemsComponent,\r\n            halign: 'left'\r\n        };\r\n        this.moreButton = {\r\n            displayClass: 'sap-icon--overflow',\r\n            i18nKey: 'se.cms.contextmenu.title.more'\r\n        };\r\n        this.oldWidth = null;\r\n        this.crossFrameEventService.subscribe(EVENT_PAGE_TREE_COMPONENT_SELECTED, (eventId, data) => {\r\n            if (this.smarteditElementUuid === data.elementUuid) {\r\n                this._pageTreeActive = data.active;\r\n                if (!this._pageTreeActive) {\r\n                    this._active = false;\r\n                }\r\n            }\r\n            else {\r\n                this._pageTreeActive = false;\r\n            }\r\n        });\r\n    }\r\n    set active(_active) {\r\n        if (typeof _active === 'string') {\r\n            this._active = _active === 'true';\r\n        }\r\n        else {\r\n            this._active = _active;\r\n        }\r\n        if (!this._active) {\r\n            this._pageTreeActive = false;\r\n        }\r\n    }\r\n    get active() {\r\n        return this._active || this._pageTreeActive;\r\n    }\r\n    ngDoCheck() {\r\n        if (this.element) {\r\n            const width = this.element.nativeElement.offsetWidth;\r\n            if (this.oldWidth !== width) {\r\n                this.oldWidth = width;\r\n                this.ngOnDestroy();\r\n                this.onInit();\r\n            }\r\n        }\r\n    }\r\n    ngOnDestroy() {\r\n        if (this.dndUnRegFn) {\r\n            this.dndUnRegFn();\r\n        }\r\n        if (this.unregisterRefreshItems) {\r\n            this.unregisterRefreshItems();\r\n        }\r\n    }\r\n    ngOnInit() {\r\n        this.componentAttributes = this.nodeUtils.collectSmarteditAttributesByElementUuid(this.smarteditElementUuid);\r\n        this.slotAttributes = {\r\n            smarteditSlotId: this.smarteditSlotId,\r\n            smarteditSlotUuid: this.smarteditSlotUuid\r\n        };\r\n        this.onInit();\r\n        this.contextualMenuService.onContextualMenuItemsAdded\r\n            .pipe(filter((type) => type === this.smarteditComponentType))\r\n            .subscribe((type) => this.updateItems());\r\n    }\r\n    get smarteditSlotId() {\r\n        return this.componentHandlerService.getParentSlotForComponent(this.element.nativeElement);\r\n    }\r\n    get smarteditSlotUuid() {\r\n        return this.componentHandlerService.getParentSlotUuidForComponent(this.element.nativeElement);\r\n    }\r\n    onInit() {\r\n        this.updateItems();\r\n        this.dndUnRegFn = this.systemEventService.subscribe(CLOSE_CTX_MENU, () => this.hideAllPopups());\r\n        this.unregisterRefreshItems = this.systemEventService.subscribe(REFRESH_CONTEXTUAL_MENU_ITEMS_EVENT, () => this.updateItems);\r\n    }\r\n    toggleMoreMenu() {\r\n        this.moreMenuIsOpen = !this.moreMenuIsOpen;\r\n    }\r\n    shouldShowTemplate(menuItem) {\r\n        return this.displayedItem === menuItem;\r\n    }\r\n    onShowItemPopup(item) {\r\n        this.setRemainOpen('someContextualPopupOverLay', true);\r\n        this.openItem = item;\r\n        this.openItem.isOpen = true;\r\n    }\r\n    onHideItemPopup(hideMoreMenu) {\r\n        if (this.openItem) {\r\n            this.openItem.isOpen = false;\r\n            this.openItem = null;\r\n        }\r\n        this.displayedItem = null;\r\n        this.setRemainOpen('someContextualPopupOverLay', false);\r\n        if (hideMoreMenu) {\r\n            this.onHideMoreMenuPopup();\r\n        }\r\n    }\r\n    onShowMoreMenuPopup() {\r\n        this.setRemainOpen('someContextualPopupOverLay', true);\r\n    }\r\n    onHideMoreMenuPopup() {\r\n        this.moreMenuIsOpen = false;\r\n        this.setRemainOpen('someContextualPopupOverLay', false);\r\n    }\r\n    hideAllPopups() {\r\n        this.onHideMoreMenuPopup();\r\n        this.onHideItemPopup();\r\n    }\r\n    getItems() {\r\n        return this.items;\r\n    }\r\n    showContextualMenuBorders() {\r\n        return this.active && this.items && this.items.leftMenuItems.length > 0;\r\n    }\r\n    triggerMenuItemAction(item, $event) {\r\n        $event.stopPropagation();\r\n        $event.preventDefault();\r\n        this.userTrackingService.trackingUserAction(USER_TRACKING_FUNCTIONALITY.CONTEXT_MENU, item.i18nKey);\r\n        if (item.action.component) {\r\n            if (this.displayedItem === item) {\r\n                this.displayedItem = null;\r\n            }\r\n            else {\r\n                this.displayedItem = item;\r\n            }\r\n        }\r\n        else if (item.action.callback) {\r\n            this.hideAllPopups();\r\n            item.action.callback({\r\n                componentType: this.smarteditComponentType,\r\n                componentId: this.smarteditComponentId,\r\n                containerType: this.smarteditContainerType,\r\n                containerId: this.smarteditContainerId,\r\n                componentAttributes: this.componentAttributes,\r\n                slotId: this.smarteditSlotId,\r\n                slotUuid: this.smarteditSlotUuid,\r\n                element: this.yjQuery(this.element.nativeElement)\r\n            }, $event);\r\n        }\r\n    }\r\n    maxContextualMenuItems() {\r\n        const ctxSize = 50;\r\n        const buttonMaxCapacity = Math.round(this.yjQuery(this.element.nativeElement).width() / ctxSize) - 1;\r\n        let leftButtons = buttonMaxCapacity >= 4 ? 3 : buttonMaxCapacity - 1;\r\n        leftButtons = leftButtons < 0 ? 0 : leftButtons;\r\n        return leftButtons;\r\n    }\r\n    updateItems() {\r\n        this.contextualMenuService\r\n            .getContextualMenuItems({\r\n            componentType: this.smarteditComponentType,\r\n            componentId: this.smarteditComponentId,\r\n            containerType: this.smarteditContainerType,\r\n            containerId: this.smarteditContainerId,\r\n            componentAttributes: this.componentAttributes,\r\n            iLeftBtns: this.maxContextualMenuItems(),\r\n            element: this.yjQuery(this.element.nativeElement)\r\n        })\r\n            .then((newItems) => {\r\n            this.items = newItems;\r\n        });\r\n    }\r\n};\r\n__decorate([\r\n    Input('data-smartedit-component-type'),\r\n    __metadata(\"design:type\", String)\r\n], ContextualMenuDecoratorComponent.prototype, \"smarteditComponentType\", void 0);\r\n__decorate([\r\n    Input('data-smartedit-component-id'),\r\n    __metadata(\"design:type\", String)\r\n], ContextualMenuDecoratorComponent.prototype, \"smarteditComponentId\", void 0);\r\n__decorate([\r\n    Input('data-smartedit-container-type'),\r\n    __metadata(\"design:type\", String)\r\n], ContextualMenuDecoratorComponent.prototype, \"smarteditContainerType\", void 0);\r\n__decorate([\r\n    Input('data-smartedit-container-id'),\r\n    __metadata(\"design:type\", String)\r\n], ContextualMenuDecoratorComponent.prototype, \"smarteditContainerId\", void 0);\r\n__decorate([\r\n    Input('data-smartedit-catalog-version-uuid'),\r\n    __metadata(\"design:type\", String)\r\n], ContextualMenuDecoratorComponent.prototype, \"smarteditCatalogVersionUuid\", void 0);\r\n__decorate([\r\n    Input('data-smartedit-element-uuid'),\r\n    __metadata(\"design:type\", String)\r\n], ContextualMenuDecoratorComponent.prototype, \"smarteditElementUuid\", void 0);\r\n__decorate([\r\n    Input(),\r\n    __metadata(\"design:type\", Object)\r\n], ContextualMenuDecoratorComponent.prototype, \"componentAttributes\", void 0);\r\n__decorate([\r\n    Input(),\r\n    __metadata(\"design:type\", Object),\r\n    __metadata(\"design:paramtypes\", [Object])\r\n], ContextualMenuDecoratorComponent.prototype, \"active\", null);\r\nContextualMenuDecoratorComponent = __decorate([\r\n    SeCustomComponent(),\r\n    Component({\r\n        selector: 'contextual-menu',\r\n        template: `<div class=\"se-ctx-menu-decorator-wrapper\" [ngClass]=\"{'se-ctx-menu-decorator__border--visible': showContextualMenuBorders()}\"><div class=\"se-ctx-menu__overlay\" *ngIf=\"showOverlay(active)\"><div class=\"se-ctx-menu__overlay__left-section\" *ngIf=\"getItems()\"><div *ngFor=\"let item of getItems().leftMenuItems; let $index = index\" id=\"{{ item.key }}\"><se-popup-overlay [popupOverlay]=\"itemTemplateOverlayWrapper\" [popupOverlayTrigger]=\"shouldShowTemplate(item)\" [popupOverlayData]=\"{ item: item }\" (popupOverlayOnShow)=\"onShowItemPopup(item)\" (popupOverlayOnHide)=\"onHideItemPopup(false)\"><se-contextual-menu-item [mode]=\"'small'\" [index]=\"$index\" [componentAttributes]=\"componentAttributes\" [slotAttributes]=\"slotAttributes\" [itemConfig]=\"item\" (click)=\"triggerMenuItemAction(item, $event)\" [attr.data-component-id]=\"smarteditComponentId\" [attr.data-component-uuid]=\"componentAttributes.smarteditComponentUuid\" [attr.data-component-type]=\"smarteditComponentType\" [attr.data-slot-id]=\"smarteditSlotId\" [attr.data-slot-uuid]=\"smarteditSlotUuid\" [attr.data-container-id]=\"smarteditContainerId\" [attr.data-container-type]=\"smarteditContainerType\"></se-contextual-menu-item></se-popup-overlay></div></div><se-popup-overlay [popupOverlay]=\"moreMenuPopupConfig\" [popupOverlayTrigger]=\"moreMenuIsOpen\" (popupOverlayOnShow)=\"onShowMoreMenuPopup()\" (popupOverlayOnHide)=\"onHideMoreMenuPopup()\"><div *ngIf=\"getItems() && getItems().moreMenuItems.length > 0\" class=\"se-ctx-menu-element__btn se-ctx-menu-element__btn--more\" [ngClass]=\"{'se-ctx-menu-element__btn--more--open': moreMenuIsOpen }\" (click)=\"toggleMoreMenu()\"><span [title]=\"moreButton.i18nKey | translate\" class=\"{{moreButton.displayClass}}\"></span></div></se-popup-overlay></div><div class=\"se-wrapper-data\"><div><ng-content></ng-content></div></div></div>`\r\n    }),\r\n    __param(0, Inject(YJQUERY_TOKEN)),\r\n    __metadata(\"design:paramtypes\", [Function, ElementRef,\r\n        IContextualMenuService,\r\n        SystemEventService,\r\n        ComponentHandlerService,\r\n        NodeUtils,\r\n        CrossFrameEventService,\r\n        UserTrackingService])\r\n], ContextualMenuDecoratorComponent);\r\nexport { ContextualMenuDecoratorComponent };\r\n//# sourceMappingURL=ContextualMenuDecoratorComponent.js.map","references":["/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@angular+core@8.2.14_rxjs@6.5.4+zone.js@0.9.1/node_modules/@angular/core/core.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/rxjs@6.5.4/node_modules/rxjs/operators/index.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/dist/index.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedit/apps/smartedit/src/services/index.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedit/apps/smartedit/src/modules/system/features/contextualMenu/BaseContextualMenuComponent.ts"],"map":"{\"version\":3,\"file\":\"ContextualMenuDecoratorComponent.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../../../src/modules/system/features/contextualMenu/ContextualMenuDecoratorComponent.ts\"],\"names\":[],\"mappings\":\"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\"}","dts":{"name":"/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedit/apps/smartedit/node_modules/.cache/rollup-plugin-typescript2/placeholder/modules/system/features/contextualMenu/ContextualMenuDecoratorComponent.d.ts","writeByteOrderMark":false,"text":"/// <reference types=\"angular\" />\r\n/// <reference types=\"jquery\" />\r\nimport { DoCheck, ElementRef, OnDestroy, OnInit, Injector } from '@angular/core';\r\nimport { ComponentAttributes, IContextualMenuButton, IContextualMenuService, NodeUtils, PopupOverlayConfig, SystemEventService, ComponentHandlerService, CrossFrameEventService, UserTrackingService } from 'smarteditcommons';\r\nimport { ContextualMenu } from '../../../../services';\r\nimport { BaseContextualMenuComponent } from './BaseContextualMenuComponent';\r\nexport declare class MoreItemsComponent {\r\n    parent: ContextualMenuDecoratorComponent;\r\n    constructor(parent: ContextualMenuDecoratorComponent);\r\n}\r\nexport declare class ContextualMenuItemOverlayComponent {\r\n    private data;\r\n    private parent;\r\n    private injector;\r\n    componentInjector: Injector;\r\n    constructor(data: {\r\n        item: IContextualMenuButton;\r\n    }, parent: ContextualMenuDecoratorComponent, injector: Injector);\r\n    ngOnInit(): void;\r\n    get item(): IContextualMenuButton;\r\n    private createComponentInjector;\r\n}\r\nexport declare class ContextualMenuDecoratorComponent extends BaseContextualMenuComponent implements OnInit, DoCheck, OnDestroy {\r\n    private yjQuery;\r\n    private element;\r\n    private contextualMenuService;\r\n    private systemEventService;\r\n    private componentHandlerService;\r\n    private readonly nodeUtils;\r\n    private readonly crossFrameEventService;\r\n    private userTrackingService;\r\n    smarteditComponentType: string;\r\n    smarteditComponentId: string;\r\n    smarteditContainerType: string;\r\n    smarteditContainerId: string;\r\n    smarteditCatalogVersionUuid: string;\r\n    smarteditElementUuid: string;\r\n    componentAttributes: ComponentAttributes;\r\n    set active(_active: string | boolean);\r\n    get active(): boolean | string;\r\n    items: ContextualMenu;\r\n    openItem: IContextualMenuButton;\r\n    moreMenuIsOpen: boolean;\r\n    slotAttributes: {\r\n        smarteditSlotId: string;\r\n        smarteditSlotUuid: string;\r\n    };\r\n    itemTemplateOverlayWrapper: PopupOverlayConfig;\r\n    moreMenuPopupConfig: PopupOverlayConfig;\r\n    moreButton: {\r\n        displayClass: string;\r\n        i18nKey: string;\r\n    };\r\n    private displayedItem;\r\n    private oldWidth;\r\n    private dndUnRegFn;\r\n    private unregisterRefreshItems;\r\n    private _active;\r\n    private _pageTreeActive;\r\n    constructor(yjQuery: JQueryStatic, element: ElementRef, contextualMenuService: IContextualMenuService, systemEventService: SystemEventService, componentHandlerService: ComponentHandlerService, nodeUtils: NodeUtils, crossFrameEventService: CrossFrameEventService, userTrackingService: UserTrackingService);\r\n    ngDoCheck(): void;\r\n    ngOnDestroy(): void;\r\n    ngOnInit(): void;\r\n    get smarteditSlotId(): string;\r\n    get smarteditSlotUuid(): string;\r\n    onInit(): void;\r\n    toggleMoreMenu(): void;\r\n    shouldShowTemplate(menuItem: IContextualMenuButton): boolean;\r\n    onShowItemPopup(item: IContextualMenuButton): void;\r\n    onHideItemPopup(hideMoreMenu?: boolean): void;\r\n    onShowMoreMenuPopup(): void;\r\n    onHideMoreMenuPopup(): void;\r\n    hideAllPopups(): void;\r\n    getItems(): ContextualMenu;\r\n    showContextualMenuBorders(): boolean;\r\n    triggerMenuItemAction(item: IContextualMenuButton, $event: Event): void;\r\n    private maxContextualMenuItems;\r\n    private updateItems;\r\n}\r\n"}}
