{"code":"import { __decorate, __metadata } from \"tslib\";\r\n/*\r\n * Copyright (c) 2022 SAP SE or an SAP affiliate company. All rights reserved.\r\n */\r\nimport { GatewayProxied, IStorageGateway, IStorageManagerGateway, LogService, SeDowngradeService } from 'smarteditcommons';\r\nimport { StorageProxy } from './StorageProxy';\r\n/** @internal */\r\nlet /* @ngInject */ StorageManagerGateway = class /* @ngInject */ StorageManagerGateway {\r\n    constructor($log, storageGateway) {\r\n        this.$log = $log;\r\n        this.storageGateway = storageGateway;\r\n    }\r\n    /**\r\n     * Disabled for inner app, due not to being able to pass storage controller instances across the gateway\r\n     * @param {IStorageController} controller\r\n     */\r\n    registerStorageController(controller) {\r\n        throw new Error(`registerStorageController() is not supported from the smartedit (inner) application, please register controllers from smarteditContainer`);\r\n    }\r\n    getStorage(storageConfiguration) {\r\n        const errMsg = `Unable to get storage ${storageConfiguration.storageId}`;\r\n        return new Promise((resolve, reject) => {\r\n            this.getStorageSanitityCheck(storageConfiguration).then((createdSuccessfully) => {\r\n                if (createdSuccessfully) {\r\n                    resolve(new StorageProxy(storageConfiguration, this.storageGateway));\r\n                }\r\n                else {\r\n                    this.$log.error(errMsg);\r\n                    reject(errMsg);\r\n                }\r\n            }, (result) => {\r\n                this.$log.error(errMsg);\r\n                this.$log.error(result);\r\n                reject(errMsg);\r\n            });\r\n        });\r\n    }\r\n    // =============================================\r\n    // ============= PROXIED METHODS ===============\r\n    // =============================================\r\n    deleteExpiredStorages(force) {\r\n        'proxyFunction';\r\n        return undefined;\r\n    }\r\n    deleteStorage(storageId, force) {\r\n        'proxyFunction';\r\n        return undefined;\r\n    }\r\n    getStorageSanitityCheck(storageConfiguration) {\r\n        'proxyFunction';\r\n        return undefined;\r\n    }\r\n    hasStorage(storageId) {\r\n        'proxyFunction';\r\n        return false;\r\n    }\r\n};\r\n/* @ngInject */ StorageManagerGateway = __decorate([\r\n    SeDowngradeService(IStorageManagerGateway),\r\n    GatewayProxied('getStorageSanitityCheck', 'deleteExpiredStorages', 'deleteStorage', 'hasStorage'),\r\n    __metadata(\"design:paramtypes\", [LogService, IStorageGateway])\r\n], /* @ngInject */ StorageManagerGateway);\r\nexport { /* @ngInject */ StorageManagerGateway };\r\n//# sourceMappingURL=StorageManagerGatewayInner.js.map","references":["/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/dist/index.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedit/apps/smartedit/src/services/storage/StorageProxy.ts"],"map":"{\"version\":3,\"file\":\"StorageManagerGatewayInner.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../src/services/storage/StorageManagerGatewayInner.ts\"],\"names\":[],\"mappings\":\";AAAA;;GAEG;AACH,OAAO,EAEH,cAAc,EAGd,eAAe,EACf,sBAAsB,EAEtB,UAAU,EACV,kBAAkB,EACrB,MAAM,kBAAkB,CAAC;AAC1B,OAAO,EAAE,YAAY,EAAE,MAAM,gBAAgB,CAAC;AAE9C,gBAAgB;AAGhB,4CAAA;IACI,YAAoB,IAAgB,EAAU,cAA+B;QAAzD,SAAI,GAAJ,IAAI,CAAY;QAAU,mBAAc,GAAd,cAAc,CAAiB;IAAG,CAAC;IAEjF;;;OAGG;IACH,yBAAyB,CAAC,UAA8B;QACpD,MAAM,IAAI,KAAK,CACX,0IAA0I,CAC7I,CAAC;IACN,CAAC;IAED,UAAU,CAAC,oBAAqC;QAC5C,MAAM,MAAM,GAAG,yBAAyB,oBAAoB,CAAC,SAAS,EAAE,CAAC;QAEzE,OAAO,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE;YACnC,IAAI,CAAC,uBAAuB,CAAC,oBAAoB,CAAC,CAAC,IAAI,CACnD,CAAC,mBAA4B,EAAE,EAAE;gBAC7B,IAAI,mBAAmB,EAAE;oBACrB,OAAO,CACF,IAAI,YAAY,CACb,oBAAoB,EACpB,IAAI,CAAC,cAAc,CACwB,CAClD,CAAC;iBACL;qBAAM;oBACH,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;oBACxB,MAAM,CAAC,MAAM,CAAC,CAAC;iBAClB;YACL,CAAC,EACD,CAAC,MAAW,EAAE,EAAE;gBACZ,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;gBACxB,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;gBACxB,MAAM,CAAC,MAAM,CAAC,CAAC;YACnB,CAAC,CACJ,CAAC;QACN,CAAC,CAAC,CAAC;IACP,CAAC;IAED,gDAAgD;IAChD,gDAAgD;IAChD,gDAAgD;IAEhD,qBAAqB,CAAC,KAAe;QACjC,eAAe,CAAC;QAChB,OAAO,SAAS,CAAC;IACrB,CAAC;IAED,aAAa,CAAC,SAAiB,EAAE,KAAe;QAC5C,eAAe,CAAC;QAChB,OAAO,SAAS,CAAC;IACrB,CAAC;IAED,uBAAuB,CAAC,oBAAqC;QACzD,eAAe,CAAC;QAChB,OAAO,SAAS,CAAC;IACrB,CAAC;IAED,UAAU,CAAC,SAAiB;QACxB,eAAe,CAAC;QAChB,OAAO,KAAK,CAAC;IACjB,CAAC;CACJ,CAAA;AA/DD;IAFC,kBAAkB,CAAC,sBAAsB,CAAC;IAC1C,cAAc,CAAC,yBAAyB,EAAE,uBAAuB,EAAE,eAAe,EAAE,YAAY,CAAC;qCAEpE,UAAU,EAA0B,eAAe;yCA8DhF\"}","dts":{"name":"/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedit/apps/smartedit/node_modules/.cache/rollup-plugin-typescript2/placeholder/services/storage/StorageManagerGatewayInner.d.ts","writeByteOrderMark":false,"text":"import { Cloneable, IStorage, IStorageController, IStorageGateway, IStorageManagerGateway, IStorageOptions, LogService } from 'smarteditcommons';\r\n/** @internal */\r\nexport declare class StorageManagerGateway implements IStorageManagerGateway {\r\n    private $log;\r\n    private storageGateway;\r\n    constructor($log: LogService, storageGateway: IStorageGateway);\r\n    /**\r\n     * Disabled for inner app, due not to being able to pass storage controller instances across the gateway\r\n     * @param {IStorageController} controller\r\n     */\r\n    registerStorageController(controller: IStorageController): void;\r\n    getStorage(storageConfiguration: IStorageOptions): Promise<IStorage<Cloneable, Cloneable>>;\r\n    deleteExpiredStorages(force?: boolean): Promise<boolean>;\r\n    deleteStorage(storageId: string, force?: boolean): Promise<boolean>;\r\n    getStorageSanitityCheck(storageConfiguration: IStorageOptions): Promise<boolean>;\r\n    hasStorage(storageId: string): boolean;\r\n}\r\n"}}
