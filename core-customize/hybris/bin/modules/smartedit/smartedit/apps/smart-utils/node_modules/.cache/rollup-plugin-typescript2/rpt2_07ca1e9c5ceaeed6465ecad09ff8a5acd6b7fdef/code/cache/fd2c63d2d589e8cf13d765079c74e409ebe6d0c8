{"code":"import { __decorate, __metadata } from \"tslib\";\r\nimport { Injectable } from '@angular/core';\r\nimport { IAlertService } from '../../../interfaces';\r\n/**\r\n * @ngdoc service\r\n * @name permissionErrorInterceptorModule.service:permissionErrorInterceptor\r\n * @description\r\n * Used for HTTP error code 403. Displays the alert message for permission error.\r\n */\r\nlet PermissionErrorInterceptor = class PermissionErrorInterceptor {\r\n    constructor(alertService) {\r\n        this.alertService = alertService;\r\n    }\r\n    predicate(request, response) {\r\n        return response.status === 403;\r\n    }\r\n    responseError(request, response) {\r\n        if (response.error && response.error.errors) {\r\n            response.error.errors\r\n                .filter((error) => error.type === 'TypePermissionError')\r\n                .forEach((error) => {\r\n                this.alertService.showDanger({\r\n                    message: error.message,\r\n                    duration: 10000\r\n                });\r\n            });\r\n        }\r\n        return Promise.reject(response);\r\n    }\r\n};\r\nPermissionErrorInterceptor = __decorate([\r\n    Injectable(),\r\n    __metadata(\"design:paramtypes\", [IAlertService])\r\n], PermissionErrorInterceptor);\r\nexport { PermissionErrorInterceptor };\r\n//# sourceMappingURL=permission-error.interceptor.js.map","references":["/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@angular+common@8.2.14_@angular+core@8.2.14+rxjs@6.5.4/node_modules/@angular/common/http.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@angular+core@8.2.14_rxjs@6.5.4+zone.js@0.9.1/node_modules/@angular/core/core.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedit/apps/smart-utils/src/interfaces/index.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedit/apps/smart-utils/src/services/interceptors/i-http-error.interceptor.ts"],"map":"{\"version\":3,\"file\":\"permission-error.interceptor.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../../src/services/interceptors/errors/permission-error.interceptor.ts\"],\"names\":[],\"mappings\":\";AAQA,OAAO,EAAE,UAAU,EAAE,MAAM,eAAe,CAAC;AAC3C,OAAO,EAAE,aAAa,EAAE,MAAM,qBAAqB,CAAC;AAEpD;;;;;GAKG;AAEH,IAAa,0BAA0B,GAAvC,MAAa,0BAA0B;IACnC,YAAoB,YAA2B;QAA3B,iBAAY,GAAZ,YAAY,CAAe;IAAG,CAAC;IACnD,SAAS,CAAC,OAAuB,EAAE,QAA2B;QAC1D,OAAO,QAAQ,CAAC,MAAM,KAAK,GAAG,CAAC;IACnC,CAAC;IACD,aAAa,CACT,OAAuB,EACvB,QAA2B;QAE3B,IAAI,QAAQ,CAAC,KAAK,IAAI,QAAQ,CAAC,KAAK,CAAC,MAAM,EAAE;YACzC,QAAQ,CAAC,KAAK,CAAC,MAAM;iBAChB,MAAM,CAAC,CAAC,KAAmB,EAAE,EAAE,CAAC,KAAK,CAAC,IAAI,KAAK,qBAAqB,CAAC;iBACrE,OAAO,CAAC,CAAC,KAAmB,EAAE,EAAE;gBAC7B,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC;oBACzB,OAAO,EAAE,KAAK,CAAC,OAAO;oBACtB,QAAQ,EAAE,KAAK;iBAClB,CAAC,CAAC;YACP,CAAC,CAAC,CAAC;SACV;QACD,OAAO,OAAO,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;IACpC,CAAC;CACJ,CAAA;AArBY,0BAA0B;IADtC,UAAU,EAAE;qCAEyB,aAAa;GADtC,0BAA0B,CAqBtC;SArBY,0BAA0B\"}","dts":{"name":"/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedit/apps/smart-utils/node_modules/.cache/rollup-plugin-typescript2/placeholder/services/interceptors/errors/permission-error.interceptor.d.ts","writeByteOrderMark":false,"text":"/**\r\n * Copyright (c) 2019 SAP SE or an SAP affiliate company. All rights reserved.\r\n * @module smartutils\r\n */\r\nimport { HttpErrorResponse, HttpRequest } from '@angular/common/http';\r\nimport { IAlertService } from '../../../interfaces';\r\nimport { IHttpErrorInterceptor } from '../i-http-error.interceptor';\r\n/**\r\n * @ngdoc service\r\n * @name permissionErrorInterceptorModule.service:permissionErrorInterceptor\r\n * @description\r\n * Used for HTTP error code 403. Displays the alert message for permission error.\r\n */\r\nexport declare class PermissionErrorInterceptor<T = any> implements IHttpErrorInterceptor<T> {\r\n    private alertService;\r\n    constructor(alertService: IAlertService);\r\n    predicate(request: HttpRequest<T>, response: HttpErrorResponse): boolean;\r\n    responseError(request: HttpRequest<T>, response: HttpErrorResponse): Promise<HttpErrorResponse>;\r\n}\r\n"}}
