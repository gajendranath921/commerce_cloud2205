{"code":"/**\r\n * @ngdoc object\r\n * @name @smartutils.object:EXPONENTIAL_RETRY_DEFAULT_SETTING\r\n *\r\n * @description\r\n * The setting object to be used as default values for retry.\r\n */\r\nexport const EXPONENTIAL_RETRY_DEFAULT_SETTING = {\r\n    MAX_BACKOFF: 64000,\r\n    MAX_ATTEMPT: 5,\r\n    MIN_BACKOFF: 0\r\n};\r\n/**\r\n * @ngdoc service\r\n * @name @smartutils.services:exponentialRetry\r\n * @description\r\n * When used by a retry strategy, this service could provide an exponential delay time to be used by the strategy before the next request is sent. The service also provides functionality to check if it is possible to perform a next retry.\r\n */\r\nexport class ExponentialRetry {\r\n    calculateNextDelay(attemptCount, maxBackoff, minBackoff) {\r\n        maxBackoff = maxBackoff || EXPONENTIAL_RETRY_DEFAULT_SETTING.MAX_BACKOFF;\r\n        minBackoff = minBackoff || EXPONENTIAL_RETRY_DEFAULT_SETTING.MIN_BACKOFF;\r\n        const waveShield = minBackoff + Math.random();\r\n        return Math.min(Math.pow(2, attemptCount) * 1000 + waveShield, maxBackoff);\r\n    }\r\n    canRetry(attemptCount, maxAttempt) {\r\n        maxAttempt = maxAttempt || EXPONENTIAL_RETRY_DEFAULT_SETTING.MAX_ATTEMPT;\r\n        return attemptCount <= maxAttempt;\r\n    }\r\n}\r\n//# sourceMappingURL=exponential-retry.js.map","references":["/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedit/apps/smart-utils/src/services/interceptors/errors/retries/retryPolicies/i-retry.ts"],"map":"{\"version\":3,\"file\":\"exponential-retry.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../../../../src/services/interceptors/errors/retries/retryPolicies/exponential-retry.ts\"],\"names\":[],\"mappings\":\"AASA;;;;;;GAMG;AACH,MAAM,CAAC,MAAM,iCAAiC,GAAG;IAC7C,WAAW,EAAE,KAAK;IAClB,WAAW,EAAE,CAAC;IACd,WAAW,EAAE,CAAC;CACjB,CAAC;AAEF;;;;;GAKG;AACH,MAAM,OAAO,gBAAgB;IACzB,kBAAkB,CAAC,YAAoB,EAAE,UAAmB,EAAE,UAAmB;QAC7E,UAAU,GAAG,UAAU,IAAI,iCAAiC,CAAC,WAAW,CAAC;QACzE,UAAU,GAAG,UAAU,IAAI,iCAAiC,CAAC,WAAW,CAAC;QAEzE,MAAM,UAAU,GAAG,UAAU,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC;QAE9C,OAAO,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,YAAY,CAAC,GAAG,IAAI,GAAG,UAAU,EAAE,UAAU,CAAC,CAAC;IAC/E,CAAC;IAED,QAAQ,CAAC,YAAoB,EAAE,UAAmB;QAC9C,UAAU,GAAG,UAAU,IAAI,iCAAiC,CAAC,WAAW,CAAC;QACzE,OAAO,YAAY,IAAI,UAAU,CAAC;IACtC,CAAC;CACJ\"}","dts":{"name":"/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedit/apps/smart-utils/node_modules/.cache/rollup-plugin-typescript2/placeholder/services/interceptors/errors/retries/retryPolicies/exponential-retry.d.ts","writeByteOrderMark":false,"text":"/**\r\n * Copyright (c) 2019 SAP SE or an SAP affiliate company. All rights reserved.\r\n * @module smartutils\r\n */\r\nimport { IRetry } from './i-retry';\r\n/**\r\n * @ngdoc object\r\n * @name @smartutils.object:EXPONENTIAL_RETRY_DEFAULT_SETTING\r\n *\r\n * @description\r\n * The setting object to be used as default values for retry.\r\n */\r\nexport declare const EXPONENTIAL_RETRY_DEFAULT_SETTING: {\r\n    MAX_BACKOFF: number;\r\n    MAX_ATTEMPT: number;\r\n    MIN_BACKOFF: number;\r\n};\r\n/**\r\n * @ngdoc service\r\n * @name @smartutils.services:exponentialRetry\r\n * @description\r\n * When used by a retry strategy, this service could provide an exponential delay time to be used by the strategy before the next request is sent. The service also provides functionality to check if it is possible to perform a next retry.\r\n */\r\nexport declare class ExponentialRetry implements IRetry {\r\n    calculateNextDelay(attemptCount: number, maxBackoff?: number, minBackoff?: number): number;\r\n    canRetry(attemptCount: number, maxAttempt?: number): boolean;\r\n}\r\n"}}
