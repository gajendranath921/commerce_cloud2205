{"code":"import { Subscription } from 'rxjs';\r\nimport { FormPropDecorator, FORM_PROP, InputPropDecorator } from '../../decorators';\r\n/**\r\n * @internal\r\n * Trigger property changes for the component and mark for check\r\n * for those components that have onPush change detection strategy.\r\n *\r\n * @param {ComponentRef<any>} componentRef\r\n */\r\nconst onChange = ({ changeDetectorRef, instance }) => {\r\n    instance.onDynamicInputChange && instance.onDynamicInputChange();\r\n    changeDetectorRef.markForCheck();\r\n};\r\n/**\r\n * @internal\r\n * Decorates the components with the decorators that were put into places.\r\n * The idea is made similar to how Angular decorates their properties with inputs.\r\n */\r\nexport const decorate = (componentRef, form) => {\r\n    const instance = componentRef.instance;\r\n    const decorators = instance.constructor[FORM_PROP];\r\n    if (!Array.isArray(decorators)) {\r\n        return new Subscription();\r\n    }\r\n    const props = new Map();\r\n    decorators.forEach((decorator) => {\r\n        const property = decorator.property;\r\n        if (decorator instanceof InputPropDecorator) {\r\n            const alias = decorator.alias;\r\n            if (form.getInput(alias) === undefined && instance[property] !== undefined) {\r\n                form.setInput(alias, instance[property]);\r\n            }\r\n            instance[property] = form.getInput(alias);\r\n            props.set(alias, decorator);\r\n        }\r\n        else if (decorator instanceof FormPropDecorator) {\r\n            instance[property] = form;\r\n        }\r\n    });\r\n    onChange(componentRef);\r\n    return form.inputChanges.subscribe(({ key, value }) => {\r\n        const decorator = props.get(key);\r\n        if (!decorator) {\r\n            return;\r\n        }\r\n        instance[decorator.property] = value;\r\n        onChange(componentRef);\r\n    });\r\n};\r\n//# sourceMappingURL=decorate.js.map","references":["/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@angular+core@8.2.14_rxjs@6.5.4+zone.js@0.9.1/node_modules/@angular/core/core.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/rxjs@6.5.4/node_modules/rxjs/index.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedit/apps/smart-utils/src/modules/form-builder/decorators.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedit/apps/smart-utils/src/modules/form-builder/models/index.ts"],"map":"{\"version\":3,\"file\":\"decorate.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../../../src/modules/form-builder/directives/form-renderer/decorate.ts\"],\"names\":[],\"mappings\":\"AAQA,OAAO,EAAE,YAAY,EAAE,MAAM,MAAM,CAAC;AAEpC,OAAO,EAAE,iBAAiB,EAAE,SAAS,EAAE,kBAAkB,EAAiB,MAAM,kBAAkB,CAAC;AAGnG;;;;;;GAMG;AACH,MAAM,QAAQ,GAAG,CAAC,EAAE,iBAAiB,EAAE,QAAQ,EAAoC,EAAQ,EAAE;IACzF,QAAQ,CAAC,oBAAoB,IAAI,QAAQ,CAAC,oBAAoB,EAAE,CAAC;IACjE,iBAAiB,CAAC,YAAY,EAAE,CAAC;AACrC,CAAC,CAAC;AAEF;;;;GAIG;AACH,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAC,YAA+B,EAAE,IAAkB,EAAgB,EAAE;IAC1F,MAAM,QAAQ,GAAG,YAAY,CAAC,QAAQ,CAAC;IACvC,MAAM,UAAU,GAAG,QAAQ,CAAC,WAAW,CAAC,SAAS,CAAoB,CAAC;IAEtE,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,UAAU,CAAC,EAAE;QAC5B,OAAO,IAAI,YAAY,EAAE,CAAC;KAC7B;IAED,MAAM,KAAK,GAAG,IAAI,GAAG,EAA8B,CAAC;IAEpD,UAAU,CAAC,OAAO,CAAC,CAAC,SAAS,EAAE,EAAE;QAC7B,MAAM,QAAQ,GAAG,SAAS,CAAC,QAAQ,CAAC;QACpC,IAAI,SAAS,YAAY,kBAAkB,EAAE;YACzC,MAAM,KAAK,GAAG,SAAS,CAAC,KAAK,CAAC;YAC9B,IAAI,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,KAAK,SAAS,IAAI,QAAQ,CAAC,QAAQ,CAAC,KAAK,SAAS,EAAE;gBACxE,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC;aAC5C;YACD,QAAQ,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;YAC1C,KAAK,CAAC,GAAG,CAAC,KAAK,EAAE,SAAS,CAAC,CAAC;SAC/B;aAAM,IAAI,SAAS,YAAY,iBAAiB,EAAE;YAC/C,QAAQ,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC;SAC7B;IACL,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,YAAY,CAAC,CAAC;IACvB,OAAO,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC,EAAE,GAAG,EAAE,KAAK,EAAE,EAAE,EAAE;QAClD,MAAM,SAAS,GAAG,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QAEjC,IAAI,CAAC,SAAS,EAAE;YACZ,OAAO;SACV;QAED,QAAQ,CAAC,SAAS,CAAC,QAAQ,CAAC,GAAG,KAAK,CAAC;QACrC,QAAQ,CAAC,YAAY,CAAC,CAAC;IAC3B,CAAC,CAAC,CAAC;AACP,CAAC,CAAC\"}","dts":{"name":"/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedit/apps/smart-utils/node_modules/.cache/rollup-plugin-typescript2/placeholder/modules/form-builder/directives/form-renderer/decorate.d.ts","writeByteOrderMark":false,"text":"/**\r\n * Copyright (c) 2019 SAP SE or an SAP affiliate company. All rights reserved.\r\n * @module smartutils\r\n */\r\nimport { ComponentRef } from '@angular/core';\r\nimport { Subscription } from 'rxjs';\r\nimport { AbstractForm } from '../../models';\r\n/**\r\n * @internal\r\n * Decorates the components with the decorators that were put into places.\r\n * The idea is made similar to how Angular decorates their properties with inputs.\r\n */\r\nexport declare const decorate: (componentRef: ComponentRef<any>, form: AbstractForm) => Subscription;\r\n"}}
