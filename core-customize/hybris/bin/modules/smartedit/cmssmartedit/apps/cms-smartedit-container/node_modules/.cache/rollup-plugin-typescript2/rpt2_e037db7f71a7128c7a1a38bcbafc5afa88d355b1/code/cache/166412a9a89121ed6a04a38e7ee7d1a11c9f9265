{"code":"import { __awaiter, __decorate, __metadata, __param } from \"tslib\";\r\nimport { Component, Inject } from '@angular/core';\r\nimport { GENERIC_EDITOR_WIDGET_DATA, LogService, IPageService } from 'smarteditcommons';\r\nwindow.__smartedit__.addDecoratorPayload(\"Component\", \"MissingPrimaryContentPageComponent\", {\r\n    selector: 'se-component-missing-primary-content-page',\r\n    template: `<div><div><label class=\"missing-primary-content-page-message__label\" [translate]=\"'se.cms.page.restore.content.page.noprimaryforvariation.msg'\"></label></div><se-select id=\"se-page-restore-change-primary-selector-dropdown\" [(model)]=\"cmsPage.label\" [fetchStrategy]=\"fetchStrategy\"></se-select></div>`,\r\n    styles: [`.missing-primary-content-page-message__label{font-style:italic;padding-bottom:10px;display:block}`]\r\n});\r\nlet MissingPrimaryContentPageComponent = class MissingPrimaryContentPageComponent {\r\n    constructor(data, pageService, logService) {\r\n        this.data = data;\r\n        this.pageService = pageService;\r\n        this.logService = logService;\r\n        this.CONTENT_PAGE_TYPE_CODE = 'ContentPage';\r\n        this.ERROR_MSG = '[MissingPrimaryContentPageComponent] - Cannot retrieve list of alternative content primary pages.';\r\n        ({ model: this.cmsPage } = data);\r\n    }\r\n    ngOnInit() {\r\n        this.fetchStrategy = {\r\n            fetchEntity: () => this.fetchEntity(),\r\n            fetchPage: (search, pageSize, currentPage) => this.fetchPage(search, pageSize, currentPage)\r\n        };\r\n    }\r\n    fetchEntity() {\r\n        return Promise.resolve(this.getSelectItemFromPrimaryPage(this.cmsPage));\r\n    }\r\n    fetchPage(search, pageSize, currentPage) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            try {\r\n                const page = yield this.pageService.getPaginatedPrimaryPagesForPageType(this.CONTENT_PAGE_TYPE_CODE, null, {\r\n                    search,\r\n                    pageSize,\r\n                    currentPage\r\n                });\r\n                const targetPage = {\r\n                    pagination: page.pagination,\r\n                    results: null\r\n                };\r\n                targetPage.results = page.response.map((rawPage) => this.getSelectItemFromPrimaryPage(rawPage));\r\n                return targetPage;\r\n            }\r\n            catch (error) {\r\n                this.logService.warn(this.ERROR_MSG, error);\r\n            }\r\n        });\r\n    }\r\n    getSelectItemFromPrimaryPage(page) {\r\n        return {\r\n            id: page.label,\r\n            label: page.name\r\n        };\r\n    }\r\n};\r\nMissingPrimaryContentPageComponent = __decorate([\r\n    Component({\r\n        selector: 'se-component-missing-primary-content-page',\r\n        template: `<div><div><label class=\"missing-primary-content-page-message__label\" [translate]=\"'se.cms.page.restore.content.page.noprimaryforvariation.msg'\"></label></div><se-select id=\"se-page-restore-change-primary-selector-dropdown\" [(model)]=\"cmsPage.label\" [fetchStrategy]=\"fetchStrategy\"></se-select></div>`,\r\n        styles: [`.missing-primary-content-page-message__label{font-style:italic;padding-bottom:10px;display:block}`]\r\n    }),\r\n    __param(0, Inject(GENERIC_EDITOR_WIDGET_DATA)),\r\n    __metadata(\"design:paramtypes\", [Object, IPageService,\r\n        LogService])\r\n], MissingPrimaryContentPageComponent);\r\nexport { MissingPrimaryContentPageComponent };\r\n//# sourceMappingURL=MissingPrimaryContentPageComponent.js.map","references":["/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@angular+core@8.2.14_rxjs@6.5.4+zone.js@0.9.1/node_modules/@angular/core/core.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/dist/index.d.ts"],"map":"{\"version\":3,\"file\":\"MissingPrimaryContentPageComponent.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../../../src/components/genericEditor/pageRestore/missingPrimaryContentPage/MissingPrimaryContentPageComponent.ts\"],\"names\":[],\"mappings\":\";AACA,OAAO,EAAE,SAAS,EAAE,MAAM,EAAU,MAAM,eAAe,CAAC;AAC1D,OAAO,EAEH,0BAA0B,EAE1B,UAAU,EAGV,YAAY,EAGf,MAAM,kBAAkB,CAAC;4FAEf;IACP,QAAQ,EAAE,2CAA2C;IACrD,QAAQ,EAAE,6SAA6S;IACvT,MAAM,EAAE,CAAC,mGAAmG,CAAC;CAChH;AACD,IAAa,kCAAkC,GAA/C,MAAa,kCAAkC;IAO3C,YAEW,IAAuC,EACtC,WAAyB,EACzB,UAAsB;QAFvB,SAAI,GAAJ,IAAI,CAAmC;QACtC,gBAAW,GAAX,WAAW,CAAc;QACzB,eAAU,GAAV,UAAU,CAAY;QARjB,2BAAsB,GAAG,aAAa,CAAC;QACvC,cAAS,GACtB,mGAAmG,CAAC;QAQpG,CAAC,EAAE,KAAK,EAAE,IAAI,CAAC,OAAO,EAAE,GAAG,IAAI,CAAC,CAAC;IACrC,CAAC;IAED,QAAQ;QACJ,IAAI,CAAC,aAAa,GAAG;YACjB,WAAW,EAAE,GAAwB,EAAE,CAAC,IAAI,CAAC,WAAW,EAAE;YAC1D,SAAS,EAAE,CACP,MAAc,EACd,QAAgB,EAChB,WAAmB,EACM,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,QAAQ,EAAE,WAAW,CAAC;SAChF,CAAC;IACN,CAAC;IAEO,WAAW;QACf,OAAO,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,4BAA4B,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;IAC5E,CAAC;IAEa,SAAS,CACnB,MAAc,EACd,QAAgB,EAChB,WAAmB;;YAEnB,IAAI;gBACA,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,mCAAmC,CACnE,IAAI,CAAC,sBAAsB,EAC3B,IAAI,EACJ;oBACI,MAAM;oBACN,QAAQ;oBACR,WAAW;iBACd,CACJ,CAAC;gBACF,MAAM,UAAU,GAAqB;oBACjC,UAAU,EAAE,IAAI,CAAC,UAAU;oBAC3B,OAAO,EAAE,IAAI;iBAChB,CAAC;gBACF,UAAU,CAAC,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,OAAO,EAAE,EAAE,CAC/C,IAAI,CAAC,4BAA4B,CAAC,OAAO,CAAC,CAC7C,CAAC;gBACF,OAAO,UAAU,CAAC;aACrB;YAAC,OAAO,KAAK,EAAE;gBACZ,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC;aAC/C;QACL,CAAC;KAAA;IAEO,4BAA4B,CAAC,IAAa;QAC9C,OAAO;YACH,EAAE,EAAE,IAAI,CAAC,KAAe;YACxB,KAAK,EAAE,IAAI,CAAC,IAAI;SACnB,CAAC;IACN,CAAC;CACJ,CAAA;AAjEY,kCAAkC;IAL9C,SAAS,CAAC;QACP,QAAQ,EAAE,2CAA2C;QACrD,QAAQ,EAAE,6SAA6S;QACvT,MAAM,EAAE,CAAC,mGAAmG,CAAC;KAChH,CAAC;IASO,WAAA,MAAM,CAAC,0BAA0B,CAAC,CAAA;6CAEd,YAAY;QACb,UAAU;GAXzB,kCAAkC,CAiE9C;SAjEY,kCAAkC\"}","dts":{"name":"/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/node_modules/.cache/rollup-plugin-typescript2/placeholder/components/genericEditor/pageRestore/missingPrimaryContentPage/MissingPrimaryContentPageComponent.d.ts","writeByteOrderMark":false,"text":"import { OnInit } from '@angular/core';\r\nimport { FetchStrategy, GenericEditorWidgetData, LogService, SelectItem, IPageService, ICMSPage } from 'smarteditcommons';\r\nexport declare class MissingPrimaryContentPageComponent implements OnInit {\r\n    data: GenericEditorWidgetData<ICMSPage>;\r\n    private pageService;\r\n    private logService;\r\n    cmsPage: ICMSPage;\r\n    fetchStrategy: FetchStrategy<SelectItem>;\r\n    private readonly CONTENT_PAGE_TYPE_CODE;\r\n    private readonly ERROR_MSG;\r\n    constructor(data: GenericEditorWidgetData<ICMSPage>, pageService: IPageService, logService: LogService);\r\n    ngOnInit(): void;\r\n    private fetchEntity;\r\n    private fetchPage;\r\n    private getSelectItemFromPrimaryPage;\r\n}\r\n"}}
