{"code":"import { __awaiter, __decorate, __metadata } from \"tslib\";\r\nimport { Component, ChangeDetectionStrategy, ChangeDetectorRef } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { ICatalogService, IPermissionService, IUrlService, SeDowngradeComponent } from 'smarteditcommons';\r\nwindow.__smartedit__.addDecoratorPayload(\"Component\", \"NavigationManagementPageComponent\", {\r\n    selector: 'se-navigation-management-page',\r\n    template: `<div class=\"se-navigation-management-page-list-template\"><div class=\"se-toolbar-group\"><se-toolbar cssClass=\"se-toolbar--shell\" imageRoot=\"imageRoot\" toolbarName=\"smartEditHeaderToolbar\"></se-toolbar><se-toolbar cssClass=\"se-toolbar--shell se-toolbar--shortcut\" imageRoot=\"imageRoot\" toolbarName=\"smartEditNavigationToolbar\"></se-toolbar></div><div class=\"se-navigation-editor-wrapper\" *ngIf=\"readOnly !== undefined\"><div class=\"se-navigation-editor-header\"><h1 class=\"se-navigation-editor-header__title\" translate=\"se.cms.navigationmanagement.title\"></h1><h4 class=\"se-navigation-editor-header__sub-title\">{{ catalogName | seL10n | async }} - {{ catalogVersion }}</h4></div><se-navigation-editor-tree [uriContext]=\"uriContext\" [readOnly]=\"readOnly\"></se-navigation-editor-tree></div></div>`,\r\n    styles: [`.se-navigation-editor-wrapper{min-height:100vh;padding:95px 30px 30px 30px;background-color:#edeff0}.se-navigation-editor-header{position:relative;min-height:100%;background-color:#fff;font-family:\"72\",web,\"Open Sans\",sans-serif;margin:0 -30px 20px -30px;padding:16px 30px}.se-navigation-editor-header__title{font-size:1.7142857143rem;line-height:1.3333333333;font-weight:400;color:#32363a;margin:0;padding:0}.se-navigation-editor-header__sub-title{font-size:1rem;line-height:1.4285714286;font-weight:400;color:#6a6d70;margin:0;padding:5px 0 0 0}`],\r\n    changeDetection: ChangeDetectionStrategy.OnPush\r\n});\r\nlet /* @ngInject */ NavigationManagementPageComponent = class /* @ngInject */ NavigationManagementPageComponent {\r\n    constructor(activatedRoute, urlService, permissionService, catalogService, cdr) {\r\n        this.activatedRoute = activatedRoute;\r\n        this.urlService = urlService;\r\n        this.permissionService = permissionService;\r\n        this.catalogService = catalogService;\r\n        this.cdr = cdr;\r\n    }\r\n    ngOnInit() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const { siteId, catalogId, catalogVersion } = this.activatedRoute.snapshot.params;\r\n            this.catalogVersion = catalogVersion;\r\n            this.uriContext = this.urlService.buildUriContext(siteId, catalogId, catalogVersion);\r\n            yield Promise.all([this.setCatalogName(siteId, catalogId), this.setReadOnly()]);\r\n            if (!this.cdr.destroyed) {\r\n                this.cdr.detectChanges();\r\n            }\r\n        });\r\n    }\r\n    setCatalogName(siteId, catalogId) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const catalogs = yield this.catalogService.getContentCatalogsForSite(siteId);\r\n            const foundCatalog = catalogs.find((catalog) => catalog.catalogId === catalogId);\r\n            this.catalogName = (foundCatalog === null || foundCatalog === void 0 ? void 0 : foundCatalog.name) || {};\r\n        });\r\n    }\r\n    setReadOnly() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const isPermissionGranted = yield this.permissionService.isPermitted([\r\n                {\r\n                    names: ['se.edit.navigation']\r\n                }\r\n            ]);\r\n            this.readOnly = !isPermissionGranted;\r\n        });\r\n    }\r\n};\r\n/* @ngInject */ NavigationManagementPageComponent = __decorate([\r\n    SeDowngradeComponent(),\r\n    Component({\r\n        selector: 'se-navigation-management-page',\r\n        template: `<div class=\"se-navigation-management-page-list-template\"><div class=\"se-toolbar-group\"><se-toolbar cssClass=\"se-toolbar--shell\" imageRoot=\"imageRoot\" toolbarName=\"smartEditHeaderToolbar\"></se-toolbar><se-toolbar cssClass=\"se-toolbar--shell se-toolbar--shortcut\" imageRoot=\"imageRoot\" toolbarName=\"smartEditNavigationToolbar\"></se-toolbar></div><div class=\"se-navigation-editor-wrapper\" *ngIf=\"readOnly !== undefined\"><div class=\"se-navigation-editor-header\"><h1 class=\"se-navigation-editor-header__title\" translate=\"se.cms.navigationmanagement.title\"></h1><h4 class=\"se-navigation-editor-header__sub-title\">{{ catalogName | seL10n | async }} - {{ catalogVersion }}</h4></div><se-navigation-editor-tree [uriContext]=\"uriContext\" [readOnly]=\"readOnly\"></se-navigation-editor-tree></div></div>`,\r\n        styles: [`.se-navigation-editor-wrapper{min-height:100vh;padding:95px 30px 30px 30px;background-color:#edeff0}.se-navigation-editor-header{position:relative;min-height:100%;background-color:#fff;font-family:\"72\",web,\"Open Sans\",sans-serif;margin:0 -30px 20px -30px;padding:16px 30px}.se-navigation-editor-header__title{font-size:1.7142857143rem;line-height:1.3333333333;font-weight:400;color:#32363a;margin:0;padding:0}.se-navigation-editor-header__sub-title{font-size:1rem;line-height:1.4285714286;font-weight:400;color:#6a6d70;margin:0;padding:5px 0 0 0}`],\r\n        changeDetection: ChangeDetectionStrategy.OnPush\r\n    }),\r\n    __metadata(\"design:paramtypes\", [ActivatedRoute,\r\n        IUrlService,\r\n        IPermissionService,\r\n        ICatalogService,\r\n        ChangeDetectorRef])\r\n], /* @ngInject */ NavigationManagementPageComponent);\r\nexport { /* @ngInject */ NavigationManagementPageComponent };\r\n//# sourceMappingURL=NavigationManagementPageComponent.js.map","references":["/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@angular+core@8.2.14_rxjs@6.5.4+zone.js@0.9.1/node_modules/@angular/core/core.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@angular+router@8.2.14_e9fbe5720e9434eb9ae0f6720f1ca3f4/node_modules/@angular/router/router.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/dist/index.d.ts"],"map":"{\"version\":3,\"file\":\"NavigationManagementPageComponent.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../src/components/navigation/NavigationManagementPageComponent.ts\"],\"names\":[],\"mappings\":\";AACA,OAAO,EACH,SAAS,EAET,uBAAuB,EACvB,iBAAiB,EAEpB,MAAM,eAAe,CAAC;AACvB,OAAO,EAAE,cAAc,EAAE,MAAM,iBAAiB,CAAC;AACjD,OAAO,EACH,eAAe,EACf,kBAAkB,EAElB,WAAW,EAEX,oBAAoB,EACvB,MAAM,kBAAkB,CAAC;2FAGf;IACP,QAAQ,EAAE,+BAA+B;IACzC,QAAQ,EAAE,wxBAAwxB;IAClyB,MAAM,EAAE,CAAC,oiBAAoiB,CAAC;IAC9iB,eAAe,EAAE,uBAAuB,CAAC,MAAM;CAClD;AACD,wDAAA;IAMI,YACY,cAA8B,EAC9B,UAAuB,EACvB,iBAAqC,EACrC,cAA+B,EAC/B,GAAsB;QAJtB,mBAAc,GAAd,cAAc,CAAgB;QAC9B,eAAU,GAAV,UAAU,CAAa;QACvB,sBAAiB,GAAjB,iBAAiB,CAAoB;QACrC,mBAAc,GAAd,cAAc,CAAiB;QAC/B,QAAG,GAAH,GAAG,CAAmB;IAC/B,CAAC;IAEE,QAAQ;;YACV,MAAM,EAAE,MAAM,EAAE,SAAS,EAAE,cAAc,EAAE,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,MAAM,CAAC;YAClF,IAAI,CAAC,cAAc,GAAG,cAAc,CAAC;YACrC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,MAAM,EAAE,SAAS,EAAE,cAAc,CAAC,CAAC;YAErF,MAAM,OAAO,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE,SAAS,CAAC,EAAE,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,CAAC;YAEhF,IAAI,CAAE,IAAI,CAAC,GAAe,CAAC,SAAS,EAAE;gBAClC,IAAI,CAAC,GAAG,CAAC,aAAa,EAAE,CAAC;aAC5B;QACL,CAAC;KAAA;IAEa,cAAc,CAAC,MAAc,EAAE,SAAiB;;YAC1D,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,cAAc,CAAC,yBAAyB,CAAC,MAAM,CAAC,CAAC;YAC7E,MAAM,YAAY,GAAG,QAAQ,CAAC,IAAI,CAAC,CAAC,OAAO,EAAE,EAAE,CAAC,OAAO,CAAC,SAAS,KAAK,SAAS,CAAC,CAAC;YACjF,IAAI,CAAC,WAAW,GAAG,CAAA,YAAY,aAAZ,YAAY,uBAAZ,YAAY,CAAE,IAAI,KAAI,EAAE,CAAC;QAChD,CAAC;KAAA;IAEa,WAAW;;YACrB,MAAM,mBAAmB,GAAG,MAAM,IAAI,CAAC,iBAAiB,CAAC,WAAW,CAAC;gBACjE;oBACI,KAAK,EAAE,CAAC,oBAAoB,CAAC;iBAChC;aACJ,CAAC,CAAC;YACH,IAAI,CAAC,QAAQ,GAAG,CAAC,mBAAmB,CAAC;QACzC,CAAC;KAAA;CACJ,CAAA;AAxCD;IAPC,oBAAoB,EAAE;IACtB,SAAS,CAAC;QACP,QAAQ,EAAE,+BAA+B;QACzC,QAAQ,EAAE,wxBAAwxB;QAClyB,MAAM,EAAE,CAAC,oiBAAoiB,CAAC;QAC9iB,eAAe,EAAE,uBAAuB,CAAC,MAAM;KAClD,CAAC;qCAQ8B,cAAc;QAClB,WAAW;QACJ,kBAAkB;QACrB,eAAe;QAC1B,iBAAiB;qDA6BrC\"}","dts":{"name":"/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/node_modules/.cache/rollup-plugin-typescript2/placeholder/components/navigation/NavigationManagementPageComponent.d.ts","writeByteOrderMark":false,"text":"import { OnInit, ChangeDetectorRef } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { ICatalogService, IPermissionService, IUriContext, IUrlService, TypedMap } from 'smarteditcommons';\r\nexport declare class NavigationManagementPageComponent implements OnInit {\r\n    private activatedRoute;\r\n    private urlService;\r\n    private permissionService;\r\n    private catalogService;\r\n    private cdr;\r\n    catalogName: TypedMap<string>;\r\n    catalogVersion: string;\r\n    uriContext: IUriContext;\r\n    readOnly: boolean;\r\n    constructor(activatedRoute: ActivatedRoute, urlService: IUrlService, permissionService: IPermissionService, catalogService: ICatalogService, cdr: ChangeDetectorRef);\r\n    ngOnInit(): Promise<void>;\r\n    private setCatalogName;\r\n    private setReadOnly;\r\n}\r\n"}}
