{"code":"import { __awaiter, __decorate, __metadata } from \"tslib\";\r\nimport { Component, EventEmitter, Input, Output, ChangeDetectorRef } from '@angular/core';\r\nimport { IContextAwareEditableItemService } from 'cmscommons';\r\nimport { clone, includes, cloneDeep, isEqual } from 'lodash';\r\nimport { GENERIC_EDITOR_LOADED_EVENT, GENERIC_EDITOR_UNRELATED_VALIDATION_MESSAGES_EVENT, LogService, SeDowngradeComponent, stringUtils, SystemEventService, CmsitemsRestService } from 'smarteditcommons';\r\nimport { PageRestrictionsCriteriaService } from '../../../../services/pageRestrictions/PageRestrictionsCriteriaService';\r\nimport { RestrictionPickerConfigService } from '../../services';\r\nimport { RestrictionEditorCriteriaSelectItemComponent } from './restrictionEditorCriteriaSelectItem/RestrictionEditorCriteriaSelectItemComponent';\r\nconst ITEM_MANAGEMENT_EDITOR_ID = 'se-item-management-editor';\r\nwindow.__smartedit__.addDecoratorPayload(\"Component\", \"RestrictionsEditorComponent\", {\r\n    selector: 'se-restrictions-editor',\r\n    template: `<div class=\"se-restrictions-container\"><div class=\"se-restrictions-container__header\" [ngClass]=\"{ 'se-restrictions-container__header--empty': restrictions.length === 0 }\"><label class=\"se-restrictions__sub-header\" translate=\"se.cms.restrictions.list.title\"></label><div class=\"se-restrictions-container__header--right\"><div *ngIf=\"restrictions.length > 1\"><div *ngIf=\"editable\"><se-select id=\"criteria-type\" [fetchStrategy]=\"criteriaFetchStrategy\" [itemComponent]=\"itemComponent\" [placeholder]=\"'se.cms.restrictions.picker.type.placeholder'\" [model]=\"criteria.id\" (modelChange)=\"matchCriteriaChanged($event)\" [searchEnabled]=\"false\"></se-select></div><div *ngIf=\"!editable\">{{ 'se.cms.restrictions.criteria' | translate }} {{ criteria.label | translate }}</div></div><button *ngIf=\"!showRestrictionPicker\" type=\"button\" class=\"se-restrictions__add-restriction-btn fd-button--cozy\" [disabled]=\"!editable\" (click)=\"onAddRestriction()\"><span translate=\"se.cms.restrictions.editor.button.add.new\"></span></button> <button class=\"cms-clean-btn se-restriction__clear-all__btn fd-button--light fd-button--compact\" *ngIf=\"showRemoveAllButton()\" (click)=\"removeAllRestrictions()\" translate=\"se.cms.restrictions.list.clear.all\"></button></div></div><se-slider-panel [sliderPanelConfiguration]=\"sliderPanelConfiguration\" [(sliderPanelHide)]=\"sliderPanelHide\" [(sliderPanelShow)]=\"sliderPanelShow\" (isShownChange)=\"onSliderVisibilityChange($event)\" class=\"se-add-restriction-panel\"><se-restriction-management *ngIf=\"isSliderVisible\" class=\"se-se-add-restriction-panel__restriction-management\" [config]=\"restrictionManagement.config\" [uriContext]=\"restrictionManagement.uriContext\" [(submitFn)]=\"restrictionManagement.submitFn\" [(isDirtyFn)]=\"restrictionManagement.isDirtyFn\"></se-restriction-management></se-slider-panel><div *ngIf=\"errors.length > 0\"><span class=\"se-help-block--has-error help-block fd-form__message fd-form__message--error\" *ngFor=\"let error of errors\" [translate]=\"error.message\"></span></div><se-restrictions-table *ngIf=\"isRestrictionsReady\" [editable]=\"editable\" [restrictions]=\"restrictions\" [restrictionCriteria]=\"criteria\" [errors]=\"errors\" [customClass]=\"'ySERestrictionListLink'\" (onEdit)=\"onEditRestriction($event)\" (onRemove)=\"onRemoveRestriction($event)\"></se-restrictions-table></div>`,\r\n    styles: [`.se-restrictions-container__header{display:flex;flex-direction:row;align-items:center;justify-content:space-between;border-bottom:1px solid #d9d9d9;padding-bottom:12px}.se-restrictions-container__header--right{display:flex;flex-direction:row;align-items:center}.se-restrictions-container__header--right>div,.se-restrictions-container__header--right>span{margin-left:12px;margin-right:16px;width:115px}.se-restrictions-container__header--empty{border-bottom:none}.se-restrictions__sub-header{font-weight:700;align-self:flex-start;color:#51555a;margin:0}.se-restriction__clear-all__btn{text-transform:capitalize}`]\r\n});\r\nlet /* @ngInject */ RestrictionsEditorComponent = class /* @ngInject */ RestrictionsEditorComponent {\r\n    constructor(logService, systemEventService, restrictionPickerConfigService, pageRestrictionsCriteriaService, contextAwareEditableItemService, cmsitemsRestService, cdr) {\r\n        this.logService = logService;\r\n        this.systemEventService = systemEventService;\r\n        this.restrictionPickerConfigService = restrictionPickerConfigService;\r\n        this.pageRestrictionsCriteriaService = pageRestrictionsCriteriaService;\r\n        this.contextAwareEditableItemService = contextAwareEditableItemService;\r\n        this.cmsitemsRestService = cmsitemsRestService;\r\n        this.cdr = cdr;\r\n        this.cancelFnChange = new EventEmitter();\r\n        this.isDirtyFnChange = new EventEmitter();\r\n        this.onRestrictionsChange = new EventEmitter();\r\n        this.resetFnChange = new EventEmitter();\r\n        this.errors = [];\r\n        this.restrictions = [];\r\n        this.originalRestrictions = [];\r\n        this.restrictionUuids = [];\r\n        this.isRestrictionsReady = false;\r\n        this.restrictionsArrayIsDirty = false;\r\n        this.showRestrictionPicker = false;\r\n        this.disableAddButton = false;\r\n        this.criteriaOptions = [];\r\n        this.criteria = {};\r\n        this.itemComponent = RestrictionEditorCriteriaSelectItemComponent;\r\n        this.matchCriteriaIsDirty = false;\r\n    }\r\n    ngOnInit() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.restrictionUuids = this.restrictionUuids || [];\r\n            const restrictionsData = yield this.cmsitemsRestService.getByIdsNoCache(this.restrictionUuids, 'FULL');\r\n            const restrictionUuidsLength = 2;\r\n            this.restrictions = (restrictionsData.response\r\n                ? restrictionsData.response\r\n                : [restrictionsData]);\r\n            this.criteriaFetchStrategy = {\r\n                fetchAll: () => Promise.resolve(this.criteriaOptions)\r\n            };\r\n            this.prepareRestrictionsCriteria();\r\n            yield this.setupResults();\r\n            this.sliderPanelConfiguration = {\r\n                modal: {\r\n                    showDismissButton: true,\r\n                    title: '',\r\n                    dismiss: {\r\n                        label: 'se.cms.restriction.management.panel.button.cancel',\r\n                        onClick: () => {\r\n                            this.sliderPanelHide();\r\n                        },\r\n                        isDisabledFn: () => false\r\n                    },\r\n                    save: {\r\n                        onClick: () => {\r\n                        },\r\n                        label: '',\r\n                        isDisabledFn: () => false\r\n                    }\r\n                },\r\n                cssSelector: '#y-modal-dialog'\r\n            };\r\n            this.restrictionManagement = {\r\n                uriContext: this.item.uriContext,\r\n                submitFn: null,\r\n                isDirtyFn: null,\r\n                config: null\r\n            };\r\n            this.isDirtyFnChange.emit(() => this.restrictionsArrayIsDirty ||\r\n                (this.matchCriteriaIsDirty &&\r\n                    this.restrictionUuids.length >= restrictionUuidsLength));\r\n            this.resetFnChange.emit(() => true);\r\n            this.cancelFnChange.emit(() => Promise.resolve(true));\r\n            this.initEvents();\r\n            if (!this.cdr.destroyed) {\r\n                this.cdr.detectChanges();\r\n            }\r\n        });\r\n    }\r\n    ngOnDestroy() {\r\n        this.clearEvents();\r\n    }\r\n    ngOnChanges(changes) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (!changes.restrictionUuids) {\r\n                return Promise.resolve();\r\n            }\r\n            this.restrictionsArrayIsDirty =\r\n                !changes.restrictionUuids.firstChange &&\r\n                    JSON.stringify(this.originalRestrictions) !== JSON.stringify(this.restrictions);\r\n            const haveRestrictionsChanged = !isEqual(changes.restrictionUuids.previousValue, changes.restrictionUuids.currentValue);\r\n            if (haveRestrictionsChanged) {\r\n                this.indexRestrictions();\r\n            }\r\n            return this.applyIsRestrictionEditable();\r\n        });\r\n    }\r\n    onAddRestriction() {\r\n        this.setSliderConfigForAddOrCreate();\r\n        this.restrictionManagement.config = this.restrictionPickerConfigService.getConfigForSelecting([...this.restrictions], this.getRestrictionTypes, this.getSupportedRestrictionTypes);\r\n        this.sliderPanelShow();\r\n    }\r\n    onEditRestriction(restriction) {\r\n        this.setSliderConfigForEditing();\r\n        this.restrictionManagement.config = this.restrictionPickerConfigService.getConfigForEditing(Object.assign({}, restriction), this.getSupportedRestrictionTypes);\r\n        this.sliderPanelShow();\r\n    }\r\n    onRemoveRestriction(restrictionIndex) {\r\n        this.restrictions = this.restrictions.filter((_, index) => index !== restrictionIndex);\r\n        this.updateRestrictionsData();\r\n    }\r\n    removeAllRestrictions() {\r\n        this.restrictions = [];\r\n        if (this.removeValidationMessages) {\r\n            this.removeValidationMessages();\r\n        }\r\n        this.updateRestrictionsData();\r\n    }\r\n    showRemoveAllButton() {\r\n        return this.restrictionUuids.length > 0 && this.editable;\r\n    }\r\n    matchCriteriaChanged(selectedCriteriaId) {\r\n        this.criteria = this.criteriaOptions.find((criteria) => criteria.id === selectedCriteriaId);\r\n        this.matchCriteriaIsDirty = this.criteria !== this.originalCriteria;\r\n        this.updateRestrictionsData();\r\n    }\r\n    onSliderVisibilityChange(isVisible) {\r\n        this.isSliderVisible = isVisible;\r\n    }\r\n    setupResults() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.indexRestrictions();\r\n            this.originalRestrictions = this.cloneRestrictions(this.restrictions);\r\n            this.updateRestrictionsData();\r\n            yield this.applyIsRestrictionEditable();\r\n            this.isRestrictionsReady = true;\r\n        });\r\n    }\r\n    updateRestrictionsData(alwaysEnableSubmit = false) {\r\n        this.onRestrictionsChange.emit({\r\n            onlyOneRestrictionMustApply: this.criteria.value,\r\n            restrictionUuids: this.restrictions.map((restriction) => restriction.uuid),\r\n            alwaysEnableSubmit\r\n        });\r\n    }\r\n    prepareRestrictionsCriteria() {\r\n        this.criteriaOptions = this.pageRestrictionsCriteriaService.getRestrictionCriteriaOptions();\r\n        if (!!this.item.onlyOneRestrictionMustApply) {\r\n            this.criteria = this.criteriaOptions[1];\r\n            this.originalCriteria = this.criteriaOptions[1];\r\n        }\r\n        else {\r\n            this.criteria = this.criteriaOptions[0];\r\n            this.originalCriteria = this.criteriaOptions[0];\r\n        }\r\n    }\r\n    isRestrictionRelatedError(validationError) {\r\n        return includes(validationError.subject, 'restrictions');\r\n    }\r\n    formatRestrictionRelatedError(validationError) {\r\n        const error = clone(validationError);\r\n        if (!stringUtils.isBlank(error.position)) {\r\n            error.position = parseInt(error.position, 10);\r\n        }\r\n        if (!stringUtils.isBlank(error.subject)) {\r\n            error.subject = error.subject.split('.').pop();\r\n        }\r\n        return error;\r\n    }\r\n    handleUnrelatedValidationErrors(validationData) {\r\n        this.errors = validationData.messages\r\n            .filter((error) => this.isRestrictionRelatedError(error))\r\n            .map((error) => this.formatRestrictionRelatedError(error));\r\n    }\r\n    propagateErrors(genericEditorId) {\r\n        var _a;\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const restrictionInEditMode = ((_a = this.restrictionManagement.config) === null || _a === void 0 ? void 0 : _a.mode) ===\r\n                this.restrictionPickerConfigService.MODE_EDITING &&\r\n                genericEditorId === ITEM_MANAGEMENT_EDITOR_ID;\r\n            if (!restrictionInEditMode) {\r\n                return;\r\n            }\r\n            const restrictionIndex = this.restrictionManagement.config\r\n                .restriction.restrictionIndex;\r\n            const errorsToPropagate = this.errors.filter((error) => error.position === restrictionIndex);\r\n            this.clearEvents();\r\n            yield this.systemEventService.publishAsync(GENERIC_EDITOR_UNRELATED_VALIDATION_MESSAGES_EVENT, {\r\n                messages: errorsToPropagate,\r\n                targetGenericEditorId: genericEditorId\r\n            });\r\n            this.initEvents();\r\n        });\r\n    }\r\n    indexRestrictions() {\r\n        this.restrictions = (this.restrictions || []).map((restriction, index) => (Object.assign(Object.assign({}, restriction), { restrictionIndex: index })));\r\n    }\r\n    cloneRestrictions(restrictions) {\r\n        return cloneDeep(restrictions);\r\n    }\r\n    initEvents() {\r\n        this.unregisterErrorListener = this.systemEventService.subscribe(GENERIC_EDITOR_UNRELATED_VALIDATION_MESSAGES_EVENT, (_eventId, data) => this.handleUnrelatedValidationErrors(data));\r\n        this.unregisterErrorPropagationEvent = this.systemEventService.subscribe(GENERIC_EDITOR_LOADED_EVENT, (_eventId, data) => this.propagateErrors(data));\r\n    }\r\n    clearEvents() {\r\n        try {\r\n            this.unregisterErrorListener();\r\n            this.unregisterErrorPropagationEvent();\r\n        }\r\n        catch (e) {\r\n        }\r\n    }\r\n    applyIsRestrictionEditable() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.restrictions = yield Promise.all(this.restrictions.map((restriction) => __awaiter(this, void 0, void 0, function* () {\r\n                if (restriction.uid) {\r\n                    restriction.canBeEdited = yield this.contextAwareEditableItemService.isItemEditable(restriction.uid);\r\n                    if (!this.cdr.destroyed) {\r\n                        this.cdr.detectChanges();\r\n                    }\r\n                    return restriction;\r\n                }\r\n                restriction.canBeEdited = true;\r\n                if (!this.cdr.destroyed) {\r\n                    this.cdr.detectChanges();\r\n                }\r\n                return restriction;\r\n            })));\r\n        });\r\n    }\r\n    setSliderConfigForAddOrCreate() {\r\n        this.sliderPanelConfiguration.modal.title = 'se.cms.restriction.management.panel.title.add';\r\n        this.sliderPanelConfiguration.modal.save.label =\r\n            'se.cms.restriction.management.panel.button.add';\r\n        this.sliderPanelConfiguration.modal.save.isDisabledFn = () => {\r\n            if (this.disableAddButton) {\r\n                return true;\r\n            }\r\n            if (this.restrictionManagement.isDirtyFn) {\r\n                return !this.restrictionManagement.isDirtyFn();\r\n            }\r\n            return true;\r\n        };\r\n        this.sliderPanelConfiguration.modal.save.onClick = () => __awaiter(this, void 0, void 0, function* () {\r\n            try {\r\n                this.disableAddButton = true;\r\n                const restriction = yield this.restrictionManagement.submitFn();\r\n                this.disableAddButton = false;\r\n                this.restrictions = this.restrictions.concat(restriction);\r\n                this.updateRestrictionsData();\r\n                this.sliderPanelHide();\r\n            }\r\n            catch (_a) {\r\n                this.disableAddButton = false;\r\n                this.logService.warn('RestrictionsEditorComponent.setSliderConfigForAddOrCreate - Failed to create restriction');\r\n            }\r\n        });\r\n    }\r\n    setSliderConfigForEditing() {\r\n        this.sliderPanelConfiguration.modal.title =\r\n            'se.cms.restriction.management.panel.title.edit';\r\n        this.sliderPanelConfiguration.modal.save.label =\r\n            'se.cms.restriction.management.panel.button.save';\r\n        this.sliderPanelConfiguration.modal.save.isDisabledFn = () => {\r\n            if (this.restrictionManagement.isDirtyFn) {\r\n                return !this.restrictionManagement.isDirtyFn();\r\n            }\r\n            return true;\r\n        };\r\n        this.sliderPanelConfiguration.modal.save.onClick = () => __awaiter(this, void 0, void 0, function* () {\r\n            const restrictionEdited = yield this.restrictionManagement.submitFn();\r\n            if (this.restrictionManagement.config) {\r\n                const payloadRestriction = this.restrictionManagement\r\n                    .config.restriction;\r\n                restrictionEdited.restrictionIndex = payloadRestriction.restrictionIndex;\r\n            }\r\n            const restrictionIndex = restrictionEdited.restrictionIndex;\r\n            if (restrictionIndex !== -1) {\r\n                this.restrictions = this.restrictions.map((restriction, index) => {\r\n                    if (index === restrictionIndex) {\r\n                        return restrictionEdited;\r\n                    }\r\n                    return restriction;\r\n                });\r\n            }\r\n            else {\r\n                throw new Error('RestrictionsEditorComponent - edited restriction not found in list: ' +\r\n                    restrictionEdited);\r\n            }\r\n            this.updateRestrictionsData(true);\r\n            this.sliderPanelHide();\r\n        });\r\n    }\r\n};\r\n__decorate([\r\n    Input(),\r\n    __metadata(\"design:type\", Object)\r\n], /* @ngInject */ RestrictionsEditorComponent.prototype, \"item\", void 0);\r\n__decorate([\r\n    Input(),\r\n    __metadata(\"design:type\", Boolean)\r\n], /* @ngInject */ RestrictionsEditorComponent.prototype, \"editable\", void 0);\r\n__decorate([\r\n    Input(),\r\n    __metadata(\"design:type\", Function)\r\n], /* @ngInject */ RestrictionsEditorComponent.prototype, \"resetFn\", void 0);\r\n__decorate([\r\n    Input(),\r\n    __metadata(\"design:type\", Function)\r\n], /* @ngInject */ RestrictionsEditorComponent.prototype, \"cancelFn\", void 0);\r\n__decorate([\r\n    Input(),\r\n    __metadata(\"design:type\", Function)\r\n], /* @ngInject */ RestrictionsEditorComponent.prototype, \"isDirtyFn\", void 0);\r\n__decorate([\r\n    Input(),\r\n    __metadata(\"design:type\", Function)\r\n], /* @ngInject */ RestrictionsEditorComponent.prototype, \"getRestrictionTypes\", void 0);\r\n__decorate([\r\n    Input(),\r\n    __metadata(\"design:type\", Function)\r\n], /* @ngInject */ RestrictionsEditorComponent.prototype, \"getSupportedRestrictionTypes\", void 0);\r\n__decorate([\r\n    Input(),\r\n    __metadata(\"design:type\", Function)\r\n], /* @ngInject */ RestrictionsEditorComponent.prototype, \"removeValidationMessages\", void 0);\r\n__decorate([\r\n    Input(),\r\n    __metadata(\"design:type\", Array)\r\n], /* @ngInject */ RestrictionsEditorComponent.prototype, \"restrictionUuids\", void 0);\r\n__decorate([\r\n    Output(),\r\n    __metadata(\"design:type\", EventEmitter)\r\n], /* @ngInject */ RestrictionsEditorComponent.prototype, \"onRestrictionsChange\", void 0);\r\n__decorate([\r\n    Output(),\r\n    __metadata(\"design:type\", EventEmitter)\r\n], /* @ngInject */ RestrictionsEditorComponent.prototype, \"resetFnChange\", void 0);\r\n__decorate([\r\n    Output(),\r\n    __metadata(\"design:type\", EventEmitter)\r\n], /* @ngInject */ RestrictionsEditorComponent.prototype, \"cancelFnChange\", void 0);\r\n__decorate([\r\n    Output(),\r\n    __metadata(\"design:type\", EventEmitter)\r\n], /* @ngInject */ RestrictionsEditorComponent.prototype, \"isDirtyFnChange\", void 0);\r\n/* @ngInject */ RestrictionsEditorComponent = __decorate([\r\n    SeDowngradeComponent(),\r\n    Component({\r\n        selector: 'se-restrictions-editor',\r\n        template: `<div class=\"se-restrictions-container\"><div class=\"se-restrictions-container__header\" [ngClass]=\"{ 'se-restrictions-container__header--empty': restrictions.length === 0 }\"><label class=\"se-restrictions__sub-header\" translate=\"se.cms.restrictions.list.title\"></label><div class=\"se-restrictions-container__header--right\"><div *ngIf=\"restrictions.length > 1\"><div *ngIf=\"editable\"><se-select id=\"criteria-type\" [fetchStrategy]=\"criteriaFetchStrategy\" [itemComponent]=\"itemComponent\" [placeholder]=\"'se.cms.restrictions.picker.type.placeholder'\" [model]=\"criteria.id\" (modelChange)=\"matchCriteriaChanged($event)\" [searchEnabled]=\"false\"></se-select></div><div *ngIf=\"!editable\">{{ 'se.cms.restrictions.criteria' | translate }} {{ criteria.label | translate }}</div></div><button *ngIf=\"!showRestrictionPicker\" type=\"button\" class=\"se-restrictions__add-restriction-btn fd-button--cozy\" [disabled]=\"!editable\" (click)=\"onAddRestriction()\"><span translate=\"se.cms.restrictions.editor.button.add.new\"></span></button> <button class=\"cms-clean-btn se-restriction__clear-all__btn fd-button--light fd-button--compact\" *ngIf=\"showRemoveAllButton()\" (click)=\"removeAllRestrictions()\" translate=\"se.cms.restrictions.list.clear.all\"></button></div></div><se-slider-panel [sliderPanelConfiguration]=\"sliderPanelConfiguration\" [(sliderPanelHide)]=\"sliderPanelHide\" [(sliderPanelShow)]=\"sliderPanelShow\" (isShownChange)=\"onSliderVisibilityChange($event)\" class=\"se-add-restriction-panel\"><se-restriction-management *ngIf=\"isSliderVisible\" class=\"se-se-add-restriction-panel__restriction-management\" [config]=\"restrictionManagement.config\" [uriContext]=\"restrictionManagement.uriContext\" [(submitFn)]=\"restrictionManagement.submitFn\" [(isDirtyFn)]=\"restrictionManagement.isDirtyFn\"></se-restriction-management></se-slider-panel><div *ngIf=\"errors.length > 0\"><span class=\"se-help-block--has-error help-block fd-form__message fd-form__message--error\" *ngFor=\"let error of errors\" [translate]=\"error.message\"></span></div><se-restrictions-table *ngIf=\"isRestrictionsReady\" [editable]=\"editable\" [restrictions]=\"restrictions\" [restrictionCriteria]=\"criteria\" [errors]=\"errors\" [customClass]=\"'ySERestrictionListLink'\" (onEdit)=\"onEditRestriction($event)\" (onRemove)=\"onRemoveRestriction($event)\"></se-restrictions-table></div>`,\r\n        styles: [`.se-restrictions-container__header{display:flex;flex-direction:row;align-items:center;justify-content:space-between;border-bottom:1px solid #d9d9d9;padding-bottom:12px}.se-restrictions-container__header--right{display:flex;flex-direction:row;align-items:center}.se-restrictions-container__header--right>div,.se-restrictions-container__header--right>span{margin-left:12px;margin-right:16px;width:115px}.se-restrictions-container__header--empty{border-bottom:none}.se-restrictions__sub-header{font-weight:700;align-self:flex-start;color:#51555a;margin:0}.se-restriction__clear-all__btn{text-transform:capitalize}`]\r\n    }),\r\n    __metadata(\"design:paramtypes\", [LogService,\r\n        SystemEventService,\r\n        RestrictionPickerConfigService,\r\n        PageRestrictionsCriteriaService,\r\n        IContextAwareEditableItemService,\r\n        CmsitemsRestService,\r\n        ChangeDetectorRef])\r\n], /* @ngInject */ RestrictionsEditorComponent);\r\nexport { /* @ngInject */ RestrictionsEditorComponent };\r\n//# sourceMappingURL=RestrictionsEditorComponent.js.map","references":["/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@angular+core@8.2.14_rxjs@6.5.4+zone.js@0.9.1/node_modules/@angular/core/core.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-commons/dist/index.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@types+lodash@4.14.159/node_modules/@types/lodash/ts3.1/index.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/dist/index.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/dao/RestrictionTypesRestService.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/services/pageRestrictions/PageRestrictionsCriteriaService.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/components/pages/pageWizard/index.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/components/restrictions/services/index.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/components/restrictions/types.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/components/restrictions/components/restrictionsEditor/restrictionEditorCriteriaSelectItem/RestrictionEditorCriteriaSelectItemComponent.ts"],"map":"{\"version\":3,\"file\":\"RestrictionsEditorComponent.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../../../src/components/restrictions/components/restrictionsEditor/RestrictionsEditorComponent.ts\"],\"names\":[],\"mappings\":\"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\"}","dts":{"name":"/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/node_modules/.cache/rollup-plugin-typescript2/placeholder/components/restrictions/components/restrictionsEditor/RestrictionsEditorComponent.d.ts","writeByteOrderMark":false,"text":"import { EventEmitter, OnChanges, OnDestroy, OnInit, SimpleChanges, Type, ChangeDetectorRef } from '@angular/core';\r\nimport { IContextAwareEditableItemService } from 'cmscommons';\r\nimport { FetchStrategy, GenericEditorFieldMessage, IUriContext, LogService, SliderPanelConfiguration, SystemEventService, CmsitemsRestService, CMSItem } from 'smarteditcommons';\r\nimport { IRestrictionType } from '../../../../dao/RestrictionTypesRestService';\r\nimport { IPageRestrictionCriteria, PageRestrictionsCriteriaService } from '../../../../services/pageRestrictions/PageRestrictionsCriteriaService';\r\nimport { RestrictionsDTO } from '../../../pages/pageWizard';\r\nimport { EditingRestrictionConfig, RestrictionPickerConfigService, SelectingRestrictionConfig } from '../../services';\r\nimport { RestrictionCMSItem } from '../../types';\r\nimport { RestrictionEditorCriteriaSelectItemComponent } from './restrictionEditorCriteriaSelectItem/RestrictionEditorCriteriaSelectItemComponent';\r\nexport declare class RestrictionsEditorComponent implements OnInit, OnDestroy, OnChanges {\r\n    private readonly logService;\r\n    private readonly systemEventService;\r\n    private readonly restrictionPickerConfigService;\r\n    private readonly pageRestrictionsCriteriaService;\r\n    private readonly contextAwareEditableItemService;\r\n    private readonly cmsitemsRestService;\r\n    private readonly cdr;\r\n    item: CMSItem;\r\n    editable: boolean;\r\n    resetFn: () => boolean;\r\n    cancelFn: () => Promise<void>;\r\n    isDirtyFn: () => boolean;\r\n    getRestrictionTypes: () => Promise<IRestrictionType[]>;\r\n    getSupportedRestrictionTypes: () => Promise<string[]>;\r\n    removeValidationMessages: () => void;\r\n    restrictionUuids: string[];\r\n    onRestrictionsChange: EventEmitter<RestrictionsDTO>;\r\n    resetFnChange: EventEmitter<() => boolean>;\r\n    cancelFnChange: EventEmitter<() => Promise<boolean>>;\r\n    isDirtyFnChange: EventEmitter<() => boolean>;\r\n    restrictions: RestrictionCMSItem[];\r\n    originalRestrictions: RestrictionCMSItem[];\r\n    isRestrictionsReady: boolean;\r\n    showRestrictionPicker: boolean;\r\n    disableAddButton: boolean;\r\n    sliderPanelConfiguration: SliderPanelConfiguration;\r\n    restrictionManagement: {\r\n        config: EditingRestrictionConfig | SelectingRestrictionConfig;\r\n        uriContext: IUriContext;\r\n        submitFn: () => Promise<RestrictionCMSItem>;\r\n        isDirtyFn: () => boolean;\r\n    };\r\n    criteriaOptions: IPageRestrictionCriteria[];\r\n    criteria: IPageRestrictionCriteria;\r\n    originalCriteria: IPageRestrictionCriteria;\r\n    matchCriteriaIsDirty: boolean;\r\n    criteriaFetchStrategy: FetchStrategy;\r\n    itemComponent: Type<RestrictionEditorCriteriaSelectItemComponent>;\r\n    errors: GenericEditorFieldMessage[];\r\n    sliderPanelHide: () => Promise<void>;\r\n    sliderPanelShow: () => Promise<void>;\r\n    isSliderVisible: boolean;\r\n    private restrictionsArrayIsDirty;\r\n    private unregisterErrorListener;\r\n    private unregisterErrorPropagationEvent;\r\n    constructor(logService: LogService, systemEventService: SystemEventService, restrictionPickerConfigService: RestrictionPickerConfigService, pageRestrictionsCriteriaService: PageRestrictionsCriteriaService, contextAwareEditableItemService: IContextAwareEditableItemService, cmsitemsRestService: CmsitemsRestService, cdr: ChangeDetectorRef);\r\n    ngOnInit(): Promise<void>;\r\n    ngOnDestroy(): void;\r\n    ngOnChanges(changes: SimpleChanges): Promise<void>;\r\n    onAddRestriction(): void;\r\n    onEditRestriction(restriction: RestrictionCMSItem): void;\r\n    onRemoveRestriction(restrictionIndex: number): void;\r\n    removeAllRestrictions(): void;\r\n    showRemoveAllButton(): boolean;\r\n    matchCriteriaChanged(selectedCriteriaId: string): void;\r\n    onSliderVisibilityChange(isVisible: boolean): void;\r\n    private setupResults;\r\n    private updateRestrictionsData;\r\n    private prepareRestrictionsCriteria;\r\n    private isRestrictionRelatedError;\r\n    private formatRestrictionRelatedError;\r\n    private handleUnrelatedValidationErrors;\r\n    private propagateErrors;\r\n    private indexRestrictions;\r\n    private cloneRestrictions;\r\n    private initEvents;\r\n    private clearEvents;\r\n    private applyIsRestrictionEditable;\r\n    private setSliderConfigForAddOrCreate;\r\n    private setSliderConfigForEditing;\r\n}\r\n"}}
