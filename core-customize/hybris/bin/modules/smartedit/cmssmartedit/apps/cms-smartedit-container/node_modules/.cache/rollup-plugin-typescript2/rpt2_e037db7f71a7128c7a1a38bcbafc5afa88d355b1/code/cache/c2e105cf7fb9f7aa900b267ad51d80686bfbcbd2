{"code":"import { __awaiter, __decorate, __metadata, __param } from \"tslib\";\r\nimport { ChangeDetectionStrategy, Component, Inject } from '@angular/core';\r\nimport { EVENT_CONTENT_CATALOG_UPDATE, ICatalogService, IModalService, LogService, SeDowngradeComponent, SystemEventService, DROPDOWN_MENU_ITEM_DATA, UserTrackingService, USER_TRACKING_FUNCTIONALITY } from 'smarteditcommons';\r\nimport { PageSynchronizationPanelModalComponent } from '../../../synchronize';\r\nwindow.__smartedit__.addDecoratorPayload(\"Component\", \"SyncPageItemComponent\", {\r\n    selector: 'se-sync-page-item',\r\n    template: `<div *seHasOperationPermission=\"syncPagePermission\"><a class=\"se-dropdown-item fd-menu__item\" (click)=\"sync()\" translate=\"se.cms.actionitem.page.sync\"></a></div>`,\r\n    changeDetection: ChangeDetectionStrategy.OnPush\r\n});\r\nlet /* @ngInject */ SyncPageItemComponent = class /* @ngInject */ SyncPageItemComponent {\r\n    constructor(dropdownMenuData, catalogService, systemEventService, modalService, logService, userTrackingService) {\r\n        this.dropdownMenuData = dropdownMenuData;\r\n        this.catalogService = catalogService;\r\n        this.systemEventService = systemEventService;\r\n        this.modalService = modalService;\r\n        this.logService = logService;\r\n        this.userTrackingService = userTrackingService;\r\n    }\r\n    ngOnInit() {\r\n        this.pageInfo = this.dropdownMenuData.selectedItem;\r\n        this.syncPagePermission = [\r\n            {\r\n                names: ['se.act.on.page.in.workflow'],\r\n                context: {\r\n                    pageInfo: this.pageInfo\r\n                }\r\n            }\r\n        ];\r\n    }\r\n    sync() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.userTrackingService.trackingUserAction(USER_TRACKING_FUNCTIONALITY.PAGE_MANAGEMENT, 'Sync');\r\n            const uriContext = yield this.catalogService.retrieveUriContext();\r\n            try {\r\n                yield this.modalService\r\n                    .open({\r\n                    component: PageSynchronizationPanelModalComponent,\r\n                    templateConfig: {\r\n                        title: 'se.cms.synchronization.pagelist.modal.title.prefix',\r\n                        titleSuffix: 'se.cms.pageeditormodal.editpagetab.title'\r\n                    },\r\n                    config: {\r\n                        modalPanelClass: 'modal-md'\r\n                    },\r\n                    data: {\r\n                        cmsPage: this.pageInfo,\r\n                        uriContext\r\n                    }\r\n                })\r\n                    .afterClosed.toPromise();\r\n                this.systemEventService.publishAsync(EVENT_CONTENT_CATALOG_UPDATE);\r\n            }\r\n            catch (error) {\r\n                this.logService.debug('Page Synchronization Panel Modal dismissed', error);\r\n            }\r\n        });\r\n    }\r\n};\r\n/* @ngInject */ SyncPageItemComponent = __decorate([\r\n    SeDowngradeComponent(),\r\n    Component({\r\n        selector: 'se-sync-page-item',\r\n        template: `<div *seHasOperationPermission=\"syncPagePermission\"><a class=\"se-dropdown-item fd-menu__item\" (click)=\"sync()\" translate=\"se.cms.actionitem.page.sync\"></a></div>`,\r\n        changeDetection: ChangeDetectionStrategy.OnPush\r\n    }),\r\n    __param(0, Inject(DROPDOWN_MENU_ITEM_DATA)),\r\n    __metadata(\"design:paramtypes\", [Object, ICatalogService,\r\n        SystemEventService,\r\n        IModalService,\r\n        LogService,\r\n        UserTrackingService])\r\n], /* @ngInject */ SyncPageItemComponent);\r\nexport { /* @ngInject */ SyncPageItemComponent };\r\n//# sourceMappingURL=SyncPageItemComponent.js.map","references":["/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@angular+core@8.2.14_rxjs@6.5.4+zone.js@0.9.1/node_modules/@angular/core/core.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/components/synchronize/types.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/dist/index.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/components/synchronize/index.ts"],"map":"{\"version\":3,\"file\":\"SyncPageItemComponent.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../../../src/components/pages/pageItems/syncPageItem/SyncPageItemComponent.ts\"],\"names\":[],\"mappings\":\";AACA,OAAO,EAAE,uBAAuB,EAAE,SAAS,EAAU,MAAM,EAAE,MAAM,eAAe,CAAC;AAEnF,OAAO,EACH,4BAA4B,EAC5B,eAAe,EACf,aAAa,EACb,UAAU,EAEV,oBAAoB,EACpB,kBAAkB,EAElB,uBAAuB,EAEvB,mBAAmB,EACnB,2BAA2B,EAC9B,MAAM,kBAAkB,CAAC;AAC1B,OAAO,EAAE,sCAAsC,EAAE,MAAM,sBAAsB,CAAC;+EAInE;IACP,QAAQ,EAAE,mBAAmB;IAC7B,QAAQ,EAAE,mKAAmK;IAC7K,eAAe,EAAE,uBAAuB,CAAC,MAAM;CAClD;AACD,4CAAA;IAKI,YAC6C,gBAAuC,EACxE,cAA+B,EAC/B,kBAAsC,EACtC,YAA2B,EAC3B,UAAsB,EACtB,mBAAwC;QALP,qBAAgB,GAAhB,gBAAgB,CAAuB;QACxE,mBAAc,GAAd,cAAc,CAAiB;QAC/B,uBAAkB,GAAlB,kBAAkB,CAAoB;QACtC,iBAAY,GAAZ,YAAY,CAAe;QAC3B,eAAU,GAAV,UAAU,CAAY;QACtB,wBAAmB,GAAnB,mBAAmB,CAAqB;IACjD,CAAC;IAEJ,QAAQ;QACJ,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,gBAAgB,CAAC,YAAY,CAAC;QACnD,IAAI,CAAC,kBAAkB,GAAG;YACtB;gBACI,KAAK,EAAE,CAAC,4BAA4B,CAAC;gBACrC,OAAO,EAAE;oBACL,QAAQ,EAAE,IAAI,CAAC,QAAQ;iBAC1B;aACJ;SACJ,CAAC;IACN,CAAC;IAEY,IAAI;;YACb,IAAI,CAAC,mBAAmB,CAAC,kBAAkB,CACvC,2BAA2B,CAAC,eAAe,EAC3C,MAAM,CACT,CAAC;YACF,MAAM,UAAU,GAAG,MAAM,IAAI,CAAC,cAAc,CAAC,kBAAkB,EAAE,CAAC;YAElE,IAAI;gBACA,MAAM,IAAI,CAAC,YAAY;qBAClB,IAAI,CAAoC;oBACrC,SAAS,EAAE,sCAAsC;oBACjD,cAAc,EAAE;wBACZ,KAAK,EAAE,oDAAoD;wBAC3D,WAAW,EAAE,0CAA0C;qBAC1D;oBACD,MAAM,EAAE;wBACJ,eAAe,EAAE,UAAU;qBAC9B;oBACD,IAAI,EAAE;wBACF,OAAO,EAAE,IAAI,CAAC,QAAQ;wBACtB,UAAU;qBACb;iBACJ,CAAC;qBACD,WAAW,CAAC,SAAS,EAAE,CAAC;gBAE7B,IAAI,CAAC,kBAAkB,CAAC,YAAY,CAAC,4BAA4B,CAAC,CAAC;aACtE;YAAC,OAAO,KAAK,EAAE;gBACZ,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,4CAA4C,EAAE,KAAK,CAAC,CAAC;aAC9E;QACL,CAAC;KAAA;CACJ,CAAA;AAxDD;IANC,oBAAoB,EAAE;IACtB,SAAS,CAAC;QACP,QAAQ,EAAE,mBAAmB;QAC7B,QAAQ,EAAE,mKAAmK;QAC7K,eAAe,EAAE,uBAAuB,CAAC,MAAM;KAClD,CAAC;IAOO,WAAA,MAAM,CAAC,uBAAuB,CAAC,CAAA;6CACR,eAAe;QACX,kBAAkB;QACxB,aAAa;QACf,UAAU;QACD,mBAAmB;yCA6CvD\"}","dts":{"name":"/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/node_modules/.cache/rollup-plugin-typescript2/placeholder/components/pages/pageItems/syncPageItem/SyncPageItemComponent.d.ts","writeByteOrderMark":false,"text":"import { OnInit } from '@angular/core';\r\nimport { ICatalogService, IModalService, LogService, MultiNamePermissionContext, SystemEventService, IDropdownMenuItemData, ICMSPage, UserTrackingService } from 'smarteditcommons';\r\nexport declare class SyncPageItemComponent implements OnInit {\r\n    private dropdownMenuData;\r\n    private catalogService;\r\n    private systemEventService;\r\n    private modalService;\r\n    private logService;\r\n    private userTrackingService;\r\n    pageInfo: ICMSPage;\r\n    syncPagePermission: MultiNamePermissionContext[];\r\n    constructor(dropdownMenuData: IDropdownMenuItemData, catalogService: ICatalogService, systemEventService: SystemEventService, modalService: IModalService, logService: LogService, userTrackingService: UserTrackingService);\r\n    ngOnInit(): void;\r\n    sync(): Promise<void>;\r\n}\r\n"}}
