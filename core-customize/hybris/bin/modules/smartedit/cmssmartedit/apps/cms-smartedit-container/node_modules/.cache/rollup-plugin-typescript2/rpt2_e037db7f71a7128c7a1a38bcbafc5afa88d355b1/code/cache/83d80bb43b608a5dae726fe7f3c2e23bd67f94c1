{"code":"import { __awaiter, __decorate, __metadata, __param } from \"tslib\";\r\nimport { ChangeDetectionStrategy, ChangeDetectorRef, Component, Inject, ViewEncapsulation } from '@angular/core';\r\nimport { WORKFLOW_FINISHED_EVENT } from 'cmscommons';\r\nimport { EVENT_PERSPECTIVE_CHANGED, SeDowngradeComponent, SmarteditRoutingService, SystemEventService, TOOLBAR_ITEM, IPageService, WorkflowService, WorkflowActionStatus } from 'smarteditcommons';\r\nimport { CMS_EVENT_OPEN_PAGE_WORKFLOW_MENU, WORKFLOW_DECISION_SELECTED_EVENT, WORKFLOW_REFRESH_EVENT, WORKFLOW_TASKS_MENU_OPENED_EVENT } from '../../constants';\r\nimport { WorkflowFacade } from '../../services/WorkflowFacade';\r\nimport { PageWorkflowMenuAllTasksTabComponent } from './tabs/PageWorkflowMenuAllTasksTabComponent';\r\nimport { PageWorkflowMenuCurrentTasksTabComponent } from './tabs/PageWorkflowMenuCurrentTasksTabComponent';\r\nwindow.__smartedit__.addDecoratorPayload(\"Component\", \"PageWorkflowMenuComponent\", {\r\n    selector: 'se-page-workflow-menu',\r\n    template: `<div *ngIf=\"isReady\"><div *ngIf=\"!pageHasWorkflow && isWorkflowEnabled\"><ng-container *seHasOperationPermission=\"'se.start.page.workflow'\"><button id=\"smartEditPerspectiveToolbar_option_se.cms.startWorkflow_btn\" class=\"btn toolbar-action--button\" type=\"button\" (click)=\"startWorkflow()\" aria-expanded=\"false\"><span id=\"smartEditPerspectiveToolbar_option_se.cms.startWorkflow_btn_lbl\" class=\"toolbar-action-button__txt\" translate=\"se.cms.workflow.toolbar.start.workflow\"></span></button></ng-container></div><div *seHasOperationPermission=\"'se.view.page.workflowMenu'\"><fd-popover *ngIf=\"pageHasWorkflow\" class=\"toolbar-action\" [closeOnOutsideClick]=\"true\" [isOpen]=\"actionItem.isOpen\" (isOpenChange)=\"onDropdownToggle($event)\"><fd-popover-control><button type=\"button\" class=\"page-tasks-btn toolbar-action--button\" [attr.aria-expanded]=\"actionItem.isOpen\"><span class=\"page-tasks-btn__icon sap-icon--workflow-tasks\"></span> <span class=\"page-tasks-btn__label\" translate=\"se.cms.workflow.toolbar.view.workflow.menu\"></span></button></fd-popover-control><fd-popover-body><div *ngIf=\"actionItem.isOpen\" class=\"toolbar-action--include se-page-workflow-menu\"><div class=\"se-page-workflow-menu__header\"><div class=\"se-page-workflow-menu__header-text\" translate=\"se.cms.workflow.toolbar.view.workflow.menu\"></div><div class=\"se-page-workflow-menu__header-menu\"><se-workflow-item-menu [workflowInfo]=\"workflow\"></se-workflow-item-menu></div></div><div class=\"se-version-toolbar-menu-content__body\"><div class=\"se-page-workflow-menu-tabs\"><se-tabs *ngIf=\"areTabsReady; else spinner\" [tabsList]=\"tabsList\" [model]=\"tabsData\" [numTabsDisplayed]=\"2\"></se-tabs><ng-template #spinner><se-spinner [isSpinning]=\"true\"></se-spinner></ng-template></div></div></div></fd-popover-body></fd-popover></div></div>`,\r\n    styles: [`/*!\n * Fundamental Library Styles v0.4.1\n * Copyright (c) 2020 SAP SE or an SAP affiliate company.\n * Licensed under Apache License 2.0 (https://github.com/SAP/fundamental-styles/blob/master/LICENSE)\n *//*!\n.fd-button-split+()\n    .fd-button\n*/.fd-button-split{font-size:.875rem;font-size:var(--sapFontSize,.875rem);line-height:1.42857;color:#32363a;color:var(--sapTextColor,#32363a);font-family:\"72\",\"72full\",Arial,Helvetica,sans-serif;font-family:var(--sapFontFamily, \"72\", \"72full\", Arial, Helvetica, sans-serif);font-weight:400;-webkit-font-smoothing:antialiased;-webkit-box-sizing:border-box;box-sizing:border-box;padding:0;margin:0;border:0;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;vertical-align:middle;position:relative}.fd-button-split:after,.fd-button-split:before{-webkit-box-sizing:inherit;box-sizing:inherit;font-size:inherit}.fd-button-split :first-child{margin:0;border-top-right-radius:0;border-bottom-right-radius:0}.fd-button-split :nth-child(2){margin:0;border-top-left-radius:0;border-bottom-left-radius:0;border-left-width:0}.fd-button-split[dir=rtl] :first-child,[dir=rtl] .fd-button-split :first-child{border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:.25rem;border-top-right-radius:var(--sapButton_BorderCornerRadius,.25rem);border-bottom-right-radius:.25rem;border-bottom-right-radius:var(--sapButton_BorderCornerRadius,.25rem)}.fd-button-split[dir=rtl] :nth-child(2),[dir=rtl] .fd-button-split :nth-child(2){border-top-left-radius:.25rem;border-top-left-radius:var(--sapButton_BorderCornerRadius,.25rem);border-bottom-left-radius:.25rem;border-bottom-left-radius:var(--sapButton_BorderCornerRadius,.25rem);border-top-right-radius:0;border-bottom-right-radius:0;border-left-width:.0625rem;border-left-width:var(--sapButton_BorderWidth,.0625rem);border-right-width:0}.fd-button-split [class*=\"--emphasized\"]:first-child{margin-right:1px}.fd-button-split [class*=\"--emphasized\"][dir=rtl]:first-child,[dir=rtl] .fd-button-split [class*=\"--emphasized\"]:first-child{margin-right:0;margin-left:1px}se-page-workflow-menu .toolbar-action .page-tasks-btn[aria-expanded=true]{background-color:rgba(10,110,209,.07)}se-page-workflow-menu .toolbar-action .page-tasks-btn__label{font-size:14px;color:#32363a}se-page-workflow-menu .toolbar-action .page-tasks-btn__icon{color:#0a6ed1;font-size:18px;margin-right:8px}se-page-workflow-menu .se-page-workflow-menu{box-shadow:0 6px 12px rgba(0,0,0,.175);background-color:#fff;border-radius:4px!important;min-width:100px;width:fit-content;position:absolute;border:1px solid #d9d9d9;z-index:2000;top:96%;min-width:350px;min-height:130px;right:-126px;left:auto;font-size:14px;font-family:'72',-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol;line-height:20/14}se-page-workflow-menu .se-page-workflow-menu::before{height:0;width:0;border-style:solid;border-width:0 8px 8px 8px;border-bottom-color:#d9d9d9;border-bottom-color:var(var(--fd-color-neutral-4));border-left-color:transparent;border-right-color:transparent;content:\"\";position:absolute;top:-8px}se-page-workflow-menu .se-page-workflow-menu::after{height:0;width:0;border-style:solid;border-width:0 8px 8px 8px;border-bottom-color:#fff;border-bottom-color:var(var(--fd-color-background-4));border-left-color:transparent;border-right-color:transparent;content:\"\";position:absolute;top:-7px}se-page-workflow-menu .se-page-workflow-menu,se-page-workflow-menu .se-page-workflow-menu::after,se-page-workflow-menu .se-page-workflow-menu::before{left:50%;transform:translate(-50%)}se-page-workflow-menu .se-page-workflow-menu__header{display:flex;justify-content:space-between}se-page-workflow-menu .se-page-workflow-menu__header-text{font-size:16px;padding:20px 0 0 16px}se-page-workflow-menu .se-page-workflow-menu__header-menu{padding:16px 16px 0 0}se-page-workflow-menu .se-page-workflow-menu-tabs .se-tabset{margin:0}se-page-workflow-menu .se-page-workflow-menu-tabs .se-tabset__tab{margin-left:16px}se-page-workflow-menu .se-page-workflow-menu-tabs .se-tabset__link{color:#32363a}se-page-workflow-menu .se-page-workflow-menu-tabs .se-tabset__link:hover{color:#0a6ed1}`],\r\n    encapsulation: ViewEncapsulation.None,\r\n    changeDetection: ChangeDetectionStrategy.OnPush\r\n});\r\nlet /* @ngInject */ PageWorkflowMenuComponent = class /* @ngInject */ PageWorkflowMenuComponent {\r\n    constructor(workflowService, workflowFacade, systemEventService, routingService, pageService, cdr, actionItem) {\r\n        this.workflowService = workflowService;\r\n        this.workflowFacade = workflowFacade;\r\n        this.systemEventService = systemEventService;\r\n        this.routingService = routingService;\r\n        this.pageService = pageService;\r\n        this.cdr = cdr;\r\n        this.actionItem = actionItem;\r\n        this.isReady = false;\r\n        this.isWorkflowEnabled = false;\r\n        this.areTabsReady = false;\r\n        this.pageHasWorkflow = false;\r\n        this.tabsList = [\r\n            {\r\n                id: 'currentTasksTab',\r\n                title: 'se.cms.page.workflow.tabs.currenttasks',\r\n                hasErrors: false,\r\n                component: PageWorkflowMenuCurrentTasksTabComponent\r\n            },\r\n            {\r\n                id: 'allTasksTab',\r\n                title: 'se.cms.page.workflow.tabs.alltasks',\r\n                hasErrors: false,\r\n                component: PageWorkflowMenuAllTasksTabComponent\r\n            }\r\n        ];\r\n        this.tabsData = {\r\n            workflow: null,\r\n            actions: []\r\n        };\r\n    }\r\n    ngOnInit() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.unRegOpenMenuEvent = this.systemEventService.subscribe(CMS_EVENT_OPEN_PAGE_WORKFLOW_MENU, (_eventId, open) => this.onDropdownToggle(open));\r\n            this.unRegPerspectiveChangedEvent = this.systemEventService.subscribe(EVENT_PERSPECTIVE_CHANGED, () => this.loadWorkflow());\r\n            this.unRegWorkflowFinishedEvent = this.systemEventService.subscribe(WORKFLOW_FINISHED_EVENT, () => this.loadWorkflow());\r\n            this.unRegDecisionSelectedEvent = this.systemEventService.subscribe(WORKFLOW_DECISION_SELECTED_EVENT, () => this.closeDropdown());\r\n            this.unRegWorkflowRefreshEvent = this.systemEventService.subscribe(WORKFLOW_REFRESH_EVENT, () => this.loadWorkflow());\r\n            yield this.loadWorkflow();\r\n            this.isReady = true;\r\n            this.actionItem.isOpen = false;\r\n            if (!this.cdr.destroyed) {\r\n                this.cdr.detectChanges();\r\n            }\r\n        });\r\n    }\r\n    ngOnDestroy() {\r\n        this.unRegOpenMenuEvent();\r\n        this.unRegPerspectiveChangedEvent();\r\n        this.unRegWorkflowFinishedEvent();\r\n        this.unRegDecisionSelectedEvent();\r\n        this.unRegWorkflowRefreshEvent();\r\n    }\r\n    set workflow(value) {\r\n        this._workflow = value;\r\n        this.tabsData.workflow = value;\r\n    }\r\n    get workflow() {\r\n        return this._workflow;\r\n    }\r\n    onDropdownToggle(open) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.actionItem.isOpen = open;\r\n            if (!open) {\r\n                return;\r\n            }\r\n            this.systemEventService.publish(WORKFLOW_TASKS_MENU_OPENED_EVENT);\r\n            yield this.loadWorkflowAndActions();\r\n        });\r\n    }\r\n    startWorkflow() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            yield this.workflowFacade.startWorkflow();\r\n            this.routingService.reload();\r\n        });\r\n    }\r\n    loadWorkflowAndActions() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.areTabsReady = false;\r\n            if (!this.cdr.destroyed) {\r\n                this.cdr.detectChanges();\r\n            }\r\n            yield this.loadWorkflow(false);\r\n            yield this.loadActions();\r\n            this.areTabsReady = true;\r\n            if (!this.cdr.destroyed) {\r\n                this.cdr.detectChanges();\r\n            }\r\n        });\r\n    }\r\n    loadWorkflow(detectChanges = true) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const page = yield this.pageService.getCurrentPageInfo();\r\n            const workflow = yield this.workflowService.getActiveWorkflowForPageUuid(page.uuid);\r\n            this.workflow = workflow;\r\n            this.pageHasWorkflow = !!workflow;\r\n            this.isWorkflowEnabled = page.displayStatus === 'DRAFT';\r\n            if (detectChanges) {\r\n                if (!this.cdr.destroyed) {\r\n                    this.cdr.detectChanges();\r\n                }\r\n            }\r\n        });\r\n    }\r\n    loadActions() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const actions = yield this.workflowFacade.getAllActionsForWorkflow(this.workflow.workflowCode);\r\n            this.setActions(actions);\r\n        });\r\n    }\r\n    setActions(actions) {\r\n        actions.sort((a, b) => this.actionComparator(a, b));\r\n        this.tabsData.actions = actions;\r\n    }\r\n    closeDropdown() {\r\n        this.actionItem.isOpen = false;\r\n        if (!this.cdr.destroyed) {\r\n            this.cdr.detectChanges();\r\n        }\r\n    }\r\n    actionComparator(a, b) {\r\n        const priorityA = this.getActionPriority(a);\r\n        const priorityB = this.getActionPriority(b);\r\n        return priorityA !== priorityB\r\n            ? priorityA - priorityB\r\n            : a.startedAgoInMillis - b.startedAgoInMillis;\r\n    }\r\n    getActionPriority(action) {\r\n        switch (action.status.toLowerCase()) {\r\n            case WorkflowActionStatus.IN_PROGRESS:\r\n                return 1;\r\n            case WorkflowActionStatus.PENDING:\r\n                return 2;\r\n            case WorkflowActionStatus.COMPLETED:\r\n                return 3;\r\n            default:\r\n                return 4;\r\n        }\r\n    }\r\n};\r\n/* @ngInject */ PageWorkflowMenuComponent = __decorate([\r\n    SeDowngradeComponent(),\r\n    Component({\r\n        selector: 'se-page-workflow-menu',\r\n        template: `<div *ngIf=\"isReady\"><div *ngIf=\"!pageHasWorkflow && isWorkflowEnabled\"><ng-container *seHasOperationPermission=\"'se.start.page.workflow'\"><button id=\"smartEditPerspectiveToolbar_option_se.cms.startWorkflow_btn\" class=\"btn toolbar-action--button\" type=\"button\" (click)=\"startWorkflow()\" aria-expanded=\"false\"><span id=\"smartEditPerspectiveToolbar_option_se.cms.startWorkflow_btn_lbl\" class=\"toolbar-action-button__txt\" translate=\"se.cms.workflow.toolbar.start.workflow\"></span></button></ng-container></div><div *seHasOperationPermission=\"'se.view.page.workflowMenu'\"><fd-popover *ngIf=\"pageHasWorkflow\" class=\"toolbar-action\" [closeOnOutsideClick]=\"true\" [isOpen]=\"actionItem.isOpen\" (isOpenChange)=\"onDropdownToggle($event)\"><fd-popover-control><button type=\"button\" class=\"page-tasks-btn toolbar-action--button\" [attr.aria-expanded]=\"actionItem.isOpen\"><span class=\"page-tasks-btn__icon sap-icon--workflow-tasks\"></span> <span class=\"page-tasks-btn__label\" translate=\"se.cms.workflow.toolbar.view.workflow.menu\"></span></button></fd-popover-control><fd-popover-body><div *ngIf=\"actionItem.isOpen\" class=\"toolbar-action--include se-page-workflow-menu\"><div class=\"se-page-workflow-menu__header\"><div class=\"se-page-workflow-menu__header-text\" translate=\"se.cms.workflow.toolbar.view.workflow.menu\"></div><div class=\"se-page-workflow-menu__header-menu\"><se-workflow-item-menu [workflowInfo]=\"workflow\"></se-workflow-item-menu></div></div><div class=\"se-version-toolbar-menu-content__body\"><div class=\"se-page-workflow-menu-tabs\"><se-tabs *ngIf=\"areTabsReady; else spinner\" [tabsList]=\"tabsList\" [model]=\"tabsData\" [numTabsDisplayed]=\"2\"></se-tabs><ng-template #spinner><se-spinner [isSpinning]=\"true\"></se-spinner></ng-template></div></div></div></fd-popover-body></fd-popover></div></div>`,\r\n        styles: [`/*!\n * Fundamental Library Styles v0.4.1\n * Copyright (c) 2020 SAP SE or an SAP affiliate company.\n * Licensed under Apache License 2.0 (https://github.com/SAP/fundamental-styles/blob/master/LICENSE)\n *//*!\n.fd-button-split+()\n    .fd-button\n*/.fd-button-split{font-size:.875rem;font-size:var(--sapFontSize,.875rem);line-height:1.42857;color:#32363a;color:var(--sapTextColor,#32363a);font-family:\"72\",\"72full\",Arial,Helvetica,sans-serif;font-family:var(--sapFontFamily, \"72\", \"72full\", Arial, Helvetica, sans-serif);font-weight:400;-webkit-font-smoothing:antialiased;-webkit-box-sizing:border-box;box-sizing:border-box;padding:0;margin:0;border:0;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;vertical-align:middle;position:relative}.fd-button-split:after,.fd-button-split:before{-webkit-box-sizing:inherit;box-sizing:inherit;font-size:inherit}.fd-button-split :first-child{margin:0;border-top-right-radius:0;border-bottom-right-radius:0}.fd-button-split :nth-child(2){margin:0;border-top-left-radius:0;border-bottom-left-radius:0;border-left-width:0}.fd-button-split[dir=rtl] :first-child,[dir=rtl] .fd-button-split :first-child{border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:.25rem;border-top-right-radius:var(--sapButton_BorderCornerRadius,.25rem);border-bottom-right-radius:.25rem;border-bottom-right-radius:var(--sapButton_BorderCornerRadius,.25rem)}.fd-button-split[dir=rtl] :nth-child(2),[dir=rtl] .fd-button-split :nth-child(2){border-top-left-radius:.25rem;border-top-left-radius:var(--sapButton_BorderCornerRadius,.25rem);border-bottom-left-radius:.25rem;border-bottom-left-radius:var(--sapButton_BorderCornerRadius,.25rem);border-top-right-radius:0;border-bottom-right-radius:0;border-left-width:.0625rem;border-left-width:var(--sapButton_BorderWidth,.0625rem);border-right-width:0}.fd-button-split [class*=\"--emphasized\"]:first-child{margin-right:1px}.fd-button-split [class*=\"--emphasized\"][dir=rtl]:first-child,[dir=rtl] .fd-button-split [class*=\"--emphasized\"]:first-child{margin-right:0;margin-left:1px}se-page-workflow-menu .toolbar-action .page-tasks-btn[aria-expanded=true]{background-color:rgba(10,110,209,.07)}se-page-workflow-menu .toolbar-action .page-tasks-btn__label{font-size:14px;color:#32363a}se-page-workflow-menu .toolbar-action .page-tasks-btn__icon{color:#0a6ed1;font-size:18px;margin-right:8px}se-page-workflow-menu .se-page-workflow-menu{box-shadow:0 6px 12px rgba(0,0,0,.175);background-color:#fff;border-radius:4px!important;min-width:100px;width:fit-content;position:absolute;border:1px solid #d9d9d9;z-index:2000;top:96%;min-width:350px;min-height:130px;right:-126px;left:auto;font-size:14px;font-family:'72',-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol;line-height:20/14}se-page-workflow-menu .se-page-workflow-menu::before{height:0;width:0;border-style:solid;border-width:0 8px 8px 8px;border-bottom-color:#d9d9d9;border-bottom-color:var(var(--fd-color-neutral-4));border-left-color:transparent;border-right-color:transparent;content:\"\";position:absolute;top:-8px}se-page-workflow-menu .se-page-workflow-menu::after{height:0;width:0;border-style:solid;border-width:0 8px 8px 8px;border-bottom-color:#fff;border-bottom-color:var(var(--fd-color-background-4));border-left-color:transparent;border-right-color:transparent;content:\"\";position:absolute;top:-7px}se-page-workflow-menu .se-page-workflow-menu,se-page-workflow-menu .se-page-workflow-menu::after,se-page-workflow-menu .se-page-workflow-menu::before{left:50%;transform:translate(-50%)}se-page-workflow-menu .se-page-workflow-menu__header{display:flex;justify-content:space-between}se-page-workflow-menu .se-page-workflow-menu__header-text{font-size:16px;padding:20px 0 0 16px}se-page-workflow-menu .se-page-workflow-menu__header-menu{padding:16px 16px 0 0}se-page-workflow-menu .se-page-workflow-menu-tabs .se-tabset{margin:0}se-page-workflow-menu .se-page-workflow-menu-tabs .se-tabset__tab{margin-left:16px}se-page-workflow-menu .se-page-workflow-menu-tabs .se-tabset__link{color:#32363a}se-page-workflow-menu .se-page-workflow-menu-tabs .se-tabset__link:hover{color:#0a6ed1}`],\r\n        encapsulation: ViewEncapsulation.None,\r\n        changeDetection: ChangeDetectionStrategy.OnPush\r\n    }),\r\n    __param(6, Inject(TOOLBAR_ITEM)),\r\n    __metadata(\"design:paramtypes\", [WorkflowService,\r\n        WorkflowFacade,\r\n        SystemEventService,\r\n        SmarteditRoutingService,\r\n        IPageService,\r\n        ChangeDetectorRef, Object])\r\n], /* @ngInject */ PageWorkflowMenuComponent);\r\nexport { /* @ngInject */ PageWorkflowMenuComponent };\r\n//# sourceMappingURL=PageWorkflowMenuComponent.js.map","references":["/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@angular+core@8.2.14_rxjs@6.5.4+zone.js@0.9.1/node_modules/@angular/core/core.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-commons/dist/index.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/dist/index.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/components/workflow/constants.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/components/workflow/services/WorkflowFacade.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/components/workflow/components/pageWorkflowMenu/tabs/PageWorkflowMenuAllTasksTabComponent.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/components/workflow/components/pageWorkflowMenu/tabs/PageWorkflowMenuCurrentTasksTabComponent.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/components/workflow/components/pageWorkflowMenu/types.ts"],"map":"{\"version\":3,\"file\":\"PageWorkflowMenuComponent.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../../../src/components/workflow/components/pageWorkflowMenu/PageWorkflowMenuComponent.ts\"],\"names\":[],\"mappings\":\"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\"}","dts":{"name":"/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/node_modules/.cache/rollup-plugin-typescript2/placeholder/components/workflow/components/pageWorkflowMenu/PageWorkflowMenuComponent.d.ts","writeByteOrderMark":false,"text":"import { ChangeDetectorRef, OnDestroy, OnInit } from '@angular/core';\r\nimport { SmarteditRoutingService, SystemEventService, Tab, ToolbarItemInternal, IPageService, WorkflowService, Workflow } from 'smarteditcommons';\r\nimport { WorkflowFacade } from '../../services/WorkflowFacade';\r\nimport { PageWorkflowMenuTabsData } from './types';\r\nexport declare class PageWorkflowMenuComponent implements OnInit, OnDestroy {\r\n    private workflowService;\r\n    private workflowFacade;\r\n    private systemEventService;\r\n    private routingService;\r\n    private pageService;\r\n    private cdr;\r\n    actionItem: ToolbarItemInternal;\r\n    isReady: boolean;\r\n    isWorkflowEnabled: boolean;\r\n    areTabsReady: boolean;\r\n    pageHasWorkflow: boolean;\r\n    tabsList: Tab[];\r\n    tabsData: PageWorkflowMenuTabsData;\r\n    private _workflow;\r\n    private unRegOpenMenuEvent;\r\n    private unRegPerspectiveChangedEvent;\r\n    private unRegWorkflowFinishedEvent;\r\n    private unRegDecisionSelectedEvent;\r\n    private unRegWorkflowRefreshEvent;\r\n    constructor(workflowService: WorkflowService, workflowFacade: WorkflowFacade, systemEventService: SystemEventService, routingService: SmarteditRoutingService, pageService: IPageService, cdr: ChangeDetectorRef, actionItem: ToolbarItemInternal);\r\n    ngOnInit(): Promise<void>;\r\n    ngOnDestroy(): void;\r\n    set workflow(value: Workflow);\r\n    get workflow(): Workflow;\r\n    onDropdownToggle(open: boolean): Promise<void>;\r\n    startWorkflow(): Promise<void>;\r\n    private loadWorkflowAndActions;\r\n    private loadWorkflow;\r\n    private loadActions;\r\n    private setActions;\r\n    private closeDropdown;\r\n    private actionComparator;\r\n    private getActionPriority;\r\n}\r\n"}}
