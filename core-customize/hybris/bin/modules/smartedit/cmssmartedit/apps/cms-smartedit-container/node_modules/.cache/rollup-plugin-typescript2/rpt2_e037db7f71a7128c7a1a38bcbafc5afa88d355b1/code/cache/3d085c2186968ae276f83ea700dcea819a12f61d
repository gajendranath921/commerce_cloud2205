{"code":"import { __decorate, __metadata } from \"tslib\";\r\nimport { Component, EventEmitter, Input, Output } from '@angular/core';\r\nimport { SeDowngradeComponent } from 'smarteditcommons';\r\nimport { RestrictionPickerConfigService } from '../../services';\r\nwindow.__smartedit__.addDecoratorPayload(\"Component\", \"RestrictionManagementComponent\", {\r\n    selector: 'se-restriction-management',\r\n    template: `<div *ngIf=\"isReady\"><div *ngIf=\"isEditMode\"><se-restriction-management-edit [restriction]=\"config?.restriction\" [getSupportedRestrictionTypes]=\"config?.getSupportedRestrictionTypesFn\" [uriContext]=\"uriContext\" [(isDirtyFn)]=\"isDirtyInternal\" [(submitFn)]=\"submitInternal\"></se-restriction-management-edit></div><div *ngIf=\"!isEditMode\"><se-restriction-management-select [existingRestrictions]=\"config?.existingRestrictions\" [fetchRestrictionTypes]=\"config?.getRestrictionTypesFn\" [getSupportedRestrictionTypes]=\"config?.getSupportedRestrictionTypesFn\" [uriContext]=\"uriContext\" [(isDirtyFn)]=\"isDirtyInternal\" [(submitFn)]=\"submitInternal\"></se-restriction-management-select></div></div>`\r\n});\r\nlet /* @ngInject */ RestrictionManagementComponent = class /* @ngInject */ RestrictionManagementComponent {\r\n    constructor(restrictionPickerConfigService) {\r\n        this.restrictionPickerConfigService = restrictionPickerConfigService;\r\n        this.submitFnChange = new EventEmitter();\r\n        this.isDirtyFnChange = new EventEmitter();\r\n        this.isReady = false;\r\n        this.isEditMode = false;\r\n    }\r\n    ngOnInit() {\r\n        setTimeout(() => {\r\n            this.submitFnChange.emit(() => this.submitInternal().then((value) => value));\r\n            this.isDirtyFnChange.emit(() => this.isDirtyInternal && this.isDirtyInternal());\r\n        });\r\n    }\r\n    ngOnChanges() {\r\n        if (!this.config) {\r\n            return;\r\n        }\r\n        if (this.restrictionPickerConfigService.isValidConfig(this.config)) {\r\n            this.isReady = true;\r\n            this.isEditMode = this.restrictionPickerConfigService.isEditingMode(this.config);\r\n        }\r\n        else {\r\n            throw 'RestrictionManagementComponent - invalid restrictionPickerConfig';\r\n        }\r\n    }\r\n};\r\n__decorate([\r\n    Input(),\r\n    __metadata(\"design:type\", Object)\r\n], /* @ngInject */ RestrictionManagementComponent.prototype, \"config\", void 0);\r\n__decorate([\r\n    Input(),\r\n    __metadata(\"design:type\", Object)\r\n], /* @ngInject */ RestrictionManagementComponent.prototype, \"uriContext\", void 0);\r\n__decorate([\r\n    Input(),\r\n    __metadata(\"design:type\", Function)\r\n], /* @ngInject */ RestrictionManagementComponent.prototype, \"submitFn\", void 0);\r\n__decorate([\r\n    Input(),\r\n    __metadata(\"design:type\", Function)\r\n], /* @ngInject */ RestrictionManagementComponent.prototype, \"isDirtyFn\", void 0);\r\n__decorate([\r\n    Output(),\r\n    __metadata(\"design:type\", EventEmitter)\r\n], /* @ngInject */ RestrictionManagementComponent.prototype, \"submitFnChange\", void 0);\r\n__decorate([\r\n    Output(),\r\n    __metadata(\"design:type\", EventEmitter)\r\n], /* @ngInject */ RestrictionManagementComponent.prototype, \"isDirtyFnChange\", void 0);\r\n/* @ngInject */ RestrictionManagementComponent = __decorate([\r\n    SeDowngradeComponent(),\r\n    Component({\r\n        selector: 'se-restriction-management',\r\n        template: `<div *ngIf=\"isReady\"><div *ngIf=\"isEditMode\"><se-restriction-management-edit [restriction]=\"config?.restriction\" [getSupportedRestrictionTypes]=\"config?.getSupportedRestrictionTypesFn\" [uriContext]=\"uriContext\" [(isDirtyFn)]=\"isDirtyInternal\" [(submitFn)]=\"submitInternal\"></se-restriction-management-edit></div><div *ngIf=\"!isEditMode\"><se-restriction-management-select [existingRestrictions]=\"config?.existingRestrictions\" [fetchRestrictionTypes]=\"config?.getRestrictionTypesFn\" [getSupportedRestrictionTypes]=\"config?.getSupportedRestrictionTypesFn\" [uriContext]=\"uriContext\" [(isDirtyFn)]=\"isDirtyInternal\" [(submitFn)]=\"submitInternal\"></se-restriction-management-select></div></div>`\r\n    }),\r\n    __metadata(\"design:paramtypes\", [RestrictionPickerConfigService])\r\n], /* @ngInject */ RestrictionManagementComponent);\r\nexport { /* @ngInject */ RestrictionManagementComponent };\r\n//# sourceMappingURL=RestrictionManagementComponent.js.map","references":["/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@angular+core@8.2.14_rxjs@6.5.4+zone.js@0.9.1/node_modules/@angular/core/core.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/dist/index.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/components/restrictions/services/index.ts"],"map":"{\"version\":3,\"file\":\"RestrictionManagementComponent.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../../../src/components/restrictions/components/restrictionManagement/RestrictionManagementComponent.ts\"],\"names\":[],\"mappings\":\";AACA,OAAO,EAAE,SAAS,EAAE,YAAY,EAAE,KAAK,EAAqB,MAAM,EAAE,MAAM,eAAe,CAAC;AAC1F,OAAO,EAAe,oBAAoB,EAAW,MAAM,kBAAkB,CAAC;AAC9E,OAAO,EAEH,8BAA8B,EAEjC,MAAM,gBAAgB,CAAC;wFAGb;IACP,QAAQ,EAAE,2BAA2B;IACrC,QAAQ,EAAE,krBAAkrB;CAC/rB;AACD,qDAAA;IAcI,YAAoB,8BAA8D;QAA9D,mCAA8B,GAA9B,8BAA8B,CAAgC;QAC9E,IAAI,CAAC,cAAc,GAAG,IAAI,YAAY,EAAE,CAAC;QACzC,IAAI,CAAC,eAAe,GAAG,IAAI,YAAY,EAAE,CAAC;QAC1C,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;QACrB,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;IAC5B,CAAC;IAED,QAAQ;QAGJ,UAAU,CAAC,GAAG,EAAE;YACZ,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,cAAc,EAAE,CAAC,IAAI,CAAC,CAAC,KAAK,EAAE,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC;YAC7E,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,eAAe,IAAI,IAAI,CAAC,eAAe,EAAE,CAAC,CAAC;QACpF,CAAC,CAAC,CAAC;IACP,CAAC;IAED,WAAW;QACP,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;YACd,OAAO;SACV;QAED,IAAI,IAAI,CAAC,8BAA8B,CAAC,aAAa,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE;YAChE,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;YACpB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,8BAA8B,CAAC,aAAa,CAC/D,IAAI,CAAC,MAAkC,CAC1C,CAAC;SACL;aAAM;YACH,MAAM,kEAAkE,CAAC;SAC5E;IACL,CAAC;CACJ,CAAA;AA3CY;IAAR,KAAK,EAAE;;8EAA+D;AAC9D;IAAR,KAAK,EAAE;;kFAAyB;AACxB;IAAR,KAAK,EAAE;;gFAAkC;AACjC;IAAR,KAAK,EAAE;;iFAA0B;AAExB;IAAT,MAAM,EAAE;8BAAiB,YAAY;sFAAyB;AACrD;IAAT,MAAM,EAAE;8BAAkB,YAAY;uFAAgB;AAP3D;IALC,oBAAoB,EAAE;IACtB,SAAS,CAAC;QACP,QAAQ,EAAE,2BAA2B;QACrC,QAAQ,EAAE,krBAAkrB;KAC/rB,CAAC;qCAesD,8BAA8B;kDA8BrF\"}","dts":{"name":"/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/node_modules/.cache/rollup-plugin-typescript2/placeholder/components/restrictions/components/restrictionManagement/RestrictionManagementComponent.d.ts","writeByteOrderMark":false,"text":"import { EventEmitter, OnChanges, OnInit } from '@angular/core';\r\nimport { IUriContext, CMSItem } from 'smarteditcommons';\r\nimport { EditingRestrictionConfig, RestrictionPickerConfigService, SelectingRestrictionConfig } from '../../services';\r\nexport declare class RestrictionManagementComponent implements OnInit, OnChanges {\r\n    private restrictionPickerConfigService;\r\n    config: EditingRestrictionConfig | SelectingRestrictionConfig;\r\n    uriContext: IUriContext;\r\n    submitFn: () => Promise<CMSItem>;\r\n    isDirtyFn: () => boolean;\r\n    submitFnChange: EventEmitter<() => Promise<CMSItem>>;\r\n    isDirtyFnChange: EventEmitter<() => boolean>;\r\n    submitInternal: () => Promise<CMSItem>;\r\n    isDirtyInternal: () => boolean;\r\n    isReady: boolean;\r\n    isEditMode: boolean;\r\n    constructor(restrictionPickerConfigService: RestrictionPickerConfigService);\r\n    ngOnInit(): void;\r\n    ngOnChanges(): void;\r\n}\r\n"}}
