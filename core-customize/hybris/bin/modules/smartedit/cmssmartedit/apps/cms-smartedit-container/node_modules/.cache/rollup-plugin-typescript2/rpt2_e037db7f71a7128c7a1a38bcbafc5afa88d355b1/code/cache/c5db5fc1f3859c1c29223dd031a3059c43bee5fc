{"code":"import { __awaiter, __decorate, __metadata } from \"tslib\";\r\nimport { IAnnouncementService, SeDowngradeService, WorkflowTasksPollingService } from 'smarteditcommons';\r\nimport { WorkflowInboxMultipleTasksAnnouncementComponent } from '../components/workflowInboxMultipleTasksAnnouncement/WorkflowInboxMultipleTasksAnnouncementComponent';\r\nimport { WorkflowInboxSingleTaskAnnouncementComponent } from '../components/workflowInboxSingleTaskAnnouncement/WorkflowInboxSingleTaskAnnouncementComponent';\r\n/**\r\n * This service is used to show announcements for workflow inbox tasks.\r\n */\r\nlet /* @ngInject */ WorkflowInboxAnnouncementService = class /* @ngInject */ WorkflowInboxAnnouncementService {\r\n    constructor(workflowTasksPollingService, announcementService) {\r\n        this.workflowTasksPollingService = workflowTasksPollingService;\r\n        this.announcementService = announcementService;\r\n        this.unsubscribePollingService = this.workflowTasksPollingService.addSubscriber(\r\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n        (tasks, pagination) => {\r\n            if (tasks) {\r\n                this.displayAnnouncement(tasks);\r\n            }\r\n        }, false);\r\n    }\r\n    ngOnDestroy() {\r\n        this.unsubscribePollingService();\r\n    }\r\n    displayAnnouncement(tasks) {\r\n        if (tasks.length === 1) {\r\n            this.showSingleTaskAnnouncement(tasks[0]);\r\n        }\r\n        else if (tasks.length > 1) {\r\n            this.showMultipleTasksAnnouncement(tasks);\r\n        }\r\n    }\r\n    showSingleTaskAnnouncement(task) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            yield this.showAnnouncement(WorkflowInboxSingleTaskAnnouncementComponent, {\r\n                task\r\n            });\r\n        });\r\n    }\r\n    showMultipleTasksAnnouncement(tasks) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            yield this.showAnnouncement(WorkflowInboxMultipleTasksAnnouncementComponent, {\r\n                tasks\r\n            });\r\n        });\r\n    }\r\n    showAnnouncement(component, data) {\r\n        return this.announcementService.showAnnouncement({\r\n            component,\r\n            data\r\n        });\r\n    }\r\n};\r\n/* @ngInject */ WorkflowInboxAnnouncementService = __decorate([\r\n    SeDowngradeService(),\r\n    __metadata(\"design:paramtypes\", [WorkflowTasksPollingService,\r\n        IAnnouncementService])\r\n], /* @ngInject */ WorkflowInboxAnnouncementService);\r\nexport { /* @ngInject */ WorkflowInboxAnnouncementService };\r\n//# sourceMappingURL=WorkflowInboxAnnouncementService.js.map","references":["/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@angular+core@8.2.14_rxjs@6.5.4+zone.js@0.9.1/node_modules/@angular/core/core.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/dist/index.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/components/workflow/components/workflowInboxMultipleTasksAnnouncement/WorkflowInboxMultipleTasksAnnouncementComponent.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/components/workflow/components/workflowInboxSingleTaskAnnouncement/WorkflowInboxSingleTaskAnnouncementComponent.ts"],"map":"{\"version\":3,\"file\":\"WorkflowInboxAnnouncementService.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../../src/components/workflow/services/WorkflowInboxAnnouncementService.ts\"],\"names\":[],\"mappings\":\";AAIA,OAAO,EACH,oBAAoB,EAEpB,kBAAkB,EAClB,2BAA2B,EAE9B,MAAM,kBAAkB,CAAC;AAE1B,OAAO,EAAE,+CAA+C,EAAE,MAAM,sGAAsG,CAAC;AACvK,OAAO,EAAE,4CAA4C,EAAE,MAAM,gGAAgG,CAAC;AAE9J;;GAEG;AAEH,uDAAA;IAGI,YACY,2BAAwD,EACxD,mBAAyC;QADzC,gCAA2B,GAA3B,2BAA2B,CAA6B;QACxD,wBAAmB,GAAnB,mBAAmB,CAAsB;QAEjD,IAAI,CAAC,yBAAyB,GAAG,IAAI,CAAC,2BAA2B,CAAC,aAAa;QAC3E,6DAA6D;QAC7D,CAAC,KAAqB,EAAE,UAAsB,EAAE,EAAE;YAC9C,IAAI,KAAK,EAAE;gBACP,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC;aACnC;QACL,CAAC,EACD,KAAK,CACR,CAAC;IACN,CAAC;IAED,WAAW;QACP,IAAI,CAAC,yBAAyB,EAAE,CAAC;IACrC,CAAC;IAEO,mBAAmB,CAAC,KAAqB;QAC7C,IAAI,KAAK,CAAC,MAAM,KAAK,CAAC,EAAE;YACpB,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;SAC7C;aAAM,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;YACzB,IAAI,CAAC,6BAA6B,CAAC,KAAK,CAAC,CAAC;SAC7C;IACL,CAAC;IAEa,0BAA0B,CAAC,IAAkB;;YACvD,MAAM,IAAI,CAAC,gBAAgB,CAAC,4CAA4C,EAAE;gBACtE,IAAI;aACP,CAAC,CAAC;QACP,CAAC;KAAA;IAEa,6BAA6B,CAAC,KAAqB;;YAC7D,MAAM,IAAI,CAAC,gBAAgB,CAAC,+CAA+C,EAAE;gBACzE,KAAK;aACR,CAAC,CAAC;QACP,CAAC;KAAA;IAEO,gBAAgB,CAAC,SAAoB,EAAE,IAAS;QACpD,OAAO,IAAI,CAAC,mBAAmB,CAAC,gBAAgB,CAAC;YAC7C,SAAS;YACT,IAAI;SACP,CAAC,CAAC;IACP,CAAC;CACJ,CAAA;AAhDD;IADC,kBAAkB,EAAE;qCAKwB,2BAA2B;QACnC,oBAAoB;oDA2CxD\"}","dts":{"name":"/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/node_modules/.cache/rollup-plugin-typescript2/placeholder/components/workflow/services/WorkflowInboxAnnouncementService.d.ts","writeByteOrderMark":false,"text":"import { OnDestroy } from '@angular/core';\r\nimport { IAnnouncementService, WorkflowTasksPollingService } from 'smarteditcommons';\r\n/**\r\n * This service is used to show announcements for workflow inbox tasks.\r\n */\r\nexport declare class WorkflowInboxAnnouncementService implements OnDestroy {\r\n    private workflowTasksPollingService;\r\n    private announcementService;\r\n    private unsubscribePollingService;\r\n    constructor(workflowTasksPollingService: WorkflowTasksPollingService, announcementService: IAnnouncementService);\r\n    ngOnDestroy(): void;\r\n    private displayAnnouncement;\r\n    private showSingleTaskAnnouncement;\r\n    private showMultipleTasksAnnouncement;\r\n    private showAnnouncement;\r\n}\r\n"}}
