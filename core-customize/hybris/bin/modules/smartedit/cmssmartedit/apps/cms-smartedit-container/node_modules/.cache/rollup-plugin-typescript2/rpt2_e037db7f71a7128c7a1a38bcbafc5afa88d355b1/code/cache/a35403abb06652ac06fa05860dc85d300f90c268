{"code":"import { __awaiter, __decorate, __metadata } from \"tslib\";\r\n/*\r\n * Copyright (c) 2022 SAP SE or an SAP affiliate company. All rights reserved.\r\n */\r\nimport { SeDowngradeService } from 'smarteditcommons';\r\nimport { DisplayConditionsFacade } from '../../facades/DisplayConditionsFacade';\r\n/**\r\n * Initializes a Page data such as type, name for Primary or Variation Page.\r\n * Used as a local instance of DisplayConditionsEditor.\r\n */\r\nlet /* @ngInject */ DisplayConditionsEditorModel = class /* @ngInject */ DisplayConditionsEditorModel {\r\n    constructor(displayConditionsFacade) {\r\n        this.displayConditionsFacade = displayConditionsFacade;\r\n        this.variations = [];\r\n    }\r\n    initModel(pageUid) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.pageUid = pageUid;\r\n            const page = yield this.displayConditionsFacade.getPageInfoForPageUid(pageUid);\r\n            ({ pageName: this.pageName, pageType: this.pageType, isPrimary: this.isPrimary } = page);\r\n            if (this.isPrimary) {\r\n                return this.initModelForPrimary(pageUid);\r\n            }\r\n            return this.initModelForVariation(pageUid);\r\n        });\r\n    }\r\n    initModelForPrimary(pageUid) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.variations = yield this.displayConditionsFacade.getVariationsForPageUid(pageUid);\r\n        });\r\n    }\r\n    initModelForVariation(pageUid) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.isAssociatedPrimaryReadOnly = this.pageType !== 'ContentPage';\r\n            const associatedPrimaryPage = yield this.displayConditionsFacade.getPrimaryPageForVariationPage(pageUid);\r\n            this.associatedPrimaryPage = associatedPrimaryPage;\r\n            this.originalPrimaryPage = associatedPrimaryPage;\r\n        });\r\n    }\r\n};\r\n/* @ngInject */ DisplayConditionsEditorModel = __decorate([\r\n    SeDowngradeService(),\r\n    __metadata(\"design:paramtypes\", [DisplayConditionsFacade])\r\n], /* @ngInject */ DisplayConditionsEditorModel);\r\nexport { /* @ngInject */ DisplayConditionsEditorModel };\r\n//# sourceMappingURL=DisplayConditionsEditorModel.js.map","references":["/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/dist/index.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/facades/DisplayConditionsFacade.ts"],"map":"{\"version\":3,\"file\":\"DisplayConditionsEditorModel.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../src/services/pageDisplayConditions/DisplayConditionsEditorModel.ts\"],\"names\":[],\"mappings\":\";AAAA;;GAEG;AACH,OAAO,EAAE,kBAAkB,EAAE,MAAM,kBAAkB,CAAC;AAEtD,OAAO,EACH,uBAAuB,EAG1B,MAAM,uCAAuC,CAAC;AAE/C;;;GAGG;AAEH,mDAAA;IAUI,YAAoB,uBAAgD;QAAhD,4BAAuB,GAAvB,uBAAuB,CAAyB;QAChE,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;IACzB,CAAC;IAEY,SAAS,CAAC,OAAe;;YAClC,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;YAEvB,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,uBAAuB,CAAC,qBAAqB,CAAC,OAAO,CAAC,CAAC;YAE/E,CAAC,EAAE,QAAQ,EAAE,IAAI,CAAC,QAAQ,EAAE,QAAQ,EAAE,IAAI,CAAC,QAAQ,EAAE,SAAS,EAAE,IAAI,CAAC,SAAS,EAAE,GAAG,IAAI,CAAC,CAAC;YAEzF,IAAI,IAAI,CAAC,SAAS,EAAE;gBAChB,OAAO,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC,CAAC;aAC5C;YACD,OAAO,IAAI,CAAC,qBAAqB,CAAC,OAAO,CAAC,CAAC;QAC/C,CAAC;KAAA;IAEa,mBAAmB,CAAC,OAAe;;YAC7C,IAAI,CAAC,UAAU,GAAG,MAAM,IAAI,CAAC,uBAAuB,CAAC,uBAAuB,CAAC,OAAO,CAAC,CAAC;QAC1F,CAAC;KAAA;IAEa,qBAAqB,CAAC,OAAe;;YAC/C,IAAI,CAAC,2BAA2B,GAAG,IAAI,CAAC,QAAQ,KAAK,aAAa,CAAC;YAEnE,MAAM,qBAAqB,GAAG,MAAM,IAAI,CAAC,uBAAuB,CAAC,8BAA8B,CAC3F,OAAO,CACV,CAAC;YAEF,IAAI,CAAC,qBAAqB,GAAG,qBAAqB,CAAC;YACnD,IAAI,CAAC,mBAAmB,GAAG,qBAAqB,CAAC;QACrD,CAAC;KAAA;CACJ,CAAA;AAzCD;IADC,kBAAkB,EAAE;qCAW4B,uBAAuB;gDA+BvE\"}","dts":{"name":"/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/node_modules/.cache/rollup-plugin-typescript2/placeholder/services/pageDisplayConditions/DisplayConditionsEditorModel.d.ts","writeByteOrderMark":false,"text":"import { DisplayConditionsFacade, IDisplayConditionsPageVariation, IDisplayConditionsPrimaryPage } from '../../facades/DisplayConditionsFacade';\r\n/**\r\n * Initializes a Page data such as type, name for Primary or Variation Page.\r\n * Used as a local instance of DisplayConditionsEditor.\r\n */\r\nexport declare class DisplayConditionsEditorModel {\r\n    private displayConditionsFacade;\r\n    variations: IDisplayConditionsPageVariation[];\r\n    associatedPrimaryPage: Partial<IDisplayConditionsPrimaryPage>;\r\n    originalPrimaryPage: Partial<IDisplayConditionsPrimaryPage>;\r\n    isAssociatedPrimaryReadOnly: boolean;\r\n    pageType: string;\r\n    pageUid: string;\r\n    pageName: string;\r\n    isPrimary: boolean;\r\n    constructor(displayConditionsFacade: DisplayConditionsFacade);\r\n    initModel(pageUid: string): Promise<void>;\r\n    private initModelForPrimary;\r\n    private initModelForVariation;\r\n}\r\n"}}
