{"code":"import { __awaiter, __decorate, __metadata } from \"tslib\";\r\n/*\r\n * Copyright (c) 2022 SAP SE or an SAP affiliate company. All rights reserved.\r\n */\r\nimport { SeDowngradeService } from 'smarteditcommons';\r\nimport { RestrictionTypesRestService } from '../../dao/RestrictionTypesRestService';\r\nimport { PageTypesRestrictionTypesService } from './PageTypesRestrictionTypesService';\r\nlet /* @ngInject */ RestrictionTypesService = class /* @ngInject */ RestrictionTypesService {\r\n    constructor(pageTypesRestrictionTypesService, restrictionTypesRestService) {\r\n        this.pageTypesRestrictionTypesService = pageTypesRestrictionTypesService;\r\n        this.restrictionTypesRestService = restrictionTypesRestService;\r\n    }\r\n    getRestrictionTypesByPageType(pageType) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const restrictionTypes = yield this.getRestrictionTypes();\r\n            const restrictionTypeCodes = yield this.pageTypesRestrictionTypesService.getRestrictionTypeCodesForPageType(pageType);\r\n            return restrictionTypes.filter((restrictionType) => restrictionTypeCodes.indexOf(restrictionType.code) >= 0);\r\n        });\r\n    }\r\n    getRestrictionTypeForTypeCode(typeCode) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const restrictionTypes = yield this.getRestrictionTypes();\r\n            return restrictionTypes.find((restrictionType) => restrictionType.code === typeCode);\r\n        });\r\n    }\r\n    getRestrictionTypes() {\r\n        if (this.cache) {\r\n            return this.cache;\r\n        }\r\n        else {\r\n            this.cache = this.restrictionTypesRestService\r\n                .getRestrictionTypes()\r\n                .then((response) => response.restrictionTypes);\r\n        }\r\n        return this.cache;\r\n    }\r\n};\r\n/* @ngInject */ RestrictionTypesService = __decorate([\r\n    SeDowngradeService(),\r\n    __metadata(\"design:paramtypes\", [PageTypesRestrictionTypesService,\r\n        RestrictionTypesRestService])\r\n], /* @ngInject */ RestrictionTypesService);\r\nexport { /* @ngInject */ RestrictionTypesService };\r\n//# sourceMappingURL=RestrictionTypesService.js.map","references":["/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/dist/index.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/dao/RestrictionTypesRestService.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/services/pageRestrictions/PageTypesRestrictionTypesService.ts"],"map":"{\"version\":3,\"file\":\"RestrictionTypesService.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../src/services/pageRestrictions/RestrictionTypesService.ts\"],\"names\":[],\"mappings\":\";AAAA;;GAEG;AACH,OAAO,EAAE,kBAAkB,EAAE,MAAM,kBAAkB,CAAC;AACtD,OAAO,EAEH,2BAA2B,EAC9B,MAAM,uCAAuC,CAAC;AAC/C,OAAO,EAAE,gCAAgC,EAAE,MAAM,oCAAoC,CAAC;AAGtF,8CAAA;IAGI,YACY,gCAAkE,EAClE,2BAAwD;QADxD,qCAAgC,GAAhC,gCAAgC,CAAkC;QAClE,gCAA2B,GAA3B,2BAA2B,CAA6B;IACjE,CAAC;IAEE,6BAA6B,CAAC,QAAgB;;YAChD,MAAM,gBAAgB,GAAG,MAAM,IAAI,CAAC,mBAAmB,EAAE,CAAC;YAC1D,MAAM,oBAAoB,GAAG,MAAM,IAAI,CAAC,gCAAgC,CAAC,kCAAkC,CACvG,QAAQ,CACX,CAAC;YAEF,OAAO,gBAAgB,CAAC,MAAM,CAC1B,CAAC,eAAe,EAAE,EAAE,CAAC,oBAAoB,CAAC,OAAO,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,CAC/E,CAAC;QACN,CAAC;KAAA;IAEK,6BAA6B,CAAC,QAAgB;;YAChD,MAAM,gBAAgB,GAAG,MAAM,IAAI,CAAC,mBAAmB,EAAE,CAAC;YAE1D,OAAO,gBAAgB,CAAC,IAAI,CAAC,CAAC,eAAe,EAAE,EAAE,CAAC,eAAe,CAAC,IAAI,KAAK,QAAQ,CAAC,CAAC;QACzF,CAAC;KAAA;IAED,mBAAmB;QACf,IAAI,IAAI,CAAC,KAAK,EAAE;YACZ,OAAO,IAAI,CAAC,KAAK,CAAC;SACrB;aAAM;YACH,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,2BAA2B;iBACxC,mBAAmB,EAAE;iBACrB,IAAI,CAAC,CAAC,QAAQ,EAAE,EAAE,CAAC,QAAQ,CAAC,gBAAgB,CAAC,CAAC;SACtD;QACD,OAAO,IAAI,CAAC,KAAK,CAAC;IACtB,CAAC;CACJ,CAAA;AAnCD;IADC,kBAAkB,EAAE;qCAK6B,gCAAgC;QACrC,2BAA2B;2CA8BvE\"}","dts":{"name":"/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/node_modules/.cache/rollup-plugin-typescript2/placeholder/services/pageRestrictions/RestrictionTypesService.d.ts","writeByteOrderMark":false,"text":"import { IRestrictionType, RestrictionTypesRestService } from '../../dao/RestrictionTypesRestService';\r\nimport { PageTypesRestrictionTypesService } from './PageTypesRestrictionTypesService';\r\nexport declare class RestrictionTypesService {\r\n    private pageTypesRestrictionTypesService;\r\n    private restrictionTypesRestService;\r\n    private cache;\r\n    constructor(pageTypesRestrictionTypesService: PageTypesRestrictionTypesService, restrictionTypesRestService: RestrictionTypesRestService);\r\n    getRestrictionTypesByPageType(pageType: string): Promise<IRestrictionType[]>;\r\n    getRestrictionTypeForTypeCode(typeCode: string): Promise<IRestrictionType>;\r\n    getRestrictionTypes(): Promise<IRestrictionType[]>;\r\n}\r\n"}}
