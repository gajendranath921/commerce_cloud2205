{"code":"import { __awaiter, __decorate, __metadata } from \"tslib\";\r\nimport { ChangeDetectionStrategy, ChangeDetectorRef, Component, ViewEncapsulation } from '@angular/core';\r\nimport { WORKFLOW_FINISHED_EVENT } from 'cmscommons';\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\nimport { CrossFrameEventService, EVENTS, EVENT_PERSPECTIVE_CHANGED, IIframeClickDetectionService, IWaitDialogService, LogService, SeDowngradeComponent, SmarteditRoutingService, DropdownMenuItemDefaultComponent, IPageService, CmsApprovalStatus, WorkflowService, UserTrackingService, USER_TRACKING_FUNCTIONALITY } from 'smarteditcommons';\r\nconst PAGE_APPROVAL_SELECTOR_CLOSE_CALLBACK_ID = 'pageApprovalSelectorClose';\r\nwindow.__smartedit__.addDecoratorPayload(\"Component\", \"PageApprovalSelectorComponent\", {\r\n    selector: 'se-page-approval-selector',\r\n    template: `<fd-popover *ngIf=\"showDropdown\" [triggers]=\"[]\" [closeOnOutsideClick]=\"false\" [isOpen]=\"isOpen\" [placement]=\"'bottom-end'\"><fd-popover-control><button (click)=\"onClickDropdown()\" class=\"se-page-approval-selector__toggle-btn fd-button--light sap-icon--navigation-down-arrow\"></button></fd-popover-control><fd-popover-body><div *ngIf=\"showApprovalInfo\" class=\"se-page-approval-info\">{{ approvalInfo }}</div><fd-menu *ngIf=\"!showApprovalInfo\"><ul fd-menu-list class=\"se-dropdown-menu__list se-page-approval-selector-list\"><se-dropdown-menu-item *ngFor=\"let dropdownItem of pageApprovalOptions$ | async\" [dropdownItem]=\"dropdownItem\"></se-dropdown-menu-item></ul></fd-menu></fd-popover-body></fd-popover>`,\r\n    styles: [`.se-page-approval-selector__toggle-btn{color:#0a6ed1}.se-page-approval-selector__toggle-btn::before{font-size:1rem;line-height:1.4285714286;font-weight:400}.se-page-approval-selector__toggle-btn:active,.se-page-approval-selector__toggle-btn:focus{box-shadow:none}.se-page-approval-selector__toggle-btn:active,.se-page-approval-selector__toggle-btn:hover{outline:0;border-color:var(--sapButton_Hover_BorderColor);background-color:#fff}.se-page-approval-selector__icon--draft,.se-page-approval-selector__icon--ready-to-sync{width:12px;height:12px;border-radius:50%;margin-right:10px}.se-page-approval-selector__icon--draft{background-color:#6a6d70}.se-page-approval-selector__icon--ready-to-sync{background-color:#0a6ed1}.se-page-approval-selector-list{margin:0;min-width:190px;border:1px solid transparent;box-shadow:0 2px 8px 0 #d9d9d9;border-radius:4px}.se-page-approval-selector .se-dropdown-item{display:flex;align-items:center}.se-page-approval-selector .se-dropdown-item:hover{background-color:var(--sapBackgroundColor,#f7f7f7)}.se-page-approval-selector .fd-popover-container-custom{box-shadow:var(--sapContent_Shadow0)}.se-page-approval-selector .fd-menu{padding:0}.se-page-approval-info{width:320px;white-space:normal;padding:16px}`],\r\n    host: {\r\n        '[class.se-page-approval-selector]': 'true'\r\n    },\r\n    encapsulation: ViewEncapsulation.None,\r\n    changeDetection: ChangeDetectionStrategy.OnPush\r\n});\r\nlet /* @ngInject */ PageApprovalSelectorComponent = class /* @ngInject */ PageApprovalSelectorComponent {\r\n    constructor(iframeClickDetectionService, pageService, waitDialogService, workflowService, crossFrameEventService, routingService, logService, cdr, userTrackingService) {\r\n        this.iframeClickDetectionService = iframeClickDetectionService;\r\n        this.pageService = pageService;\r\n        this.waitDialogService = waitDialogService;\r\n        this.workflowService = workflowService;\r\n        this.crossFrameEventService = crossFrameEventService;\r\n        this.routingService = routingService;\r\n        this.logService = logService;\r\n        this.cdr = cdr;\r\n        this.userTrackingService = userTrackingService;\r\n        this.isOpen = false;\r\n        this.showApprovalInfo = false;\r\n        this.showDropdown = true;\r\n        this.pageApprovalOptionsSubject = new BehaviorSubject({\r\n            CHECK: {\r\n                status: CmsApprovalStatus.CHECK,\r\n                key: 'se.cms.page.approval.check',\r\n                icon: 'se-page-approval-selector__icon--draft',\r\n                component: DropdownMenuItemDefaultComponent,\r\n                condition: () => true,\r\n                callback: (_selectedItem, clickedItem) => this.selectApprovalStatus(clickedItem)\r\n            },\r\n            APPROVED: {\r\n                status: CmsApprovalStatus.APPROVED,\r\n                key: 'se.cms.page.approval.approved',\r\n                icon: 'se-page-approval-selector__icon--ready-to-sync',\r\n                component: DropdownMenuItemDefaultComponent,\r\n                condition: () => true,\r\n                callback: (_selectedItem, clickedItem) => this.selectApprovalStatus(clickedItem)\r\n            }\r\n        });\r\n    }\r\n    ngOnInit() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.unRegWfFinishedHandler = this.crossFrameEventService.subscribe(WORKFLOW_FINISHED_EVENT, () => this.hideComponentIfWorkflowInProgress());\r\n            this.unRegPerspectiveChangedHandler = this.crossFrameEventService.subscribe(EVENT_PERSPECTIVE_CHANGED, () => this.hideComponentIfWorkflowInProgress());\r\n            this.iframeClickDetectionService.registerCallback(PAGE_APPROVAL_SELECTOR_CLOSE_CALLBACK_ID, () => this.closeDropdown());\r\n            this.pageApprovalOptions$ = this.pageApprovalOptionsSubject.pipe(map((options) => Object.values(options).filter((option) => !option.selected)));\r\n            yield this.hideComponentIfWorkflowInProgress();\r\n        });\r\n    }\r\n    ngOnDestroy() {\r\n        this.unRegWfFinishedHandler();\r\n        this.unRegPerspectiveChangedHandler();\r\n        this.iframeClickDetectionService.removeCallback(PAGE_APPROVAL_SELECTOR_CLOSE_CALLBACK_ID);\r\n    }\r\n    onClickDropdown() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (!this.isOpen) {\r\n                const approvalStatus = yield this.getCurrentPageApprovalStatus();\r\n                const pageHasUnavailableDependencies = yield this.workflowService.pageHasUnavailableDependencies();\r\n                if (approvalStatus !== CmsApprovalStatus.APPROVED && pageHasUnavailableDependencies) {\r\n                    this.approvalInfo = yield this.workflowService.fetchPageTranslatedApprovalInfo();\r\n                    this.showApprovalInfo = true;\r\n                }\r\n                else {\r\n                    this.showApprovalInfo = false;\r\n                }\r\n                this.selectOption(approvalStatus);\r\n            }\r\n            this.isOpen = !this.isOpen;\r\n            if (!this.cdr.destroyed) {\r\n                this.cdr.detectChanges();\r\n            }\r\n        });\r\n    }\r\n    selectApprovalStatus({ status }) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.userTrackingService.trackingUserAction(USER_TRACKING_FUNCTIONALITY.TOOL_BAR, 'Ready To Sync');\r\n            this.waitDialogService.showWaitModal(null);\r\n            try {\r\n                yield this.pageService.forcePageApprovalStatus(status);\r\n                this.crossFrameEventService.publish(EVENTS.PAGE_UPDATED);\r\n                this.routingService.reload();\r\n            }\r\n            catch (error) {\r\n                this.logService.warn(\"[PageApprovalSelector] - Can't change page status.\", error);\r\n            }\r\n            finally {\r\n                this.waitDialogService.hideWaitModal();\r\n                this.unselectOptions();\r\n            }\r\n        });\r\n    }\r\n    getCurrentPageApprovalStatus() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const { approvalStatus } = yield this.pageService.getCurrentPageInfo();\r\n            return approvalStatus;\r\n        });\r\n    }\r\n    hideComponentIfWorkflowInProgress() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const { uuid } = yield this.pageService.getCurrentPageInfo();\r\n            const workflow = yield this.workflowService.getActiveWorkflowForPageUuid(uuid);\r\n            this.showDropdown = !workflow;\r\n            if (!this.cdr.destroyed) {\r\n                this.cdr.detectChanges();\r\n            }\r\n        });\r\n    }\r\n    selectOption(option) {\r\n        this.unselectOptions();\r\n        const options = this.getOptions();\r\n        if (options[option]) {\r\n            options[option].selected = true;\r\n        }\r\n        this.pageApprovalOptionsSubject.next(options);\r\n    }\r\n    unselectOptions() {\r\n        const options = this.getOptions();\r\n        Object.keys(options).forEach((key) => {\r\n            options[key].selected = false;\r\n        });\r\n        this.pageApprovalOptionsSubject.next(options);\r\n    }\r\n    getOptions() {\r\n        return Object.assign({}, this.pageApprovalOptionsSubject.getValue());\r\n    }\r\n    closeDropdown() {\r\n        this.isOpen = false;\r\n        if (!this.cdr.destroyed) {\r\n            this.cdr.detectChanges();\r\n        }\r\n    }\r\n};\r\n/* @ngInject */ PageApprovalSelectorComponent = __decorate([\r\n    SeDowngradeComponent(),\r\n    Component({\r\n        selector: 'se-page-approval-selector',\r\n        template: `<fd-popover *ngIf=\"showDropdown\" [triggers]=\"[]\" [closeOnOutsideClick]=\"false\" [isOpen]=\"isOpen\" [placement]=\"'bottom-end'\"><fd-popover-control><button (click)=\"onClickDropdown()\" class=\"se-page-approval-selector__toggle-btn fd-button--light sap-icon--navigation-down-arrow\"></button></fd-popover-control><fd-popover-body><div *ngIf=\"showApprovalInfo\" class=\"se-page-approval-info\">{{ approvalInfo }}</div><fd-menu *ngIf=\"!showApprovalInfo\"><ul fd-menu-list class=\"se-dropdown-menu__list se-page-approval-selector-list\"><se-dropdown-menu-item *ngFor=\"let dropdownItem of pageApprovalOptions$ | async\" [dropdownItem]=\"dropdownItem\"></se-dropdown-menu-item></ul></fd-menu></fd-popover-body></fd-popover>`,\r\n        styles: [`.se-page-approval-selector__toggle-btn{color:#0a6ed1}.se-page-approval-selector__toggle-btn::before{font-size:1rem;line-height:1.4285714286;font-weight:400}.se-page-approval-selector__toggle-btn:active,.se-page-approval-selector__toggle-btn:focus{box-shadow:none}.se-page-approval-selector__toggle-btn:active,.se-page-approval-selector__toggle-btn:hover{outline:0;border-color:var(--sapButton_Hover_BorderColor);background-color:#fff}.se-page-approval-selector__icon--draft,.se-page-approval-selector__icon--ready-to-sync{width:12px;height:12px;border-radius:50%;margin-right:10px}.se-page-approval-selector__icon--draft{background-color:#6a6d70}.se-page-approval-selector__icon--ready-to-sync{background-color:#0a6ed1}.se-page-approval-selector-list{margin:0;min-width:190px;border:1px solid transparent;box-shadow:0 2px 8px 0 #d9d9d9;border-radius:4px}.se-page-approval-selector .se-dropdown-item{display:flex;align-items:center}.se-page-approval-selector .se-dropdown-item:hover{background-color:var(--sapBackgroundColor,#f7f7f7)}.se-page-approval-selector .fd-popover-container-custom{box-shadow:var(--sapContent_Shadow0)}.se-page-approval-selector .fd-menu{padding:0}.se-page-approval-info{width:320px;white-space:normal;padding:16px}`],\r\n        host: {\r\n            '[class.se-page-approval-selector]': 'true'\r\n        },\r\n        encapsulation: ViewEncapsulation.None,\r\n        changeDetection: ChangeDetectionStrategy.OnPush\r\n    }),\r\n    __metadata(\"design:paramtypes\", [IIframeClickDetectionService,\r\n        IPageService,\r\n        IWaitDialogService,\r\n        WorkflowService,\r\n        CrossFrameEventService,\r\n        SmarteditRoutingService,\r\n        LogService,\r\n        ChangeDetectorRef,\r\n        UserTrackingService])\r\n], /* @ngInject */ PageApprovalSelectorComponent);\r\nexport { /* @ngInject */ PageApprovalSelectorComponent };\r\n//# sourceMappingURL=PageApprovalSelectorComponent.js.map","references":["/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@angular+core@8.2.14_rxjs@6.5.4+zone.js@0.9.1/node_modules/@angular/core/core.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-commons/dist/index.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/rxjs@6.5.4/node_modules/rxjs/index.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/rxjs@6.5.4/node_modules/rxjs/operators/index.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/dist/index.d.ts"],"map":"{\"version\":3,\"file\":\"PageApprovalSelectorComponent.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../../../src/components/workflow/components/pageApprovalSelector/PageApprovalSelectorComponent.ts\"],\"names\":[],\"mappings\":\"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\"}","dts":{"name":"/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/node_modules/.cache/rollup-plugin-typescript2/placeholder/components/workflow/components/pageApprovalSelector/PageApprovalSelectorComponent.d.ts","writeByteOrderMark":false,"text":"import { ChangeDetectorRef, OnInit } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { CrossFrameEventService, IDropdownMenuItem, IIframeClickDetectionService, IWaitDialogService, LogService, SmarteditRoutingService, IPageService, CmsApprovalStatus, WorkflowService, UserTrackingService } from 'smarteditcommons';\r\ninterface PageApprovalOption extends IDropdownMenuItem {\r\n    status: CmsApprovalStatus;\r\n    selected?: boolean;\r\n}\r\nexport declare class PageApprovalSelectorComponent implements OnInit {\r\n    private iframeClickDetectionService;\r\n    private pageService;\r\n    private waitDialogService;\r\n    private workflowService;\r\n    private crossFrameEventService;\r\n    private routingService;\r\n    private logService;\r\n    private cdr;\r\n    private userTrackingService;\r\n    approvalInfo: string;\r\n    isOpen: boolean;\r\n    showApprovalInfo: boolean;\r\n    showDropdown: boolean;\r\n    pageApprovalOptions$: Observable<PageApprovalOption[]>;\r\n    private pageApprovalOptionsSubject;\r\n    private unRegWfFinishedHandler;\r\n    private unRegPerspectiveChangedHandler;\r\n    constructor(iframeClickDetectionService: IIframeClickDetectionService, pageService: IPageService, waitDialogService: IWaitDialogService, workflowService: WorkflowService, crossFrameEventService: CrossFrameEventService, routingService: SmarteditRoutingService, logService: LogService, cdr: ChangeDetectorRef, userTrackingService: UserTrackingService);\r\n    ngOnInit(): Promise<void>;\r\n    ngOnDestroy(): void;\r\n    onClickDropdown(): Promise<void>;\r\n    private selectApprovalStatus;\r\n    private getCurrentPageApprovalStatus;\r\n    private hideComponentIfWorkflowInProgress;\r\n    private selectOption;\r\n    private unselectOptions;\r\n    private getOptions;\r\n    private closeDropdown;\r\n}\r\nexport {};\r\n"}}
