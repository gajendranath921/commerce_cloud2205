{"code":"import { __decorate, __metadata } from \"tslib\";\r\n/*\r\n * Copyright (c) 2022 SAP SE or an SAP affiliate company. All rights reserved.\r\n */\r\nimport { CONTEXT_CATALOG, CONTEXT_CATALOG_VERSION, CONTEXT_SITE_ID, PAGE_CONTEXT_CATALOG, PAGE_CONTEXT_CATALOG_VERSION, PAGE_CONTEXT_SITE_ID, RestServiceFactory, SeDowngradeService } from 'smarteditcommons';\r\n/**\r\n * Provides REST API for the CMS fallbacks endpoint.\r\n *\r\n * Used to fetch Primary Pages IDs for Variation Pages.\r\n */\r\nlet /* @ngInject */ PagesFallbacksRestService = class /* @ngInject */ PagesFallbacksRestService {\r\n    constructor(restServiceFactory) {\r\n        this.restServiceFactory = restServiceFactory;\r\n        this.fallbacksForPageIdResource = restServiceFactory.get(this.getUri());\r\n    }\r\n    getFallbacksForPageId(pageId) {\r\n        return this.fallbacksForPageIdResource.get({ pageId }).then((response) => response.uids);\r\n    }\r\n    getFallbacksForPageIdAndContext(pageId, uriContext) {\r\n        const uri = this.getUri(uriContext[CONTEXT_SITE_ID], uriContext[CONTEXT_CATALOG], uriContext[CONTEXT_CATALOG_VERSION]);\r\n        const resource = this.restServiceFactory.get(uri);\r\n        return resource.get({ pageId }).then((response) => response.uids);\r\n    }\r\n    getUri(siteId = PAGE_CONTEXT_SITE_ID, catalogId = PAGE_CONTEXT_CATALOG, catalogVersionId = PAGE_CONTEXT_CATALOG_VERSION) {\r\n        return `/cmswebservices/v1/sites/${siteId}/catalogs/${catalogId}/versions/${catalogVersionId}/pages/:pageId/fallbacks`;\r\n    }\r\n};\r\n/* @ngInject */ PagesFallbacksRestService = __decorate([\r\n    SeDowngradeService(),\r\n    __metadata(\"design:paramtypes\", [RestServiceFactory])\r\n], /* @ngInject */ PagesFallbacksRestService);\r\nexport { /* @ngInject */ PagesFallbacksRestService };\r\n//# sourceMappingURL=PagesFallbacksRestService.js.map","references":["/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/dist/index.d.ts"],"map":"{\"version\":3,\"file\":\"PagesFallbacksRestService.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/dao/PagesFallbacksRestService.ts\"],\"names\":[],\"mappings\":\";AAAA;;GAEG;AACH,OAAO,EACH,eAAe,EACf,uBAAuB,EACvB,eAAe,EAGf,oBAAoB,EACpB,4BAA4B,EAC5B,oBAAoB,EACpB,kBAAkB,EAClB,kBAAkB,EACrB,MAAM,kBAAkB,CAAC;AAM1B;;;;GAIG;AAEH,gDAAA;IAGI,YAAoB,kBAAsC;QAAtC,uBAAkB,GAAlB,kBAAkB,CAAoB;QACtD,IAAI,CAAC,0BAA0B,GAAG,kBAAkB,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC;IAC5E,CAAC;IAEM,qBAAqB,CAAC,MAAc;QACvC,OAAO,IAAI,CAAC,0BAA0B,CAAC,GAAG,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,QAAQ,EAAE,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;IAC7F,CAAC;IAEM,+BAA+B,CAClC,MAAc,EACd,UAAuB;QAEvB,MAAM,GAAG,GAAG,IAAI,CAAC,MAAM,CACnB,UAAU,CAAC,eAAe,CAAC,EAC3B,UAAU,CAAC,eAAe,CAAC,EAC3B,UAAU,CAAC,uBAAuB,CAAC,CACtC,CAAC;QACF,MAAM,QAAQ,GAAG,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAoB,GAAG,CAAC,CAAC;QACrE,OAAO,QAAQ,CAAC,GAAG,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,QAAQ,EAAE,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;IACtE,CAAC;IAEO,MAAM,CACV,MAAM,GAAG,oBAAoB,EAC7B,SAAS,GAAG,oBAAoB,EAChC,gBAAgB,GAAG,4BAA4B;QAE/C,OAAO,4BAA4B,MAAM,aAAa,SAAS,aAAa,gBAAgB,0BAA0B,CAAC;IAC3H,CAAC;CACJ,CAAA;AA/BD;IADC,kBAAkB,EAAE;qCAIuB,kBAAkB;6CA4B7D\"}","dts":{"name":"/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/node_modules/.cache/rollup-plugin-typescript2/placeholder/dao/PagesFallbacksRestService.d.ts","writeByteOrderMark":false,"text":"import { IUriContext, RestServiceFactory } from 'smarteditcommons';\r\n/**\r\n * Provides REST API for the CMS fallbacks endpoint.\r\n *\r\n * Used to fetch Primary Pages IDs for Variation Pages.\r\n */\r\nexport declare class PagesFallbacksRestService {\r\n    private restServiceFactory;\r\n    private readonly fallbacksForPageIdResource;\r\n    constructor(restServiceFactory: RestServiceFactory);\r\n    getFallbacksForPageId(pageId: string): Promise<string[]>;\r\n    getFallbacksForPageIdAndContext(pageId: string, uriContext: IUriContext): Promise<string[]>;\r\n    private getUri;\r\n}\r\n"}}
