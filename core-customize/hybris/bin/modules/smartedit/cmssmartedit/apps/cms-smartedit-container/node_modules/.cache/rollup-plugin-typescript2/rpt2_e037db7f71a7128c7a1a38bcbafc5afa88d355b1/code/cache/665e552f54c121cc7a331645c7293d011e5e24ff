{"code":"import { __awaiter, __decorate, __metadata } from \"tslib\";\r\nimport { ChangeDetectionStrategy, Component, Input } from '@angular/core';\r\nimport { IPerspectiveService, SeDowngradeComponent, CMSModesService, PageVersionSelectionService } from 'smarteditcommons';\r\nwindow.__smartedit__.addDecoratorPayload(\"Component\", \"VersionItemComponent\", {\r\n    selector: 'se-version-item',\r\n    template: `<div class=\"se-version-item\" [ngClass]=\"{ 'se-version-item--selected': isSelectedVersion() }\"><div class=\"se-version-item__header\" [title]=\"pageVersion.label\"><button class=\"se-version-item__label se-button--text\" (click)=\"selectVersion()\">{{ pageVersion.label }}</button><se-version-item-menu *ngIf=\"isVersionMenuEnabled()\" [item]=\"pageVersion\"></se-version-item-menu></div><div class=\"se-version-item__date\">{{ pageVersion.creationtime | date: 'M/d/yy h:mm a' }}</div><div class=\"se-version-item__description\" *ngIf=\"pageVersion.description\"><se-more-text class=\"se-version-item__description-text\" [text]=\"pageVersion.description\" [limit]=\"32\" [ellipsis]=\"'...'\" [capitalizeLabel]=\"true\"></se-more-text></div></div>`,\r\n    styles: [`:host(.se-version-item--last) .se-version-item{border-bottom:none}.se-version-item{padding:10px 20px;border-bottom:1px solid #d9d9d9}.se-version-item:hover{background-color:#fafafa}.se-version-item--selected{background-color:rgba(10,110,209,.07)}.se-version-item--selected:hover{background-color:rgba(10,110,209,.1)}.se-version-item__header{display:flex;flex-direction:row;align-items:center;justify-content:space-between}.se-version-item__label{font-weight:700;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;word-break:break-all;max-width:225px;color:#0a6ed1}.se-version-item__date{color:#6a6d70}.se-version-item__description{display:flex;flex-direction:row;align-items:center;max-width:260px}.se-version-item__description-text{padding-right:2px;width:230px;word-break:break-all;white-space:normal}`],\r\n    changeDetection: ChangeDetectionStrategy.OnPush\r\n});\r\nlet /* @ngInject */ VersionItemComponent = class /* @ngInject */ VersionItemComponent {\r\n    constructor(pageVersionSelectionService, perspectiveService, cMSModesService) {\r\n        this.pageVersionSelectionService = pageVersionSelectionService;\r\n        this.perspectiveService = perspectiveService;\r\n        this.cMSModesService = cMSModesService;\r\n        this.VERSIONING_MODE_KEY = CMSModesService.VERSIONING_PERSPECTIVE_KEY;\r\n    }\r\n    selectVersion() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const isVersioningModeActive = yield this.cMSModesService.isVersioningPerspectiveActive();\r\n            if (!isVersioningModeActive) {\r\n                this.perspectiveService.switchTo(this.VERSIONING_MODE_KEY);\r\n            }\r\n            this.pageVersionSelectionService.selectPageVersion(this.pageVersion);\r\n        });\r\n    }\r\n    isSelectedVersion() {\r\n        const selectedVersion = this.pageVersionSelectionService.getSelectedPageVersion();\r\n        return selectedVersion && selectedVersion.uid === this.pageVersion.uid;\r\n    }\r\n    isVersionMenuEnabled() {\r\n        const activePerspective = this.perspectiveService.getActivePerspective();\r\n        return activePerspective && activePerspective.key === this.VERSIONING_MODE_KEY;\r\n    }\r\n};\r\n__decorate([\r\n    Input(),\r\n    __metadata(\"design:type\", Object)\r\n], /* @ngInject */ VersionItemComponent.prototype, \"pageVersion\", void 0);\r\n/* @ngInject */ VersionItemComponent = __decorate([\r\n    SeDowngradeComponent(),\r\n    Component({\r\n        selector: 'se-version-item',\r\n        template: `<div class=\"se-version-item\" [ngClass]=\"{ 'se-version-item--selected': isSelectedVersion() }\"><div class=\"se-version-item__header\" [title]=\"pageVersion.label\"><button class=\"se-version-item__label se-button--text\" (click)=\"selectVersion()\">{{ pageVersion.label }}</button><se-version-item-menu *ngIf=\"isVersionMenuEnabled()\" [item]=\"pageVersion\"></se-version-item-menu></div><div class=\"se-version-item__date\">{{ pageVersion.creationtime | date: 'M/d/yy h:mm a' }}</div><div class=\"se-version-item__description\" *ngIf=\"pageVersion.description\"><se-more-text class=\"se-version-item__description-text\" [text]=\"pageVersion.description\" [limit]=\"32\" [ellipsis]=\"'...'\" [capitalizeLabel]=\"true\"></se-more-text></div></div>`,\r\n        styles: [`:host(.se-version-item--last) .se-version-item{border-bottom:none}.se-version-item{padding:10px 20px;border-bottom:1px solid #d9d9d9}.se-version-item:hover{background-color:#fafafa}.se-version-item--selected{background-color:rgba(10,110,209,.07)}.se-version-item--selected:hover{background-color:rgba(10,110,209,.1)}.se-version-item__header{display:flex;flex-direction:row;align-items:center;justify-content:space-between}.se-version-item__label{font-weight:700;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;word-break:break-all;max-width:225px;color:#0a6ed1}.se-version-item__date{color:#6a6d70}.se-version-item__description{display:flex;flex-direction:row;align-items:center;max-width:260px}.se-version-item__description-text{padding-right:2px;width:230px;word-break:break-all;white-space:normal}`],\r\n        changeDetection: ChangeDetectionStrategy.OnPush\r\n    }),\r\n    __metadata(\"design:paramtypes\", [PageVersionSelectionService,\r\n        IPerspectiveService,\r\n        CMSModesService])\r\n], /* @ngInject */ VersionItemComponent);\r\nexport { /* @ngInject */ VersionItemComponent };\r\n//# sourceMappingURL=VersionItemComponent.js.map","references":["/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@angular+core@8.2.14_rxjs@6.5.4+zone.js@0.9.1/node_modules/@angular/core/core.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/dist/index.d.ts"],"map":"{\"version\":3,\"file\":\"VersionItemComponent.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../../../../src/components/versioning/components/versionsPanel/versionItem/VersionItemComponent.ts\"],\"names\":[],\"mappings\":\";AACA,OAAO,EAAE,uBAAuB,EAAE,SAAS,EAAE,KAAK,EAAE,MAAM,eAAe,CAAC;AAC1E,OAAO,EACH,mBAAmB,EACnB,oBAAoB,EACpB,eAAe,EACf,2BAA2B,EAE9B,MAAM,kBAAkB,CAAC;8EAIf;IACP,QAAQ,EAAE,iBAAiB;IAC3B,QAAQ,EAAE,+sBAA+sB;IACztB,MAAM,EAAE,CAAC,4yBAA4yB,CAAC;IACtzB,eAAe,EAAE,uBAAuB,CAAC,MAAM;CAClD;AACD,2CAAA;IAKI,YACY,2BAAwD,EACxD,kBAAuC,EACvC,eAAgC;QAFhC,gCAA2B,GAA3B,2BAA2B,CAA6B;QACxD,uBAAkB,GAAlB,kBAAkB,CAAqB;QACvC,oBAAe,GAAf,eAAe,CAAiB;QALpC,wBAAmB,GAAG,eAAe,CAAC,0BAA0B,CAAC;IAMtE,CAAC;IAES,aAAa;;YACtB,MAAM,sBAAsB,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,6BAA6B,EAAE,CAAC;YAC1F,IAAI,CAAC,sBAAsB,EAAE;gBACzB,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC;aAC9D;YACD,IAAI,CAAC,2BAA2B,CAAC,iBAAiB,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;QACzE,CAAC;KAAA;IAEM,iBAAiB;QACpB,MAAM,eAAe,GAAG,IAAI,CAAC,2BAA2B,CAAC,sBAAsB,EAAE,CAAC;QAClF,OAAO,eAAe,IAAI,eAAe,CAAC,GAAG,KAAK,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC;IAC3E,CAAC;IAEM,oBAAoB;QACvB,MAAM,iBAAiB,GAAG,IAAI,CAAC,kBAAkB,CAAC,oBAAoB,EAAE,CAAC;QACzE,OAAO,iBAAiB,IAAI,iBAAiB,CAAC,GAAG,KAAK,IAAI,CAAC,mBAAmB,CAAC;IACnF,CAAC;CACJ,CAAA;AA3BY;IAAR,KAAK,EAAE;;yEAA2B;AADvC;IAPC,oBAAoB,EAAE;IACtB,SAAS,CAAC;QACP,QAAQ,EAAE,iBAAiB;QAC3B,QAAQ,EAAE,+sBAA+sB;QACztB,MAAM,EAAE,CAAC,4yBAA4yB,CAAC;QACtzB,eAAe,EAAE,uBAAuB,CAAC,MAAM;KAClD,CAAC;qCAO2C,2BAA2B;QACpC,mBAAmB;QACtB,eAAe;wCAoB/C\"}","dts":{"name":"/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/node_modules/.cache/rollup-plugin-typescript2/placeholder/components/versioning/components/versionsPanel/versionItem/VersionItemComponent.d.ts","writeByteOrderMark":false,"text":"import { IPerspectiveService, CMSModesService, PageVersionSelectionService, IPageVersion } from 'smarteditcommons';\r\nexport declare class VersionItemComponent {\r\n    private pageVersionSelectionService;\r\n    private perspectiveService;\r\n    private cMSModesService;\r\n    pageVersion: IPageVersion;\r\n    private VERSIONING_MODE_KEY;\r\n    constructor(pageVersionSelectionService: PageVersionSelectionService, perspectiveService: IPerspectiveService, cMSModesService: CMSModesService);\r\n    selectVersion(): Promise<void>;\r\n    isSelectedVersion(): boolean;\r\n    isVersionMenuEnabled(): boolean;\r\n}\r\n"}}
