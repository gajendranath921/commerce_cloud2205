{"code":"import { __awaiter, __decorate, __metadata } from \"tslib\";\r\nimport { Component } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { TRASHED_PAGE_LIST_PATH } from 'cmscommons';\r\nimport { ManagePageService } from 'cmssmarteditcontainer/services/pages/ManagePageService';\r\nimport { ICatalogService, IUrlService, SystemEventService, SeDowngradeComponent, SmarteditRoutingService, EVENT_CONTENT_CATALOG_UPDATE, NG_ROUTE_PREFIX } from 'smarteditcommons';\r\nwindow.__smartedit__.addDecoratorPayload(\"Component\", \"TrashLinkComponent\", {\r\n    selector: 'se-trash-link',\r\n    template: `<div *ngIf=\"isNonActiveCatalog\" (click)=\"goToTrash()\" class=\"se-page-list__page-link--right\"><a translate=\"se.cms.pagelist.trashcan.link.text\" [translateParams]=\"trashedPagesTranslationData\" class=\"se-page-list__page-link-anchor\"></a> <span class=\"se-page-list__page-link-icon sap-icon--navigation-right-arrow\"></span></div>`,\r\n    styles: [`.se-page-list{background-color:#edeff0;min-height:100vh;height:100%}.se-page-list__page-link-anchor{text-decoration:none!important;color:#51555a}.se-page-list__page-link-anchor:hover{color:#0a6ed1}.se-page-list__header{padding:16px 30px;background-color:#fff}.se-page-list__page-link-icon{font-size:.8571428571rem;line-height:1.3333333333;font-weight:400;color:#51555a}.se-page-list__catalog-name{font-size:1.7142857143rem;line-height:1.3333333333;font-weight:400;display:block;margin-bottom:4px}.se-page-list__sub-title{color:#6a6d70}.se-page-list__body{padding:20px 20px 70px}.se-page-list__page-link--left{cursor:pointer}.se-page-list__page-link--left .se-page-list__page-link-anchor{margin-left:3px}.se-page-list__page-link--right{cursor:pointer}.se-page-list__page-link--right .se-page-list__page-link-anchor{margin-right:3px}.se-page-list__table-header{display:flex;flex-direction:row;align-items:center;justify-content:space-between;background-color:#fff;height:56px;padding:20px;border-radius:4px 4px 0 0}.se-page-list__table-header--right{display:flex;flex-direction:row;align-items:center}.se-page-list__table-header .se-paged-list__page-count-wrapper{font-size:1.1428571429rem;line-height:1.25;font-weight:400;margin-right:auto}.se-page-list__table-body{padding-bottom:16px}.se-page-list__table-body .se-data-table__arrow{margin-left:2px}.se-page-list__table-body .se-paged-list-item{cursor:default}.se-page-list__search{margin-right:16px;width:380px}.se-page-list__add{text-transform:capitalize}.se-paged-list__header{font-size:1rem;line-height:1.4285714286;font-weight:400}.se-paged-list__header-dropdownitems,.se-paged-list__header-pageStatus,.se-paged-list__header-syncStatus{cursor:default}.se-paged-list-item-name a{text-decoration:none!important}.se-sync-btn__status--done{color:#0a7e3e}.se-sync-btn__status--not{color:#e9730c}.ySmartEditTrashPageToolbar{background-color:#fff}.fd-table td.se-paged-list-item-numberOfRestrictions,.fd-table td.se-paged-list-item-syncStatus,.fd-table th.se-paged-list__header-numberOfRestrictions,.fd-table th.se-paged-list__header-syncStatus{text-align:center}.fd-table td.se-paged-list-item-syncStatus{font-size:1.1428571429rem;line-height:1.25;font-weight:400}`]\r\n});\r\nlet /* @ngInject */ TrashLinkComponent = class /* @ngInject */ TrashLinkComponent {\r\n    constructor(route, routingsService, managePageService, urlService, catalogService, systemEventService) {\r\n        this.route = route;\r\n        this.routingsService = routingsService;\r\n        this.managePageService = managePageService;\r\n        this.urlService = urlService;\r\n        this.catalogService = catalogService;\r\n        this.systemEventService = systemEventService;\r\n        this.isNonActiveCatalog = false;\r\n    }\r\n    ngOnInit() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            ({\r\n                siteId: this.siteId,\r\n                catalogId: this.catalogId,\r\n                catalogVersion: this.catalogVersion\r\n            } = this.route.snapshot.params);\r\n            this.uriContext = this.urlService.buildUriContext(this.siteId, this.catalogId, this.catalogVersion);\r\n            const isNonActiveCatalog = yield this.catalogService.isContentCatalogVersionNonActive();\r\n            this.isNonActiveCatalog = isNonActiveCatalog;\r\n            if (isNonActiveCatalog) {\r\n                this.updateTrashedPagesCount();\r\n            }\r\n            this.unsubscribeContentCatalogUpdateEvent = this.systemEventService.subscribe(EVENT_CONTENT_CATALOG_UPDATE, () => this.updateTrashedPagesCount());\r\n        });\r\n    }\r\n    ngOnDestroy() {\r\n        this.unsubscribeContentCatalogUpdateEvent();\r\n    }\r\n    updateTrashedPagesCount() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const trashedPagesCount = yield this.managePageService.getSoftDeletedPagesCount(this.uriContext);\r\n            this.trashedPagesTranslationData = {\r\n                totalCount: trashedPagesCount\r\n            };\r\n        });\r\n    }\r\n    goToTrash() {\r\n        this.routingsService.go(`${NG_ROUTE_PREFIX}${TRASHED_PAGE_LIST_PATH}`\r\n            .replace(':siteId', this.siteId)\r\n            .replace(':catalogId', this.catalogId)\r\n            .replace(':catalogVersion', this.catalogVersion));\r\n    }\r\n};\r\n/* @ngInject */ TrashLinkComponent = __decorate([\r\n    SeDowngradeComponent(),\r\n    Component({\r\n        selector: 'se-trash-link',\r\n        template: `<div *ngIf=\"isNonActiveCatalog\" (click)=\"goToTrash()\" class=\"se-page-list__page-link--right\"><a translate=\"se.cms.pagelist.trashcan.link.text\" [translateParams]=\"trashedPagesTranslationData\" class=\"se-page-list__page-link-anchor\"></a> <span class=\"se-page-list__page-link-icon sap-icon--navigation-right-arrow\"></span></div>`,\r\n        styles: [`.se-page-list{background-color:#edeff0;min-height:100vh;height:100%}.se-page-list__page-link-anchor{text-decoration:none!important;color:#51555a}.se-page-list__page-link-anchor:hover{color:#0a6ed1}.se-page-list__header{padding:16px 30px;background-color:#fff}.se-page-list__page-link-icon{font-size:.8571428571rem;line-height:1.3333333333;font-weight:400;color:#51555a}.se-page-list__catalog-name{font-size:1.7142857143rem;line-height:1.3333333333;font-weight:400;display:block;margin-bottom:4px}.se-page-list__sub-title{color:#6a6d70}.se-page-list__body{padding:20px 20px 70px}.se-page-list__page-link--left{cursor:pointer}.se-page-list__page-link--left .se-page-list__page-link-anchor{margin-left:3px}.se-page-list__page-link--right{cursor:pointer}.se-page-list__page-link--right .se-page-list__page-link-anchor{margin-right:3px}.se-page-list__table-header{display:flex;flex-direction:row;align-items:center;justify-content:space-between;background-color:#fff;height:56px;padding:20px;border-radius:4px 4px 0 0}.se-page-list__table-header--right{display:flex;flex-direction:row;align-items:center}.se-page-list__table-header .se-paged-list__page-count-wrapper{font-size:1.1428571429rem;line-height:1.25;font-weight:400;margin-right:auto}.se-page-list__table-body{padding-bottom:16px}.se-page-list__table-body .se-data-table__arrow{margin-left:2px}.se-page-list__table-body .se-paged-list-item{cursor:default}.se-page-list__search{margin-right:16px;width:380px}.se-page-list__add{text-transform:capitalize}.se-paged-list__header{font-size:1rem;line-height:1.4285714286;font-weight:400}.se-paged-list__header-dropdownitems,.se-paged-list__header-pageStatus,.se-paged-list__header-syncStatus{cursor:default}.se-paged-list-item-name a{text-decoration:none!important}.se-sync-btn__status--done{color:#0a7e3e}.se-sync-btn__status--not{color:#e9730c}.ySmartEditTrashPageToolbar{background-color:#fff}.fd-table td.se-paged-list-item-numberOfRestrictions,.fd-table td.se-paged-list-item-syncStatus,.fd-table th.se-paged-list__header-numberOfRestrictions,.fd-table th.se-paged-list__header-syncStatus{text-align:center}.fd-table td.se-paged-list-item-syncStatus{font-size:1.1428571429rem;line-height:1.25;font-weight:400}`]\r\n    }),\r\n    __metadata(\"design:paramtypes\", [ActivatedRoute,\r\n        SmarteditRoutingService,\r\n        ManagePageService,\r\n        IUrlService,\r\n        ICatalogService,\r\n        SystemEventService])\r\n], /* @ngInject */ TrashLinkComponent);\r\nexport { /* @ngInject */ TrashLinkComponent };\r\n//# sourceMappingURL=TrashLinkComponent.js.map","references":["/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@angular+core@8.2.14_rxjs@6.5.4+zone.js@0.9.1/node_modules/@angular/core/core.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@angular+router@8.2.14_e9fbe5720e9434eb9ae0f6720f1ca3f4/node_modules/@angular/router/router.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-commons/dist/index.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/services/pages/ManagePageService.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/dist/index.d.ts"],"map":"{\"version\":3,\"file\":\"TrashLinkComponent.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../../src/components/pages/trashLink/TrashLinkComponent.ts\"],\"names\":[],\"mappings\":\";AACA,OAAO,EAAE,SAAS,EAAqB,MAAM,eAAe,CAAC;AAC7D,OAAO,EAAE,cAAc,EAAE,MAAM,iBAAiB,CAAC;AACjD,OAAO,EAAE,sBAAsB,EAAE,MAAM,YAAY,CAAC;AACpD,OAAO,EAAE,iBAAiB,EAAE,MAAM,wDAAwD,CAAC;AAC3F,OAAO,EACH,eAAe,EAEf,WAAW,EACX,kBAAkB,EAClB,oBAAoB,EACpB,uBAAuB,EACvB,4BAA4B,EAC5B,eAAe,EAElB,MAAM,kBAAkB,CAAC;4EAGf;IACP,QAAQ,EAAE,eAAe;IACzB,QAAQ,EAAE,sUAAsU;IAChV,MAAM,EAAE,CAAC,uqEAAuqE,CAAC;CACprE;AACD,yCAAA;IAUI,YACY,KAAqB,EACrB,eAAwC,EACxC,iBAAoC,EACpC,UAAuB,EACvB,cAA+B,EAC/B,kBAAsC;QALtC,UAAK,GAAL,KAAK,CAAgB;QACrB,oBAAe,GAAf,eAAe,CAAyB;QACxC,sBAAiB,GAAjB,iBAAiB,CAAmB;QACpC,eAAU,GAAV,UAAU,CAAa;QACvB,mBAAc,GAAd,cAAc,CAAiB;QAC/B,uBAAkB,GAAlB,kBAAkB,CAAoB;QAE9C,IAAI,CAAC,kBAAkB,GAAG,KAAK,CAAC;IACpC,CAAC;IAEK,QAAQ;;YACV,CAAC;gBACG,MAAM,EAAE,IAAI,CAAC,MAAM;gBACnB,SAAS,EAAE,IAAI,CAAC,SAAS;gBACzB,cAAc,EAAE,IAAI,CAAC,cAAc;aACtC,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;YAChC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,eAAe,CAC7C,IAAI,CAAC,MAAM,EACX,IAAI,CAAC,SAAS,EACd,IAAI,CAAC,cAAc,CACtB,CAAC;YACF,MAAM,kBAAkB,GAAG,MAAM,IAAI,CAAC,cAAc,CAAC,gCAAgC,EAAE,CAAC;YACxF,IAAI,CAAC,kBAAkB,GAAG,kBAAkB,CAAC;YAC7C,IAAI,kBAAkB,EAAE;gBACpB,IAAI,CAAC,uBAAuB,EAAE,CAAC;aAClC;YAED,IAAI,CAAC,oCAAoC,GAAG,IAAI,CAAC,kBAAkB,CAAC,SAAS,CACzE,4BAA4B,EAC5B,GAAG,EAAE,CAAC,IAAI,CAAC,uBAAuB,EAAE,CACvC,CAAC;QACN,CAAC;KAAA;IAED,WAAW;QACP,IAAI,CAAC,oCAAoC,EAAE,CAAC;IAChD,CAAC;IAGY,uBAAuB;;YAChC,MAAM,iBAAiB,GAAG,MAAM,IAAI,CAAC,iBAAiB,CAAC,wBAAwB,CAC3E,IAAI,CAAC,UAAU,CAClB,CAAC;YACF,IAAI,CAAC,2BAA2B,GAAG;gBAC/B,UAAU,EAAE,iBAAiB;aAChC,CAAC;QACN,CAAC;KAAA;IAEM,SAAS;QACZ,IAAI,CAAC,eAAe,CAAC,EAAE,CACnB,GAAG,eAAe,GAAG,sBAAsB,EAAE;aACxC,OAAO,CAAC,SAAS,EAAE,IAAI,CAAC,MAAM,CAAC;aAC/B,OAAO,CAAC,YAAY,EAAE,IAAI,CAAC,SAAS,CAAC;aACrC,OAAO,CAAC,iBAAiB,EAAE,IAAI,CAAC,cAAc,CAAC,CACvD,CAAC;IACN,CAAC;CACJ,CAAA;AAlED;IANC,oBAAoB,EAAE;IACtB,SAAS,CAAC;QACP,QAAQ,EAAE,eAAe;QACzB,QAAQ,EAAE,sUAAsU;QAChV,MAAM,EAAE,CAAC,uqEAAuqE,CAAC;KACprE,CAAC;qCAYqB,cAAc;QACJ,uBAAuB;QACrB,iBAAiB;QACxB,WAAW;QACP,eAAe;QACX,kBAAkB;sCAkDrD\"}","dts":{"name":"/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/node_modules/.cache/rollup-plugin-typescript2/placeholder/components/pages/trashLink/TrashLinkComponent.d.ts","writeByteOrderMark":false,"text":"import { OnInit, OnDestroy } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { ManagePageService } from 'cmssmarteditcontainer/services/pages/ManagePageService';\r\nimport { ICatalogService, IUrlService, SystemEventService, SmarteditRoutingService, TypedMap } from 'smarteditcommons';\r\nexport declare class TrashLinkComponent implements OnInit, OnDestroy {\r\n    private route;\r\n    private routingsService;\r\n    private managePageService;\r\n    private urlService;\r\n    private catalogService;\r\n    private systemEventService;\r\n    trashedPagesTranslationData: TypedMap<number>;\r\n    isNonActiveCatalog: boolean;\r\n    private siteId;\r\n    private catalogId;\r\n    private catalogVersion;\r\n    private uriContext;\r\n    private unsubscribeContentCatalogUpdateEvent;\r\n    constructor(route: ActivatedRoute, routingsService: SmarteditRoutingService, managePageService: ManagePageService, urlService: IUrlService, catalogService: ICatalogService, systemEventService: SystemEventService);\r\n    ngOnInit(): Promise<void>;\r\n    ngOnDestroy(): void;\r\n    updateTrashedPagesCount(): Promise<void>;\r\n    goToTrash(): void;\r\n}\r\n"}}
