{"code":"import { __decorate, __metadata, __param } from \"tslib\";\r\nimport { Component, Inject } from '@angular/core';\r\nimport { GENERIC_EDITOR_WIDGET_DATA, SeDowngradeComponent } from 'smarteditcommons';\r\nimport { RestrictionTypesService } from '../../../../../services/pageRestrictions/RestrictionTypesService';\r\nimport { RestrictionsService } from '../../../../../services/RestrictionsService';\r\nwindow.__smartedit__.addDecoratorPayload(\"Component\", \"PageRestrictionsEditorComponent\", {\r\n    selector: 'se-page-restrictions-editor',\r\n    template: `<se-page-restrictions-info-message *ngIf=\"page.restrictions?.length > 1\"></se-page-restrictions-info-message><se-restrictions-editor [editable]=\"isEditable\" [getRestrictionTypes]=\"getRestrictionTypes\" [getSupportedRestrictionTypes]=\"getSupportedRestrictionTypes\" [item]=\"page\" [restrictionUuids]=\"page.restrictions\" [removeValidationMessages]=\"onRemoveValidationMessages\" (onRestrictionsChange)=\"onRestrictionsChange($event)\"></se-restrictions-editor>`\r\n});\r\nlet /* @ngInject */ PageRestrictionsEditorComponent = class /* @ngInject */ PageRestrictionsEditorComponent {\r\n    constructor(data, restrictionsService, restrictionTypesService) {\r\n        this.data = data;\r\n        this.restrictionsService = restrictionsService;\r\n        this.restrictionTypesService = restrictionTypesService;\r\n        ({ editor: this.editor, model: this.page } = data);\r\n        this.isEditable = !data.isFieldDisabled();\r\n    }\r\n    ngOnInit() {\r\n        this.initGetRestrictionTypes();\r\n        this.initSupportedRestrictionTypes();\r\n        this.initOnRemoveValidationMessages();\r\n    }\r\n    onRestrictionsChange({ onlyOneRestrictionMustApply, restrictionUuids, alwaysEnableSubmit }) {\r\n        this.page.onlyOneRestrictionMustApply = onlyOneRestrictionMustApply;\r\n        this.page.restrictions = restrictionUuids;\r\n    }\r\n    initGetRestrictionTypes() {\r\n        this.getRestrictionTypes = () => this.restrictionTypesService.getRestrictionTypesByPageType(this.page.typeCode);\r\n    }\r\n    initSupportedRestrictionTypes() {\r\n        this.getSupportedRestrictionTypes = () => this.restrictionsService.getSupportedRestrictionTypeCodes();\r\n    }\r\n    initOnRemoveValidationMessages() {\r\n        this.onRemoveValidationMessages = () => this.editor.api.clearMessages();\r\n    }\r\n};\r\n/* @ngInject */ PageRestrictionsEditorComponent = __decorate([\r\n    SeDowngradeComponent(),\r\n    Component({\r\n        selector: 'se-page-restrictions-editor',\r\n        template: `<se-page-restrictions-info-message *ngIf=\"page.restrictions?.length > 1\"></se-page-restrictions-info-message><se-restrictions-editor [editable]=\"isEditable\" [getRestrictionTypes]=\"getRestrictionTypes\" [getSupportedRestrictionTypes]=\"getSupportedRestrictionTypes\" [item]=\"page\" [restrictionUuids]=\"page.restrictions\" [removeValidationMessages]=\"onRemoveValidationMessages\" (onRestrictionsChange)=\"onRestrictionsChange($event)\"></se-restrictions-editor>`\r\n    }),\r\n    __param(0, Inject(GENERIC_EDITOR_WIDGET_DATA)),\r\n    __metadata(\"design:paramtypes\", [Object, RestrictionsService,\r\n        RestrictionTypesService])\r\n], /* @ngInject */ PageRestrictionsEditorComponent);\r\nexport { /* @ngInject */ PageRestrictionsEditorComponent };\r\n//# sourceMappingURL=PageRestrictionsEditorComponent.js.map","references":["/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@angular+core@8.2.14_rxjs@6.5.4+zone.js@0.9.1/node_modules/@angular/core/core.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/dist/index.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/components/pages/pageWizard/index.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/dao/RestrictionTypesRestService.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/services/pageRestrictions/RestrictionTypesService.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/services/RestrictionsService.ts"],"map":"{\"version\":3,\"file\":\"PageRestrictionsEditorComponent.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../../../../src/components/cmsComponents/restrictionEditor/pageRestrictions/pageRestrictionsEditor/PageRestrictionsEditorComponent.ts\"],\"names\":[],\"mappings\":\";AACA,OAAO,EAAE,SAAS,EAAE,MAAM,EAAU,MAAM,eAAe,CAAC;AAC1D,OAAO,EAEH,0BAA0B,EAE1B,oBAAoB,EAEvB,MAAM,kBAAkB,CAAC;AAG1B,OAAO,EAAE,uBAAuB,EAAE,MAAM,kEAAkE,CAAC;AAC3G,OAAO,EAAE,mBAAmB,EAAE,MAAM,6CAA6C,CAAC;yFAIvE;IACP,QAAQ,EAAE,6BAA6B;IACvC,QAAQ,EAAE,qcAAqc;CACld;AACD,sDAAA;IASI,YAC+C,IAAkC,EACrE,mBAAwC,EACxC,uBAAgD;QAFb,SAAI,GAAJ,IAAI,CAA8B;QACrE,wBAAmB,GAAnB,mBAAmB,CAAqB;QACxC,4BAAuB,GAAvB,uBAAuB,CAAyB;QAExD,CAAC,EAAE,MAAM,EAAE,IAAI,CAAC,MAAM,EAAE,KAAK,EAAE,IAAI,CAAC,IAAI,EAAE,GAAG,IAAI,CAAC,CAAC;QACnD,IAAI,CAAC,UAAU,GAAG,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC;IAC9C,CAAC;IAED,QAAQ;QACJ,IAAI,CAAC,uBAAuB,EAAE,CAAC;QAC/B,IAAI,CAAC,6BAA6B,EAAE,CAAC;QACrC,IAAI,CAAC,8BAA8B,EAAE,CAAC;IAC1C,CAAC;IAGM,oBAAoB,CAAC,EACxB,2BAA2B,EAC3B,gBAAgB,EAChB,kBAAkB,EACJ;QACd,IAAI,CAAC,IAAI,CAAC,2BAA2B,GAAG,2BAA2B,CAAC;QACpE,IAAI,CAAC,IAAI,CAAC,YAAY,GAAG,gBAAgB,CAAC;IAC9C,CAAC;IAGO,uBAAuB;QAC3B,IAAI,CAAC,mBAAmB,GAAG,GAAgC,EAAE,CACzD,IAAI,CAAC,uBAAuB,CAAC,6BAA6B,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;IACvF,CAAC;IAGO,6BAA6B;QACjC,IAAI,CAAC,4BAA4B,GAAG,GAAsB,EAAE,CACxD,IAAI,CAAC,mBAAmB,CAAC,gCAAgC,EAAE,CAAC;IACpE,CAAC;IAGO,8BAA8B;QAClC,IAAI,CAAC,0BAA0B,GAAG,GAAS,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,aAAa,EAAE,CAAC;IAClF,CAAC;CACJ,CAAA;AAlDD;IALC,oBAAoB,EAAE;IACtB,SAAS,CAAC;QACP,QAAQ,EAAE,6BAA6B;QACvC,QAAQ,EAAE,qcAAqc;KACld,CAAC;IAWO,WAAA,MAAM,CAAC,0BAA0B,CAAC,CAAA;6CACN,mBAAmB;QACf,uBAAuB;mDAsC/D\"}","dts":{"name":"/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/node_modules/.cache/rollup-plugin-typescript2/placeholder/components/cmsComponents/restrictionEditor/pageRestrictions/pageRestrictionsEditor/PageRestrictionsEditorComponent.d.ts","writeByteOrderMark":false,"text":"import { OnInit } from '@angular/core';\r\nimport { GenericEditorWidgetData, ICMSPage } from 'smarteditcommons';\r\nimport { RestrictionsDTO } from '../../../../../components/pages/pageWizard';\r\nimport { IRestrictionType } from '../../../../../dao/RestrictionTypesRestService';\r\nimport { RestrictionTypesService } from '../../../../../services/pageRestrictions/RestrictionTypesService';\r\nimport { RestrictionsService } from '../../../../../services/RestrictionsService';\r\nexport declare class PageRestrictionsEditorComponent implements OnInit {\r\n    data: GenericEditorWidgetData<any>;\r\n    private restrictionsService;\r\n    private restrictionTypesService;\r\n    page: ICMSPage;\r\n    isEditable: boolean;\r\n    getRestrictionTypes: () => Promise<IRestrictionType[]>;\r\n    getSupportedRestrictionTypes: () => Promise<string[]>;\r\n    onRemoveValidationMessages: () => void;\r\n    private editor;\r\n    constructor(data: GenericEditorWidgetData<any>, restrictionsService: RestrictionsService, restrictionTypesService: RestrictionTypesService);\r\n    ngOnInit(): void;\r\n    onRestrictionsChange({ onlyOneRestrictionMustApply, restrictionUuids, alwaysEnableSubmit }: RestrictionsDTO): void;\r\n    private initGetRestrictionTypes;\r\n    private initSupportedRestrictionTypes;\r\n    private initOnRemoveValidationMessages;\r\n}\r\n"}}
