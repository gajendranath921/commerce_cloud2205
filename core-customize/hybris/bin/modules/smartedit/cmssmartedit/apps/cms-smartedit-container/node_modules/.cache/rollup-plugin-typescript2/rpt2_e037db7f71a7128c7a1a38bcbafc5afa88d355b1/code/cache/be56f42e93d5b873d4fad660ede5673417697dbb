{"code":"import { __awaiter, __decorate, __metadata } from \"tslib\";\r\nimport { Component, Input, ChangeDetectionStrategy } from '@angular/core';\r\nimport { NAVIGATION_MANAGEMENT_RESOURCE_URI, NAVIGATION_NODE_ROOT_NODE_UID } from 'cmscommons';\r\nimport { SeDowngradeComponent, SystemEventService, URIBuilder, CmsitemsRestService } from 'smarteditcommons';\r\nimport { SELECTED_NODE } from '../navigationNodeConstants';\r\nimport { NavigationNodePickerRenderComponent } from './NavigationNodePickerRenderComponent';\r\nwindow.__smartedit__.addDecoratorPayload(\"Component\", \"NavigationNodePickerComponent\", {\r\n    selector: 'se-navigation-node-picker',\r\n    template: `<div class=\"categoryTable\"><div class=\"tablehead clearfix hidden-xs se-navigation-editor-tree__head\"><div translate=\"se.ytree.template.header.name\" class=\"se-navigation-editor-tree__name col-md-offset-1 col-sm-5\"></div></div><se-tree [nodeUri]=\"nodeURI\" [rootNodeUid]=\"rootNodeUid\" [nodeComponent]=\"nodePickerRenderComponent\" [removeDefaultTemplate]=\"removeDefaultTemplate\" [nodeActions]=\"actions\"></se-tree></div>`,\r\n    changeDetection: ChangeDetectionStrategy.OnPush\r\n});\r\nlet /* @ngInject */ NavigationNodePickerComponent = class /* @ngInject */ NavigationNodePickerComponent {\r\n    constructor(cmsitemsRestService, systemEventService) {\r\n        this.cmsitemsRestService = cmsitemsRestService;\r\n        this.systemEventService = systemEventService;\r\n        this.nodePickerRenderComponent = NavigationNodePickerRenderComponent;\r\n        this.removeDefaultTemplate = true;\r\n        this.rootNodeUid = NAVIGATION_NODE_ROOT_NODE_UID;\r\n        this.editable = true;\r\n    }\r\n    ngOnInit() {\r\n        this.nodeURI = new URIBuilder(NAVIGATION_MANAGEMENT_RESOURCE_URI)\r\n            .replaceParams(this.uriContext)\r\n            .build();\r\n        this.actions = {\r\n            pick: (treeService, node) => __awaiter(this, void 0, void 0, function* () {\r\n                const requestParams = {\r\n                    pageSize: 10,\r\n                    currentPage: 0,\r\n                    mask: node.uid,\r\n                    typeCode: 'CMSNavigationNode',\r\n                    itemSearchParams: ''\r\n                };\r\n                const result = yield this.cmsitemsRestService.get(requestParams);\r\n                const foundNode = result.response.find((element) => element.uid === node.uid);\r\n                const idObject = {\r\n                    nodeUuid: foundNode === null || foundNode === void 0 ? void 0 : foundNode.uuid,\r\n                    nodeUid: node.uid\r\n                };\r\n                this.systemEventService.publishAsync(SELECTED_NODE, idObject);\r\n            }),\r\n            isEditable: () => this.editable\r\n        };\r\n    }\r\n};\r\n__decorate([\r\n    Input(),\r\n    __metadata(\"design:type\", Object)\r\n], /* @ngInject */ NavigationNodePickerComponent.prototype, \"uriContext\", void 0);\r\n__decorate([\r\n    Input(),\r\n    __metadata(\"design:type\", Boolean)\r\n], /* @ngInject */ NavigationNodePickerComponent.prototype, \"editable\", void 0);\r\n/* @ngInject */ NavigationNodePickerComponent = __decorate([\r\n    SeDowngradeComponent(),\r\n    Component({\r\n        selector: 'se-navigation-node-picker',\r\n        template: `<div class=\"categoryTable\"><div class=\"tablehead clearfix hidden-xs se-navigation-editor-tree__head\"><div translate=\"se.ytree.template.header.name\" class=\"se-navigation-editor-tree__name col-md-offset-1 col-sm-5\"></div></div><se-tree [nodeUri]=\"nodeURI\" [rootNodeUid]=\"rootNodeUid\" [nodeComponent]=\"nodePickerRenderComponent\" [removeDefaultTemplate]=\"removeDefaultTemplate\" [nodeActions]=\"actions\"></se-tree></div>`,\r\n        changeDetection: ChangeDetectionStrategy.OnPush\r\n    }),\r\n    __metadata(\"design:paramtypes\", [CmsitemsRestService,\r\n        SystemEventService])\r\n], /* @ngInject */ NavigationNodePickerComponent);\r\nexport { /* @ngInject */ NavigationNodePickerComponent };\r\n//# sourceMappingURL=NavigationNodePickerComponent.js.map","references":["/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@angular+core@8.2.14_rxjs@6.5.4+zone.js@0.9.1/node_modules/@angular/core/core.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-commons/dist/index.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/dist/index.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/components/navigation/navigationNode/types.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/components/navigation/navigationNode/components/navigationNodeConstants.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/components/navigation/navigationNode/components/navigationNodePicker/NavigationNodePickerRenderComponent.ts"],"map":"{\"version\":3,\"file\":\"NavigationNodePickerComponent.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../../../../src/components/navigation/navigationNode/components/navigationNodePicker/NavigationNodePickerComponent.ts\"],\"names\":[],\"mappings\":\";AACA,OAAO,EAAE,SAAS,EAAU,KAAK,EAAE,uBAAuB,EAAE,MAAM,eAAe,CAAC;AAClF,OAAO,EAAE,kCAAkC,EAAE,6BAA6B,EAAE,MAAM,YAAY,CAAC;AAC/F,OAAO,EACH,oBAAoB,EACpB,kBAAkB,EAElB,UAAU,EAKV,mBAAmB,EAEtB,MAAM,kBAAkB,CAAC;AAE1B,OAAO,EAAE,aAAa,EAAE,MAAM,4BAA4B,CAAC;AAC3D,OAAO,EAAE,mCAAmC,EAAE,MAAM,uCAAuC,CAAC;uFAGjF;IACP,QAAQ,EAAE,2BAA2B;IACrC,QAAQ,EAAE,gaAAga;IAC1a,eAAe,EAAE,uBAAuB,CAAC,MAAM;CAClD;AACD,oDAAA;IAUI,YACY,mBAAwC,EACxC,kBAAsC;QADtC,wBAAmB,GAAnB,mBAAmB,CAAqB;QACxC,uBAAkB,GAAlB,kBAAkB,CAAoB;QAE9C,IAAI,CAAC,yBAAyB,GAAG,mCAAmC,CAAC;QACrE,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC;QAClC,IAAI,CAAC,WAAW,GAAG,6BAA6B,CAAC;QACjD,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;IACzB,CAAC;IAED,QAAQ;QACJ,IAAI,CAAC,OAAO,GAAG,IAAI,UAAU,CAAC,kCAAkC,CAAC;aAC5D,aAAa,CAAC,IAAI,CAAC,UAAU,CAAC;aAC9B,KAAK,EAAE,CAAC;QAEb,IAAI,CAAC,OAAO,GAAG;YACX,IAAI,EAAE,CACF,WAAmE,EACnE,IAAwB,EACX,EAAE;gBACf,MAAM,aAAa,GAAkB;oBACjC,QAAQ,EAAE,EAAE;oBACZ,WAAW,EAAE,CAAC;oBACd,IAAI,EAAE,IAAI,CAAC,GAAG;oBACd,QAAQ,EAAE,mBAAmB;oBAC7B,gBAAgB,EAAE,EAAE;iBACvB,CAAC;gBAEF,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,mBAAmB,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;gBACjE,MAAM,SAAS,GAAG,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,OAAO,EAAE,EAAE,CAAC,OAAO,CAAC,GAAG,KAAK,IAAI,CAAC,GAAG,CAAC,CAAC;gBAC9E,MAAM,QAAQ,GAA0B;oBACpC,QAAQ,EAAE,SAAS,aAAT,SAAS,uBAAT,SAAS,CAAE,IAAI;oBACzB,OAAO,EAAE,IAAI,CAAC,GAAG;iBACpB,CAAC;gBACF,IAAI,CAAC,kBAAkB,CAAC,YAAY,CAAC,aAAa,EAAE,QAAQ,CAAC,CAAC;YAClE,CAAC,CAAA;YAED,UAAU,EAAE,GAAY,EAAE,CAAC,IAAI,CAAC,QAAQ;SAC3C,CAAC;IACN,CAAC;CACJ,CAAA;AAjDY;IAAR,KAAK,EAAE;;iFAAyB;AACxB;IAAR,KAAK,EAAE;;+EAAmB;AAF/B;IANC,oBAAoB,EAAE;IACtB,SAAS,CAAC;QACP,QAAQ,EAAE,2BAA2B;QACrC,QAAQ,EAAE,gaAAga;QAC1a,eAAe,EAAE,uBAAuB,CAAC,MAAM;KAClD,CAAC;qCAYmC,mBAAmB;QACpB,kBAAkB;iDAsCrD\"}","dts":{"name":"/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/node_modules/.cache/rollup-plugin-typescript2/placeholder/components/navigation/navigationNode/components/navigationNodePicker/NavigationNodePickerComponent.d.ts","writeByteOrderMark":false,"text":"import { OnInit } from '@angular/core';\r\nimport { SystemEventService, IUriContext, TypedMap, CmsitemsRestService } from 'smarteditcommons';\r\nimport { NavigationNodePickerRenderComponent } from './NavigationNodePickerRenderComponent';\r\nexport declare class NavigationNodePickerComponent implements OnInit {\r\n    private cmsitemsRestService;\r\n    private systemEventService;\r\n    uriContext: IUriContext;\r\n    editable: boolean;\r\n    nodeURI: string;\r\n    rootNodeUid: string;\r\n    removeDefaultTemplate: boolean;\r\n    actions: TypedMap<(...args: any[]) => void>;\r\n    nodePickerRenderComponent: typeof NavigationNodePickerRenderComponent;\r\n    constructor(cmsitemsRestService: CmsitemsRestService, systemEventService: SystemEventService);\r\n    ngOnInit(): void;\r\n}\r\n"}}
