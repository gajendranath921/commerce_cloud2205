{"code":"import { __decorate } from \"tslib\";\r\n/*\r\n * Copyright (c) 2022 SAP SE or an SAP affiliate company. All rights reserved.\r\n */\r\nimport { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { PopoverModule } from '@fundamental-ngx/core';\r\nimport { CrossFrameEventService, IPageInfoService, moduleUtils, TranslationModule, EVENTS, INotificationService, SmarteditRoutingService, NG_ROUTE_PREFIX, STORE_FRONT_CONTEXT, InfiniteScrollingModule, MoreTextModule, CollapsibleContainerModule, PopupOverlayModule, TooltipModule, DropdownMenuModule, HasOperationPermissionDirectiveModule, SpinnerModule, TabsModule, L10nPipeModule, FundamentalsModule, WorkflowService } from 'smarteditcommons';\r\nimport { PageInWorkflowNotificationComponent } from './components';\r\nimport { PageApprovalSelectorComponent } from './components/pageApprovalSelector/PageApprovalSelectorComponent';\r\nimport { PageDisplayStatusComponent } from './components/pageDisplayStatus/PageDisplayStatusComponent';\r\nimport { PageDisplayStatusWrapperComponent } from './components/pageDisplayStatus/PageDisplayStatusWrapperComponent';\r\nimport { PageStatusComponent } from './components/pageDisplayStatus/pageStatus/PageStatusComponent';\r\nimport { PageWorkflowMenuComponent } from './components/pageWorkflowMenu/PageWorkflowMenuComponent';\r\nimport { PageWorkflowMenuAllTasksTabComponent } from './components/pageWorkflowMenu/tabs/PageWorkflowMenuAllTasksTabComponent';\r\nimport { PageWorkflowMenuCurrentTasksTabComponent } from './components/pageWorkflowMenu/tabs/PageWorkflowMenuCurrentTasksTabComponent';\r\nimport { PageWorkflowMenuTasksTabComponent } from './components/pageWorkflowMenu/tabs/PageWorkflowMenuTasksTabComponent';\r\nimport { WorkflowInboxComponent } from './components/workflowInbox/WorkflowInboxComponent';\r\nimport { WorkflowInboxBadgeComponent } from './components/workflowInboxBadge/WorkflowInboxBadgeComponent';\r\nimport { WorkflowInboxMultipleTasksAnnouncementComponent } from './components/workflowInboxMultipleTasksAnnouncement/WorkflowInboxMultipleTasksAnnouncementComponent';\r\nimport { WorkflowInboxSingleTaskAnnouncementComponent } from './components/workflowInboxSingleTaskAnnouncement/WorkflowInboxSingleTaskAnnouncementComponent';\r\nimport { WorkflowInboxTaskComponent } from './components/workflowInboxTask/WorkflowInboxTaskComponent';\r\nimport { WorkflowItemMenuComponent } from './components/workflowItemMenu/WorkflowItemMenuComponent';\r\nimport { WorkflowActionCommentComponent } from './components/workflowMenu/workflowActionComment/WorkflowActionCommentComponent';\r\nimport { WorkflowActionItemComponent } from './components/workflowMenu/workflowActionItem/WorkflowActionItemComponent';\r\nimport { WorkflowFacade, WorkflowInboxAnnouncementService } from './services';\r\nlet WorkflowModule = class WorkflowModule {\r\n};\r\nWorkflowModule = __decorate([\r\n    NgModule({\r\n        imports: [\r\n            TranslationModule.forChild(),\r\n            CommonModule,\r\n            PopoverModule,\r\n            InfiniteScrollingModule,\r\n            MoreTextModule,\r\n            CollapsibleContainerModule,\r\n            PopupOverlayModule,\r\n            TooltipModule,\r\n            DropdownMenuModule,\r\n            HasOperationPermissionDirectiveModule,\r\n            SpinnerModule,\r\n            TabsModule,\r\n            L10nPipeModule,\r\n            FundamentalsModule\r\n        ],\r\n        declarations: [\r\n            WorkflowInboxSingleTaskAnnouncementComponent,\r\n            WorkflowInboxMultipleTasksAnnouncementComponent,\r\n            WorkflowInboxTaskComponent,\r\n            WorkflowInboxBadgeComponent,\r\n            WorkflowInboxComponent,\r\n            WorkflowActionCommentComponent,\r\n            WorkflowActionItemComponent,\r\n            PageDisplayStatusComponent,\r\n            PageDisplayStatusWrapperComponent,\r\n            PageStatusComponent,\r\n            PageApprovalSelectorComponent,\r\n            WorkflowItemMenuComponent,\r\n            PageWorkflowMenuComponent,\r\n            PageWorkflowMenuCurrentTasksTabComponent,\r\n            PageWorkflowMenuAllTasksTabComponent,\r\n            PageWorkflowMenuTasksTabComponent,\r\n            PageInWorkflowNotificationComponent\r\n        ],\r\n        entryComponents: [\r\n            WorkflowInboxSingleTaskAnnouncementComponent,\r\n            WorkflowInboxMultipleTasksAnnouncementComponent,\r\n            WorkflowInboxTaskComponent,\r\n            WorkflowInboxBadgeComponent,\r\n            WorkflowInboxComponent,\r\n            WorkflowActionCommentComponent,\r\n            WorkflowActionItemComponent,\r\n            PageDisplayStatusComponent,\r\n            PageDisplayStatusWrapperComponent,\r\n            PageStatusComponent,\r\n            PageApprovalSelectorComponent,\r\n            WorkflowItemMenuComponent,\r\n            PageWorkflowMenuComponent,\r\n            PageWorkflowMenuCurrentTasksTabComponent,\r\n            PageWorkflowMenuAllTasksTabComponent,\r\n            PageWorkflowMenuTasksTabComponent,\r\n            PageInWorkflowNotificationComponent\r\n        ],\r\n        exports: [PageDisplayStatusComponent],\r\n        providers: [\r\n            WorkflowInboxAnnouncementService,\r\n            WorkflowFacade,\r\n            moduleUtils.bootstrap((crossFrameEventService, pageInfoService, workflowService, notificationService, smarteditRoutingService, \r\n            // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n            workflowInboxAnnouncementService // initializes subscriber for tasks pooling service\r\n            ) => {\r\n                const NOTIFICATION_ID = 'PAGE_IN_WORKFLOW_NOTIFICATION_ID';\r\n                crossFrameEventService.subscribe(EVENTS.PAGE_CHANGE, () => {\r\n                    // Using pageInfoService.getPageUUID instead of pageService.getCurrentPageInfo because pageInfoService uses information from the DOM\r\n                    // instead of fetching from the backend and hence preventing any race condition while clearing the cache.\r\n                    pageInfoService.getPageUUID().then((pageUuid) => {\r\n                        workflowService\r\n                            .getActiveWorkflowForPageUuid(pageUuid)\r\n                            .then((workflow) => {\r\n                            if (workflow !== null && !workflow.isAvailableForCurrentPrincipal) {\r\n                                notificationService.pushNotification({\r\n                                    id: NOTIFICATION_ID,\r\n                                    componentName: PageInWorkflowNotificationComponent.name\r\n                                });\r\n                            }\r\n                            else {\r\n                                notificationService.removeNotification(NOTIFICATION_ID);\r\n                            }\r\n                        });\r\n                    });\r\n                });\r\n                smarteditRoutingService.routeChangeSuccess().subscribe((event) => {\r\n                    const url = smarteditRoutingService.getCurrentUrlFromEvent(event);\r\n                    if (url !== `/${NG_ROUTE_PREFIX}${STORE_FRONT_CONTEXT}`) {\r\n                        notificationService.removeNotification(NOTIFICATION_ID);\r\n                    }\r\n                });\r\n            }, [\r\n                CrossFrameEventService,\r\n                IPageInfoService,\r\n                WorkflowService,\r\n                INotificationService,\r\n                SmarteditRoutingService,\r\n                WorkflowInboxAnnouncementService\r\n            ])\r\n        ]\r\n    })\r\n], WorkflowModule);\r\nexport { WorkflowModule };\r\n//# sourceMappingURL=WorkflowModule.js.map","references":["/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@angular+common@8.2.14_@angular+core@8.2.14+rxjs@6.5.4/node_modules/@angular/common/common.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@angular+core@8.2.14_rxjs@6.5.4+zone.js@0.9.1/node_modules/@angular/core/core.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@fundamental-ngx+core@0.13.2_9a9a80bb6ff375d99f90188f858ebbd5/node_modules/@fundamental-ngx/core/fundamental-ngx-core.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/dist/index.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/components/workflow/components/index.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/components/workflow/components/pageApprovalSelector/PageApprovalSelectorComponent.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/components/workflow/components/pageDisplayStatus/PageDisplayStatusComponent.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/components/workflow/components/pageDisplayStatus/PageDisplayStatusWrapperComponent.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/components/workflow/components/pageDisplayStatus/pageStatus/PageStatusComponent.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/components/workflow/components/pageWorkflowMenu/PageWorkflowMenuComponent.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/components/workflow/components/pageWorkflowMenu/tabs/PageWorkflowMenuAllTasksTabComponent.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/components/workflow/components/pageWorkflowMenu/tabs/PageWorkflowMenuCurrentTasksTabComponent.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/components/workflow/components/pageWorkflowMenu/tabs/PageWorkflowMenuTasksTabComponent.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/components/workflow/components/workflowInbox/WorkflowInboxComponent.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/components/workflow/components/workflowInboxBadge/WorkflowInboxBadgeComponent.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/components/workflow/components/workflowInboxMultipleTasksAnnouncement/WorkflowInboxMultipleTasksAnnouncementComponent.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/components/workflow/components/workflowInboxSingleTaskAnnouncement/WorkflowInboxSingleTaskAnnouncementComponent.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/components/workflow/components/workflowInboxTask/WorkflowInboxTaskComponent.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/components/workflow/components/workflowItemMenu/WorkflowItemMenuComponent.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/components/workflow/components/workflowMenu/workflowActionComment/WorkflowActionCommentComponent.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/components/workflow/components/workflowMenu/workflowActionItem/WorkflowActionItemComponent.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/components/workflow/services/index.ts"],"map":"{\"version\":3,\"file\":\"WorkflowModule.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../src/components/workflow/WorkflowModule.ts\"],\"names\":[],\"mappings\":\"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\"}","dts":{"name":"/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/node_modules/.cache/rollup-plugin-typescript2/placeholder/components/workflow/WorkflowModule.d.ts","writeByteOrderMark":false,"text":"export declare class WorkflowModule {\r\n}\r\n"}}
