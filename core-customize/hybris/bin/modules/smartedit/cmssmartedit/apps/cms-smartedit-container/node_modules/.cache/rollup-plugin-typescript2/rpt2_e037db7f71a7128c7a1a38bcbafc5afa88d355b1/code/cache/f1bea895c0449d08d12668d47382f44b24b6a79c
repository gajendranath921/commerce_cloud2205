{"code":"import { __decorate, __metadata, __param } from \"tslib\";\r\nimport { ChangeDetectionStrategy, Component, Inject } from '@angular/core';\r\nimport { GENERIC_EDITOR_WIDGET_DATA, SeDowngradeComponent } from 'smarteditcommons';\r\nimport { RestrictionTypesService } from '../../../../services/pageRestrictions/RestrictionTypesService';\r\nimport { RestrictionsService } from '../../../../services/RestrictionsService';\r\nwindow.__smartedit__.addDecoratorPayload(\"Component\", \"ComponentRestrictionsEditorComponent\", {\r\n    selector: 'se-component-restrictions-editor',\r\n    template: `<se-restrictions-editor [editable]=\"isEditable\" [getRestrictionTypes]=\"getRestrictionTypes\" [getSupportedRestrictionTypes]=\"getSupportedRestrictionTypes\" [item]=\"model\" [restrictionUuids]=\"model.restrictions\" (onRestrictionsChange)=\"onRestrictionsChange($event)\"></se-restrictions-editor>`,\r\n    changeDetection: ChangeDetectionStrategy.OnPush\r\n});\r\nlet /* @ngInject */ ComponentRestrictionsEditorComponent = class /* @ngInject */ ComponentRestrictionsEditorComponent {\r\n    constructor(data, restrictionsService, restrictionTypesService) {\r\n        this.data = data;\r\n        this.restrictionsService = restrictionsService;\r\n        this.restrictionTypesService = restrictionTypesService;\r\n        ({ editor: this.editor, field: this.field, model: this.model } = data);\r\n        this.isEditable = !data.isFieldDisabled();\r\n    }\r\n    ngOnInit() {\r\n        this.initGetRestrictionTypes();\r\n        this.initGetSupportedRestrictionTypes();\r\n        if (this.model.restrictions === undefined) {\r\n            this.editor.form.pristine.restrictions = [];\r\n            this.editor.form.pristine.onlyOneRestrictionMustApply = false;\r\n        }\r\n    }\r\n    onRestrictionsChange({ onlyOneRestrictionMustApply, restrictionUuids, alwaysEnableSubmit }) {\r\n        this.model.onlyOneRestrictionMustApply = onlyOneRestrictionMustApply;\r\n        this.model.restrictions = restrictionUuids;\r\n        this.editor.api.setAlwaysEnableSubmit(alwaysEnableSubmit);\r\n    }\r\n    initGetRestrictionTypes() {\r\n        this.getRestrictionTypes = () => this.restrictionTypesService.getRestrictionTypes();\r\n    }\r\n    initGetSupportedRestrictionTypes() {\r\n        this.getSupportedRestrictionTypes = () => this.restrictionsService.getSupportedRestrictionTypeCodes();\r\n    }\r\n};\r\n/* @ngInject */ ComponentRestrictionsEditorComponent = __decorate([\r\n    SeDowngradeComponent(),\r\n    Component({\r\n        selector: 'se-component-restrictions-editor',\r\n        template: `<se-restrictions-editor [editable]=\"isEditable\" [getRestrictionTypes]=\"getRestrictionTypes\" [getSupportedRestrictionTypes]=\"getSupportedRestrictionTypes\" [item]=\"model\" [restrictionUuids]=\"model.restrictions\" (onRestrictionsChange)=\"onRestrictionsChange($event)\"></se-restrictions-editor>`,\r\n        changeDetection: ChangeDetectionStrategy.OnPush\r\n    }),\r\n    __param(0, Inject(GENERIC_EDITOR_WIDGET_DATA)),\r\n    __metadata(\"design:paramtypes\", [Object, RestrictionsService,\r\n        RestrictionTypesService])\r\n], /* @ngInject */ ComponentRestrictionsEditorComponent);\r\nexport { /* @ngInject */ ComponentRestrictionsEditorComponent };\r\n//# sourceMappingURL=ComponentRestrictionsEditorComponent.js.map","references":["/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@angular+core@8.2.14_rxjs@6.5.4+zone.js@0.9.1/node_modules/@angular/core/core.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/dist/index.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/components/pages/pageWizard/index.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/dao/RestrictionTypesRestService.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/services/pageRestrictions/RestrictionTypesService.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/services/RestrictionsService.ts"],"map":"{\"version\":3,\"file\":\"ComponentRestrictionsEditorComponent.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../../../src/components/cmsComponents/restrictionEditor/componentRestrictionsEditor/ComponentRestrictionsEditorComponent.ts\"],\"names\":[],\"mappings\":\";AACA,OAAO,EAAE,uBAAuB,EAAE,SAAS,EAAE,MAAM,EAAU,MAAM,eAAe,CAAC;AACnF,OAAO,EAGH,0BAA0B,EAE1B,oBAAoB,EAEvB,MAAM,kBAAkB,CAAC;AAG1B,OAAO,EAAE,uBAAuB,EAAE,MAAM,+DAA+D,CAAC;AACxG,OAAO,EAAE,mBAAmB,EAAE,MAAM,0CAA0C,CAAC;8FAQpE;IACP,QAAQ,EAAE,kCAAkC;IAC5C,QAAQ,EAAE,kSAAkS;IAC5S,eAAe,EAAE,uBAAuB,CAAC,MAAM;CAClD;AACD,2DAAA;IAQI,YAC+C,IAA4C,EAC/E,mBAAwC,EACxC,uBAAgD;QAFb,SAAI,GAAJ,IAAI,CAAwC;QAC/E,wBAAmB,GAAnB,mBAAmB,CAAqB;QACxC,4BAAuB,GAAvB,uBAAuB,CAAyB;QAExD,CAAC,EAAE,MAAM,EAAE,IAAI,CAAC,MAAM,EAAE,KAAK,EAAE,IAAI,CAAC,KAAK,EAAE,KAAK,EAAE,IAAI,CAAC,KAAK,EAAE,GAAG,IAAI,CAAC,CAAC;QACvE,IAAI,CAAC,UAAU,GAAG,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC;IAC9C,CAAC;IAED,QAAQ;QACJ,IAAI,CAAC,uBAAuB,EAAE,CAAC;QAC/B,IAAI,CAAC,gCAAgC,EAAE,CAAC;QAExC,IAAI,IAAI,CAAC,KAAK,CAAC,YAAY,KAAK,SAAS,EAAE;YACvC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,YAAY,GAAG,EAAE,CAAC;YAC5C,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,2BAA2B,GAAG,KAAK,CAAC;SACjE;IACL,CAAC;IAEM,oBAAoB,CAAC,EACxB,2BAA2B,EAC3B,gBAAgB,EAChB,kBAAkB,EACJ;QACd,IAAI,CAAC,KAAK,CAAC,2BAA2B,GAAG,2BAA2B,CAAC;QACrE,IAAI,CAAC,KAAK,CAAC,YAAY,GAAG,gBAAgB,CAAC;QAC3C,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,qBAAqB,CAAC,kBAAkB,CAAC,CAAC;IAC9D,CAAC;IAEM,uBAAuB;QAC1B,IAAI,CAAC,mBAAmB,GAAG,GAAgC,EAAE,CACzD,IAAI,CAAC,uBAAuB,CAAC,mBAAmB,EAAE,CAAC;IAC3D,CAAC;IAEM,gCAAgC;QACnC,IAAI,CAAC,4BAA4B,GAAG,GAAsB,EAAE,CACxD,IAAI,CAAC,mBAAmB,CAAC,gCAAgC,EAAE,CAAC;IACpE,CAAC;CACJ,CAAA;AA9CD;IANC,oBAAoB,EAAE;IACtB,SAAS,CAAC;QACP,QAAQ,EAAE,kCAAkC;QAC5C,QAAQ,EAAE,kSAAkS;QAC5S,eAAe,EAAE,uBAAuB,CAAC,MAAM;KAClD,CAAC;IAUO,WAAA,MAAM,CAAC,0BAA0B,CAAC,CAAA;6CACN,mBAAmB;QACf,uBAAuB;wDAmC/D\"}","dts":{"name":"/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/node_modules/.cache/rollup-plugin-typescript2/placeholder/components/cmsComponents/restrictionEditor/componentRestrictionsEditor/ComponentRestrictionsEditorComponent.d.ts","writeByteOrderMark":false,"text":"import { OnInit } from '@angular/core';\r\nimport { GenericEditorField, GenericEditorWidgetData, CMSItem } from 'smarteditcommons';\r\nimport { RestrictionsDTO } from '../../../../components/pages/pageWizard';\r\nimport { IRestrictionType } from '../../../../dao/RestrictionTypesRestService';\r\nimport { RestrictionTypesService } from '../../../../services/pageRestrictions/RestrictionTypesService';\r\nimport { RestrictionsService } from '../../../../services/RestrictionsService';\r\ninterface ComponentItem extends CMSItem {\r\n    restrictions: string[];\r\n}\r\nexport declare class ComponentRestrictionsEditorComponent implements OnInit {\r\n    data: GenericEditorWidgetData<ComponentItem>;\r\n    private restrictionsService;\r\n    private restrictionTypesService;\r\n    field: GenericEditorField;\r\n    model: ComponentItem;\r\n    isEditable: boolean;\r\n    getRestrictionTypes: () => Promise<IRestrictionType[]>;\r\n    getSupportedRestrictionTypes: () => Promise<string[]>;\r\n    private editor;\r\n    constructor(data: GenericEditorWidgetData<ComponentItem>, restrictionsService: RestrictionsService, restrictionTypesService: RestrictionTypesService);\r\n    ngOnInit(): void;\r\n    onRestrictionsChange({ onlyOneRestrictionMustApply, restrictionUuids, alwaysEnableSubmit }: RestrictionsDTO): void;\r\n    initGetRestrictionTypes(): void;\r\n    initGetSupportedRestrictionTypes(): void;\r\n}\r\nexport {};\r\n"}}
