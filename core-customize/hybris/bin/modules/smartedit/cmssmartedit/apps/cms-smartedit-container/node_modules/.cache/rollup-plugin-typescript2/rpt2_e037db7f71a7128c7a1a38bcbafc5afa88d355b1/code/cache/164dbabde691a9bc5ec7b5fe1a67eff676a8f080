{"code":"import { __awaiter, __decorate, __metadata, __param } from \"tslib\";\r\nimport { Component, Inject, ViewEncapsulation, ChangeDetectionStrategy, ChangeDetectorRef } from '@angular/core';\r\nimport { SeDowngradeComponent, ICatalogService, SystemEventService, GENERIC_EDITOR_WIDGET_DATA, CmsitemsRestService } from 'smarteditcommons';\r\nimport { SELECTED_NODE } from '../navigationNodeConstants';\r\nwindow.__smartedit__.addDecoratorPayload(\"Component\", \"NavigationNodeSelectorComponent\", {\r\n    selector: 'se-navigation-node-selector',\r\n    template: `<div *ngIf=\"isReady\"><div *ngIf=\"cmsItem[qualifier]\" class=\"se-navigation-mode\"><div class=\"se-navigation__node\"><se-breadcrumb class=\"se-navigation__node-breadcrumb\" [nodeUuid]=\"cmsItem[qualifier]\" [uriContext]=\"uriContext\"></se-breadcrumb><div class=\"se-navigation__node-button\"><button class=\"btn btn-link btn-block se-navigation__button\" (click)=\"remove($event)\" [disabled]=\"!field.editable\" translate=\"se.cms.navigationcomponent.management.node.selection.remove.action\"></button></div></div><se-navigation-editor-tree [uriContext]=\"uriContext\" [readOnly]=\"true\" [rootNodeUid]=\"nodeUid\"></se-navigation-editor-tree></div><div *ngIf=\"!cmsItem[qualifier]\"><label translate=\"se.cms.navigationcomponent.management.node.selection.invite.action\"></label><se-navigation-node-picker [uriContext]=\"uriContext\" [editable]=\"field.editable\"></se-navigation-node-picker></div></div>`,\r\n    styles: [`.se-navigation__node{display:flex;background-color:#fafafa;padding:0 20px;margin:0 -20px 20px -20px;border-top:1px solid #eeeeef;border-bottom:1px solid #eeeeef}.se-navigation__node-breadcrumb{flex:10}.se-navigation__node-breadcrumb .se-breadcrumb{margin-bottom:0;border:none}.se-navigation__node-button{flex:2;display:flex}.se-navigation__button{font-size:15px;font-family:\"72\",web,\"Open Sans\",sans-serif;font-weight:700;align-self:flex-end;text-transform:capitalize}se-navigation-node-selector .se-navigation-editor-tree{margin:0}`],\r\n    changeDetection: ChangeDetectionStrategy.OnPush,\r\n    encapsulation: ViewEncapsulation.None\r\n});\r\nlet /* @ngInject */ NavigationNodeSelectorComponent = class /* @ngInject */ NavigationNodeSelectorComponent {\r\n    constructor(data, catalogService, cmsitemsRestService, systemEventService, cdr) {\r\n        this.data = data;\r\n        this.catalogService = catalogService;\r\n        this.cmsitemsRestService = cmsitemsRestService;\r\n        this.systemEventService = systemEventService;\r\n        this.cdr = cdr;\r\n        this.isReady = false;\r\n        this.nodeUid = null;\r\n        this.uriContext = null;\r\n        ({ field: this.field, model: this.cmsItem, qualifier: this.qualifier } = this.data);\r\n    }\r\n    ngOnInit() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const uriContext = yield this.catalogService.retrieveUriContext();\r\n            this.uriContext = uriContext;\r\n            if (this.cmsItem[this.qualifier]) {\r\n                const cmsItem = yield this.cmsitemsRestService.getById(this.cmsItem[this.qualifier]);\r\n                this.nodeUid = cmsItem.uid;\r\n                this.isReady = true;\r\n            }\r\n            else {\r\n                this.isReady = true;\r\n            }\r\n            this.unregisterSubscription = this.systemEventService.subscribe(SELECTED_NODE, (_eventId, { nodeUid, nodeUuid }) => {\r\n                this.nodeUid = nodeUid;\r\n                this.cmsItem[this.qualifier] = nodeUuid;\r\n                if (!this.cdr.destroyed) {\r\n                    this.cdr.detectChanges();\r\n                }\r\n            });\r\n            if (!this.cdr.destroyed) {\r\n                this.cdr.detectChanges();\r\n            }\r\n        });\r\n    }\r\n    ngOnDestroy() {\r\n        this.unregisterSubscription();\r\n    }\r\n    remove() {\r\n        delete this.cmsItem[this.qualifier];\r\n        if (!this.cdr.destroyed) {\r\n            this.cdr.detectChanges();\r\n        }\r\n    }\r\n};\r\n/* @ngInject */ NavigationNodeSelectorComponent = __decorate([\r\n    SeDowngradeComponent(),\r\n    Component({\r\n        selector: 'se-navigation-node-selector',\r\n        template: `<div *ngIf=\"isReady\"><div *ngIf=\"cmsItem[qualifier]\" class=\"se-navigation-mode\"><div class=\"se-navigation__node\"><se-breadcrumb class=\"se-navigation__node-breadcrumb\" [nodeUuid]=\"cmsItem[qualifier]\" [uriContext]=\"uriContext\"></se-breadcrumb><div class=\"se-navigation__node-button\"><button class=\"btn btn-link btn-block se-navigation__button\" (click)=\"remove($event)\" [disabled]=\"!field.editable\" translate=\"se.cms.navigationcomponent.management.node.selection.remove.action\"></button></div></div><se-navigation-editor-tree [uriContext]=\"uriContext\" [readOnly]=\"true\" [rootNodeUid]=\"nodeUid\"></se-navigation-editor-tree></div><div *ngIf=\"!cmsItem[qualifier]\"><label translate=\"se.cms.navigationcomponent.management.node.selection.invite.action\"></label><se-navigation-node-picker [uriContext]=\"uriContext\" [editable]=\"field.editable\"></se-navigation-node-picker></div></div>`,\r\n        styles: [`.se-navigation__node{display:flex;background-color:#fafafa;padding:0 20px;margin:0 -20px 20px -20px;border-top:1px solid #eeeeef;border-bottom:1px solid #eeeeef}.se-navigation__node-breadcrumb{flex:10}.se-navigation__node-breadcrumb .se-breadcrumb{margin-bottom:0;border:none}.se-navigation__node-button{flex:2;display:flex}.se-navigation__button{font-size:15px;font-family:\"72\",web,\"Open Sans\",sans-serif;font-weight:700;align-self:flex-end;text-transform:capitalize}se-navigation-node-selector .se-navigation-editor-tree{margin:0}`],\r\n        changeDetection: ChangeDetectionStrategy.OnPush,\r\n        encapsulation: ViewEncapsulation.None\r\n    }),\r\n    __param(0, Inject(GENERIC_EDITOR_WIDGET_DATA)),\r\n    __metadata(\"design:paramtypes\", [Object, ICatalogService,\r\n        CmsitemsRestService,\r\n        SystemEventService,\r\n        ChangeDetectorRef])\r\n], /* @ngInject */ NavigationNodeSelectorComponent);\r\nexport { /* @ngInject */ NavigationNodeSelectorComponent };\r\n//# sourceMappingURL=NavigationNodeSelectorComponent.js.map","references":["/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@angular+core@8.2.14_rxjs@6.5.4+zone.js@0.9.1/node_modules/@angular/core/core.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/dist/index.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/components/navigation/navigationNode/types.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/components/navigation/navigationNode/components/navigationNodeConstants.ts"],"map":"{\"version\":3,\"file\":\"NavigationNodeSelectorComponent.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../../../../src/components/navigation/navigationNode/components/navigationNodeSelector/NavigationNodeSelectorComponent.ts\"],\"names\":[],\"mappings\":\"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\"}","dts":{"name":"/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/node_modules/.cache/rollup-plugin-typescript2/placeholder/components/navigation/navigationNode/components/navigationNodeSelector/NavigationNodeSelectorComponent.d.ts","writeByteOrderMark":false,"text":"import { OnInit, OnDestroy, ChangeDetectorRef } from '@angular/core';\r\nimport { ICatalogService, SystemEventService, GenericEditorWidgetData, IUriContext, GenericEditorAttribute, CmsitemsRestService, CMSItem } from 'smarteditcommons';\r\nexport declare class NavigationNodeSelectorComponent implements OnInit, OnDestroy {\r\n    private data;\r\n    private catalogService;\r\n    private cmsitemsRestService;\r\n    private systemEventService;\r\n    private cdr;\r\n    field: GenericEditorAttribute;\r\n    cmsItem: CMSItem;\r\n    qualifier: string;\r\n    isReady: boolean;\r\n    nodeUid: string;\r\n    uriContext: IUriContext;\r\n    private unregisterSubscription;\r\n    constructor(data: GenericEditorWidgetData<CMSItem>, catalogService: ICatalogService, cmsitemsRestService: CmsitemsRestService, systemEventService: SystemEventService, cdr: ChangeDetectorRef);\r\n    ngOnInit(): Promise<void>;\r\n    ngOnDestroy(): void;\r\n    remove(): void;\r\n}\r\n"}}
