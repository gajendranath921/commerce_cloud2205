{"code":"import { __awaiter, __decorate, __metadata } from \"tslib\";\r\nimport { ChangeDetectionStrategy, ChangeDetectorRef, Component, Input, ViewEncapsulation } from '@angular/core';\r\nimport { CMSTimeService } from 'cmscommons';\r\nimport { SeDowngradeComponent, SmarteditRoutingService, SystemEventService, WorkflowService, WorkflowActionStatus } from 'smarteditcommons';\r\nimport { WORKFLOW_DECISION_SELECTED_EVENT, WORKFLOW_ITEM_MENU_OPENED_EVENT } from '../../../constants';\r\nimport { WorkflowFacade } from '../../../services';\r\nexport const PAGE_APPROVAL_PAGE_APPROVED_ID = 'PageApprovalPageApproved';\r\nwindow.__smartedit__.addDecoratorPayload(\"Component\", \"WorkflowActionItemComponent\", {\r\n    selector: 'se-workflow-action-item',\r\n    template: `<div class=\"se-workflow-action-item\" [ngClass]=\"getWorkflowActionStatusClass()\"><se-collapsible-container class=\"se-catalog-details__collapse se-collapsible-container--noshadow fd-panel\" [id]=\"workflowAction.code\" (getApi)=\"setCollapsibleContainerApi($event)\"><se-collapsible-container-header><div class=\"fd-panel__header\"><div class=\"fd-panel__head\"><h1 class=\"fd-panel__title\">{{ workflowAction.name | seL10n | async }}</h1><p class=\"fd-panel__description\">{{ getReadableStatus() | translate }} {{ getActiveSince() }}</p></div></div><div class=\"fd-panel__body\">{{ workflowAction.description | seL10n | async }}<div *ngIf=\"canShowDecisionButtons()\" class=\"se-workflow-action-item__decision-buttons fd-dropdown\"><div class=\"fd-popover\"><div class=\"fd-popover__control\"><div [ngClass]=\"{ 'fd-button-split': workflowAction.decisions.length > 1 }\"><button class=\"se-workflow-action-item__decision-button fd-button--compact\" [id]=\"workflowAction.code + '-decision-button'\" (click)=\"onMainButtonClick($event, workflowAction.decisions[0])\" type=\"button\">{{ workflowAction.decisions[0].name | seL10n | async }}</button><se-popup-overlay [popupOverlay]=\"{\n                                        halign: 'right',\n                                        valign: 'bottom'\n                                    }\" [popupOverlayTrigger]=\"isMenuOpen\" (popupOverlayOnHide)=\"onMenuHide()\"><button *ngIf=\"workflowAction.decisions.length > 1\" [id]=\"workflowAction.code + '-decision-split-button'\" class=\"fd-button--compact menu-button sap-icon--slim-arrow-down\" (click)=\"onSplitButtonClick($event)\"></button><div se-popup-overlay-body class=\"fd-popover__body fd-popover__body--right fd-popover__body--no-arrow se-workflow-action-item__decision-list\"><nav class=\"fd-menu\"><ul class=\"fd-menu__list\"><li *ngFor=\"let decision of workflowAction.decisions\"><a class=\"fd-menu__item se-workflow-action-item__decision\" (click)=\"onMainButtonClick($event, decision)\">{{ decision.name | seL10n | async }}</a></li></ul></nav></div></se-popup-overlay></div></div></div></div></div></se-collapsible-container-header><se-collapsible-container-content><div class=\"se-workflow-action-item__content\" *ngIf=\"canShowComments()\"><span *ngIf=\"!hasComments\" class=\"se-workflow-action-item__comment-list fd-has-font-style-italic fd-has-color-text-4\" [translate]=\"'se.cms.actionitem.page.workflow.action.no.comments.available'\"></span><se-infinite-scrolling [pageSize]=\"pageSize\" [fetchPage]=\"fetchPageOfComments\" (itemsChange)=\"onCommentsLoaded($event)\"><div *ngFor=\"let actionComment of workflowActionComments; trackBy: trackByIndex\"><se-workflow-action-comment [workflowAction]=\"workflowAction\" [actionComment]=\"actionComment\"></se-workflow-action-comment></div></se-infinite-scrolling></div></se-collapsible-container-content></se-collapsible-container><fd-popover [isOpen]=\"showApprovalInfo\" [closeOnOutsideClick]=\"false\"><fd-popover-body><div class=\"se-workflow-approval-info\">{{ approvalInfo }}</div></fd-popover-body></fd-popover></div>`,\r\n    styles: [`/*!\n * Fundamental Library Styles v0.4.1\n * Copyright (c) 2020 SAP SE or an SAP affiliate company.\n * Licensed under Apache License 2.0 (https://github.com/SAP/fundamental-styles/blob/master/LICENSE)\n *//*!\n.fd-button-split+()\n    .fd-button\n*/.fd-button-split{font-size:.875rem;font-size:var(--sapFontSize,.875rem);line-height:1.42857;color:#32363a;color:var(--sapTextColor,#32363a);font-family:\"72\",\"72full\",Arial,Helvetica,sans-serif;font-family:var(--sapFontFamily, \"72\", \"72full\", Arial, Helvetica, sans-serif);font-weight:400;-webkit-font-smoothing:antialiased;-webkit-box-sizing:border-box;box-sizing:border-box;padding:0;margin:0;border:0;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;vertical-align:middle;position:relative}.fd-button-split:after,.fd-button-split:before{-webkit-box-sizing:inherit;box-sizing:inherit;font-size:inherit}.fd-button-split :first-child{margin:0;border-top-right-radius:0;border-bottom-right-radius:0}.fd-button-split :nth-child(2){margin:0;border-top-left-radius:0;border-bottom-left-radius:0;border-left-width:0}.fd-button-split[dir=rtl] :first-child,[dir=rtl] .fd-button-split :first-child{border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:.25rem;border-top-right-radius:var(--sapButton_BorderCornerRadius,.25rem);border-bottom-right-radius:.25rem;border-bottom-right-radius:var(--sapButton_BorderCornerRadius,.25rem)}.fd-button-split[dir=rtl] :nth-child(2),[dir=rtl] .fd-button-split :nth-child(2){border-top-left-radius:.25rem;border-top-left-radius:var(--sapButton_BorderCornerRadius,.25rem);border-bottom-left-radius:.25rem;border-bottom-left-radius:var(--sapButton_BorderCornerRadius,.25rem);border-top-right-radius:0;border-bottom-right-radius:0;border-left-width:.0625rem;border-left-width:var(--sapButton_BorderWidth,.0625rem);border-right-width:0}.fd-button-split [class*=\"--emphasized\"]:first-child{margin-right:1px}.fd-button-split [class*=\"--emphasized\"][dir=rtl]:first-child,[dir=rtl] .fd-button-split [class*=\"--emphasized\"]:first-child{margin-right:0;margin-left:1px}se-workflow-action-item .se-workflow-action-item{border-left:6px solid #fff;border-radius:4px 0 0 4px}se-workflow-action-item .se-workflow-action-item--started{border-left:6px solid #e9730c}se-workflow-action-item .se-workflow-action-item--completed{border-left:6px solid #0a7e3e}se-workflow-action-item .se-workflow-action-item__decision-buttons{margin:10px -30px 10px 0;text-align:right}se-workflow-action-item .se-workflow-action-item__decision-buttons .fd-button-split .menu-button{border-left:0;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:4px;border-bottom-right-radius:4px}se-workflow-action-item .se-workflow-action-item__decision-buttons .fd-button-split .menu-button:focus{box-shadow:none}se-workflow-action-item .se-workflow-action-item__content{min-height:30px}se-workflow-action-item .se-workflow-action-item__content-status{float:left;overflow:hidden}se-workflow-action-item .se-workflow-action-item__content se-infinite-scrolling .se-infinite-scrolling__container{max-height:none;overflow-y:auto;position:relative;margin-top:-20px;width:100%}se-workflow-action-item .se-workflow-action-item__content se-infinite-scrolling .se-infinite-scrolling__container::before{content:\"\";height:100%;border-left:1px solid #eeeeef;position:absolute;left:20px;top:40px;height:calc(100% - 120px)}se-workflow-action-item .se-workflow-action-item__comment-list{margin-left:5%;margin-top:5%;margin-bottom:5%}se-workflow-action-item .se-workflow-action-item__decision-list{min-width:160px;right:-38px;background:#fff}se-workflow-action-item .se-workflow-action-item__decision-list .fd-menu__list{text-align:left}se-workflow-action-item .se-workflow-action-item__decision:hover{text-decoration:none}se-workflow-action-item se-collapsible-container-header .fd-panel__body,se-workflow-action-item se-collapsible-container-header .fd-panel__header{border-bottom:none;padding:10px 16px;display:flex;flex-direction:column;align-items:flex-start;white-space:pre-wrap}se-workflow-action-item se-collapsible-container-header .fd-panel_body{color:#32363a;padding-top:0}se-workflow-action-item se-collapsible-container-header .fd-panel__title{margin-top:0;font-size:13px;font-weight:700}se-workflow-action-item .se-workflow-approval-info{width:320px;white-space:normal;padding:16px}`],\r\n    encapsulation: ViewEncapsulation.None,\r\n    changeDetection: ChangeDetectionStrategy.OnPush\r\n});\r\nlet /* @ngInject */ WorkflowActionItemComponent = class /* @ngInject */ WorkflowActionItemComponent {\r\n    constructor(workflowFacade, cMSTimeService, systemEventService, routingService, cdr, workflowService) {\r\n        this.workflowFacade = workflowFacade;\r\n        this.cMSTimeService = cMSTimeService;\r\n        this.systemEventService = systemEventService;\r\n        this.routingService = routingService;\r\n        this.cdr = cdr;\r\n        this.workflowService = workflowService;\r\n        this.isMenuOpen = false;\r\n        this.hasComments = true;\r\n        this.pageSize = 10;\r\n        this.showApprovalInfo = false;\r\n        this.fetchPageOfComments = (mask, pageSize, currentPage) => this.loadCommentsAndSetHasCommentsFlag(mask, pageSize, currentPage);\r\n    }\r\n    ngOnInit() {\r\n        this.unRegWorkflowMenuOpenedEvent = this.systemEventService.subscribe(WORKFLOW_ITEM_MENU_OPENED_EVENT, (eventId, eventData) => this.onOtherMenuOpening(eventId, eventData));\r\n    }\r\n    ngOnDestroy() {\r\n        this.unRegWorkflowMenuOpenedEvent();\r\n    }\r\n    onCommentsLoaded(comments) {\r\n        this.workflowActionComments = comments;\r\n    }\r\n    setCollapsibleContainerApi($api) {\r\n        this.collapsibleContainerApi = $api;\r\n    }\r\n    getWorkflowActionStatusClass() {\r\n        switch (this.workflowAction.status.toLowerCase()) {\r\n            case WorkflowActionStatus.IN_PROGRESS:\r\n                return 'se-workflow-action-item--started';\r\n            case WorkflowActionStatus.COMPLETED:\r\n                return 'se-workflow-action-item--completed';\r\n            default:\r\n                return null;\r\n        }\r\n    }\r\n    getReadableStatus() {\r\n        switch (this.workflowAction.status.toLowerCase()) {\r\n            case WorkflowActionStatus.IN_PROGRESS:\r\n                return 'se.cms.actionitem.page.workflow.action.status.started';\r\n            case WorkflowActionStatus.PENDING:\r\n                return 'se.cms.actionitem.page.workflow.action.status.not.started';\r\n            default:\r\n                return this.workflowAction.status;\r\n        }\r\n    }\r\n    getActiveSince() {\r\n        if (!!this.workflowAction.startedAgoInMillis) {\r\n            return this.cMSTimeService.getTimeAgo(this.workflowAction.startedAgoInMillis);\r\n        }\r\n        return null;\r\n    }\r\n    canShowDecisionButtons() {\r\n        return (this.canMakeDecisions &&\r\n            this.workflowAction.isCurrentUserParticipant &&\r\n            this.workflowAction.decisions.length > 0);\r\n    }\r\n    canShowComments() {\r\n        const isContainerExpanded = this.collapsibleContainerApi && this.collapsibleContainerApi.isExpanded();\r\n        return (isContainerExpanded ||\r\n            (this.workflowActionComments && this.workflowActionComments.length > 0));\r\n    }\r\n    onMainButtonClick($event, decision) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            $event.preventDefault();\r\n            $event.stopPropagation();\r\n            this.isMenuOpen = false;\r\n            if (decision.code === PAGE_APPROVAL_PAGE_APPROVED_ID) {\r\n                const pageHasUnavailableDependencies = yield this.workflowService.pageHasUnavailableDependencies();\r\n                if (pageHasUnavailableDependencies) {\r\n                    this.showApprovalInfo = !this.showApprovalInfo;\r\n                    this.approvalInfo = yield this.workflowService.fetchPageTranslatedApprovalInfo();\r\n                    if (!this.cdr.destroyed) {\r\n                        this.cdr.detectChanges();\r\n                    }\r\n                    return;\r\n                }\r\n            }\r\n            this.makeDecision(decision).then(() => {\r\n                this.routingService.reload();\r\n            });\r\n        });\r\n    }\r\n    onSplitButtonClick($event) {\r\n        $event.preventDefault();\r\n        $event.stopPropagation();\r\n        this.isMenuOpen = !this.isMenuOpen;\r\n        if (this.isMenuOpen) {\r\n            this.systemEventService.publishAsync(WORKFLOW_ITEM_MENU_OPENED_EVENT, {\r\n                code: this.workflowAction.code\r\n            });\r\n        }\r\n    }\r\n    onMenuHide() {\r\n        this.isMenuOpen = false;\r\n    }\r\n    trackByIndex(index) {\r\n        return index;\r\n    }\r\n    loadCommentsAndSetHasCommentsFlag(mask, pageSize, currentPage) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const page = yield this.loadComments(mask, pageSize, currentPage);\r\n            this.hasComments = page.pagination.totalCount > 0;\r\n            if (!this.cdr.destroyed) {\r\n                this.cdr.detectChanges();\r\n            }\r\n            return page;\r\n        });\r\n    }\r\n    loadComments(mask, pageSize, currentPage) {\r\n        return this.workflowFacade.getCommentsForWorkflowAction(this.workflow.workflowCode, this.workflowAction.code, {\r\n            mask,\r\n            pageSize,\r\n            currentPage\r\n        });\r\n    }\r\n    makeDecision(decision) {\r\n        this.systemEventService.publish(WORKFLOW_DECISION_SELECTED_EVENT);\r\n        return this.workflowFacade.makeDecision(this.workflow.workflowCode, this.workflowAction, decision);\r\n    }\r\n    onOtherMenuOpening(_eventId, eventData) {\r\n        if (this.workflowAction.code !== eventData.code) {\r\n            this.isMenuOpen = false;\r\n            if (!this.cdr.destroyed) {\r\n                this.cdr.detectChanges();\r\n            }\r\n        }\r\n    }\r\n};\r\n__decorate([\r\n    Input(),\r\n    __metadata(\"design:type\", Object)\r\n], /* @ngInject */ WorkflowActionItemComponent.prototype, \"workflow\", void 0);\r\n__decorate([\r\n    Input(),\r\n    __metadata(\"design:type\", Object)\r\n], /* @ngInject */ WorkflowActionItemComponent.prototype, \"workflowAction\", void 0);\r\n__decorate([\r\n    Input(),\r\n    __metadata(\"design:type\", Boolean)\r\n], /* @ngInject */ WorkflowActionItemComponent.prototype, \"canMakeDecisions\", void 0);\r\n/* @ngInject */ WorkflowActionItemComponent = __decorate([\r\n    SeDowngradeComponent(),\r\n    Component({\r\n        selector: 'se-workflow-action-item',\r\n        template: `<div class=\"se-workflow-action-item\" [ngClass]=\"getWorkflowActionStatusClass()\"><se-collapsible-container class=\"se-catalog-details__collapse se-collapsible-container--noshadow fd-panel\" [id]=\"workflowAction.code\" (getApi)=\"setCollapsibleContainerApi($event)\"><se-collapsible-container-header><div class=\"fd-panel__header\"><div class=\"fd-panel__head\"><h1 class=\"fd-panel__title\">{{ workflowAction.name | seL10n | async }}</h1><p class=\"fd-panel__description\">{{ getReadableStatus() | translate }} {{ getActiveSince() }}</p></div></div><div class=\"fd-panel__body\">{{ workflowAction.description | seL10n | async }}<div *ngIf=\"canShowDecisionButtons()\" class=\"se-workflow-action-item__decision-buttons fd-dropdown\"><div class=\"fd-popover\"><div class=\"fd-popover__control\"><div [ngClass]=\"{ 'fd-button-split': workflowAction.decisions.length > 1 }\"><button class=\"se-workflow-action-item__decision-button fd-button--compact\" [id]=\"workflowAction.code + '-decision-button'\" (click)=\"onMainButtonClick($event, workflowAction.decisions[0])\" type=\"button\">{{ workflowAction.decisions[0].name | seL10n | async }}</button><se-popup-overlay [popupOverlay]=\"{\n                                        halign: 'right',\n                                        valign: 'bottom'\n                                    }\" [popupOverlayTrigger]=\"isMenuOpen\" (popupOverlayOnHide)=\"onMenuHide()\"><button *ngIf=\"workflowAction.decisions.length > 1\" [id]=\"workflowAction.code + '-decision-split-button'\" class=\"fd-button--compact menu-button sap-icon--slim-arrow-down\" (click)=\"onSplitButtonClick($event)\"></button><div se-popup-overlay-body class=\"fd-popover__body fd-popover__body--right fd-popover__body--no-arrow se-workflow-action-item__decision-list\"><nav class=\"fd-menu\"><ul class=\"fd-menu__list\"><li *ngFor=\"let decision of workflowAction.decisions\"><a class=\"fd-menu__item se-workflow-action-item__decision\" (click)=\"onMainButtonClick($event, decision)\">{{ decision.name | seL10n | async }}</a></li></ul></nav></div></se-popup-overlay></div></div></div></div></div></se-collapsible-container-header><se-collapsible-container-content><div class=\"se-workflow-action-item__content\" *ngIf=\"canShowComments()\"><span *ngIf=\"!hasComments\" class=\"se-workflow-action-item__comment-list fd-has-font-style-italic fd-has-color-text-4\" [translate]=\"'se.cms.actionitem.page.workflow.action.no.comments.available'\"></span><se-infinite-scrolling [pageSize]=\"pageSize\" [fetchPage]=\"fetchPageOfComments\" (itemsChange)=\"onCommentsLoaded($event)\"><div *ngFor=\"let actionComment of workflowActionComments; trackBy: trackByIndex\"><se-workflow-action-comment [workflowAction]=\"workflowAction\" [actionComment]=\"actionComment\"></se-workflow-action-comment></div></se-infinite-scrolling></div></se-collapsible-container-content></se-collapsible-container><fd-popover [isOpen]=\"showApprovalInfo\" [closeOnOutsideClick]=\"false\"><fd-popover-body><div class=\"se-workflow-approval-info\">{{ approvalInfo }}</div></fd-popover-body></fd-popover></div>`,\r\n        styles: [`/*!\n * Fundamental Library Styles v0.4.1\n * Copyright (c) 2020 SAP SE or an SAP affiliate company.\n * Licensed under Apache License 2.0 (https://github.com/SAP/fundamental-styles/blob/master/LICENSE)\n *//*!\n.fd-button-split+()\n    .fd-button\n*/.fd-button-split{font-size:.875rem;font-size:var(--sapFontSize,.875rem);line-height:1.42857;color:#32363a;color:var(--sapTextColor,#32363a);font-family:\"72\",\"72full\",Arial,Helvetica,sans-serif;font-family:var(--sapFontFamily, \"72\", \"72full\", Arial, Helvetica, sans-serif);font-weight:400;-webkit-font-smoothing:antialiased;-webkit-box-sizing:border-box;box-sizing:border-box;padding:0;margin:0;border:0;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;vertical-align:middle;position:relative}.fd-button-split:after,.fd-button-split:before{-webkit-box-sizing:inherit;box-sizing:inherit;font-size:inherit}.fd-button-split :first-child{margin:0;border-top-right-radius:0;border-bottom-right-radius:0}.fd-button-split :nth-child(2){margin:0;border-top-left-radius:0;border-bottom-left-radius:0;border-left-width:0}.fd-button-split[dir=rtl] :first-child,[dir=rtl] .fd-button-split :first-child{border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:.25rem;border-top-right-radius:var(--sapButton_BorderCornerRadius,.25rem);border-bottom-right-radius:.25rem;border-bottom-right-radius:var(--sapButton_BorderCornerRadius,.25rem)}.fd-button-split[dir=rtl] :nth-child(2),[dir=rtl] .fd-button-split :nth-child(2){border-top-left-radius:.25rem;border-top-left-radius:var(--sapButton_BorderCornerRadius,.25rem);border-bottom-left-radius:.25rem;border-bottom-left-radius:var(--sapButton_BorderCornerRadius,.25rem);border-top-right-radius:0;border-bottom-right-radius:0;border-left-width:.0625rem;border-left-width:var(--sapButton_BorderWidth,.0625rem);border-right-width:0}.fd-button-split [class*=\"--emphasized\"]:first-child{margin-right:1px}.fd-button-split [class*=\"--emphasized\"][dir=rtl]:first-child,[dir=rtl] .fd-button-split [class*=\"--emphasized\"]:first-child{margin-right:0;margin-left:1px}se-workflow-action-item .se-workflow-action-item{border-left:6px solid #fff;border-radius:4px 0 0 4px}se-workflow-action-item .se-workflow-action-item--started{border-left:6px solid #e9730c}se-workflow-action-item .se-workflow-action-item--completed{border-left:6px solid #0a7e3e}se-workflow-action-item .se-workflow-action-item__decision-buttons{margin:10px -30px 10px 0;text-align:right}se-workflow-action-item .se-workflow-action-item__decision-buttons .fd-button-split .menu-button{border-left:0;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:4px;border-bottom-right-radius:4px}se-workflow-action-item .se-workflow-action-item__decision-buttons .fd-button-split .menu-button:focus{box-shadow:none}se-workflow-action-item .se-workflow-action-item__content{min-height:30px}se-workflow-action-item .se-workflow-action-item__content-status{float:left;overflow:hidden}se-workflow-action-item .se-workflow-action-item__content se-infinite-scrolling .se-infinite-scrolling__container{max-height:none;overflow-y:auto;position:relative;margin-top:-20px;width:100%}se-workflow-action-item .se-workflow-action-item__content se-infinite-scrolling .se-infinite-scrolling__container::before{content:\"\";height:100%;border-left:1px solid #eeeeef;position:absolute;left:20px;top:40px;height:calc(100% - 120px)}se-workflow-action-item .se-workflow-action-item__comment-list{margin-left:5%;margin-top:5%;margin-bottom:5%}se-workflow-action-item .se-workflow-action-item__decision-list{min-width:160px;right:-38px;background:#fff}se-workflow-action-item .se-workflow-action-item__decision-list .fd-menu__list{text-align:left}se-workflow-action-item .se-workflow-action-item__decision:hover{text-decoration:none}se-workflow-action-item se-collapsible-container-header .fd-panel__body,se-workflow-action-item se-collapsible-container-header .fd-panel__header{border-bottom:none;padding:10px 16px;display:flex;flex-direction:column;align-items:flex-start;white-space:pre-wrap}se-workflow-action-item se-collapsible-container-header .fd-panel_body{color:#32363a;padding-top:0}se-workflow-action-item se-collapsible-container-header .fd-panel__title{margin-top:0;font-size:13px;font-weight:700}se-workflow-action-item .se-workflow-approval-info{width:320px;white-space:normal;padding:16px}`],\r\n        encapsulation: ViewEncapsulation.None,\r\n        changeDetection: ChangeDetectionStrategy.OnPush\r\n    }),\r\n    __metadata(\"design:paramtypes\", [WorkflowFacade,\r\n        CMSTimeService,\r\n        SystemEventService,\r\n        SmarteditRoutingService,\r\n        ChangeDetectorRef,\r\n        WorkflowService])\r\n], /* @ngInject */ WorkflowActionItemComponent);\r\nexport { /* @ngInject */ WorkflowActionItemComponent };\r\n//# sourceMappingURL=WorkflowActionItemComponent.js.map","references":["/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@angular+core@8.2.14_rxjs@6.5.4+zone.js@0.9.1/node_modules/@angular/core/core.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-commons/dist/index.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/dist/index.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/components/workflow/constants.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/components/workflow/services/index.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/src/components/workflow/components/workflowItemMenu/WorkflowItemMenuComponent.ts"],"map":"{\"version\":3,\"file\":\"WorkflowActionItemComponent.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../../../../src/components/workflow/components/workflowMenu/workflowActionItem/WorkflowActionItemComponent.ts\"],\"names\":[],\"mappings\":\"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\"}","dts":{"name":"/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit-container/node_modules/.cache/rollup-plugin-typescript2/placeholder/components/workflow/components/workflowMenu/workflowActionItem/WorkflowActionItemComponent.d.ts","writeByteOrderMark":false,"text":"import { ChangeDetectorRef, OnDestroy, OnInit } from '@angular/core';\r\nimport { CMSTimeService } from 'cmscommons';\r\nimport { CollapsibleContainerApi, FetchPageStrategy, Nullable, SmarteditRoutingService, SystemEventService, WorkflowService, Workflow, WorkflowAction, WorkflowActionComment, WorkflowDecision } from 'smarteditcommons';\r\nimport { WorkflowFacade } from '../../../services';\r\nexport declare const PAGE_APPROVAL_PAGE_APPROVED_ID = \"PageApprovalPageApproved\";\r\nexport declare class WorkflowActionItemComponent implements OnInit, OnDestroy {\r\n    private readonly workflowFacade;\r\n    private readonly cMSTimeService;\r\n    private readonly systemEventService;\r\n    private readonly routingService;\r\n    private readonly cdr;\r\n    private readonly workflowService;\r\n    workflow: Workflow;\r\n    workflowAction: WorkflowAction;\r\n    canMakeDecisions: boolean;\r\n    isMenuOpen: boolean;\r\n    hasComments: boolean;\r\n    pageSize: number;\r\n    workflowActionComments: WorkflowActionComment[];\r\n    showApprovalInfo: boolean;\r\n    approvalInfo: string;\r\n    private collapsibleContainerApi;\r\n    private unRegWorkflowMenuOpenedEvent;\r\n    constructor(workflowFacade: WorkflowFacade, cMSTimeService: CMSTimeService, systemEventService: SystemEventService, routingService: SmarteditRoutingService, cdr: ChangeDetectorRef, workflowService: WorkflowService);\r\n    ngOnInit(): void;\r\n    ngOnDestroy(): void;\r\n    fetchPageOfComments: FetchPageStrategy<WorkflowActionComment>;\r\n    onCommentsLoaded(comments: WorkflowActionComment[]): void;\r\n    setCollapsibleContainerApi($api: CollapsibleContainerApi): void;\r\n    getWorkflowActionStatusClass(): Nullable<string>;\r\n    getReadableStatus(): string;\r\n    getActiveSince(): Nullable<string>;\r\n    canShowDecisionButtons(): boolean;\r\n    canShowComments(): boolean;\r\n    onMainButtonClick($event: MouseEvent, decision: WorkflowDecision): Promise<void>;\r\n    onSplitButtonClick($event: MouseEvent): void;\r\n    onMenuHide(): void;\r\n    trackByIndex(index: number): number;\r\n    private loadCommentsAndSetHasCommentsFlag;\r\n    private loadComments;\r\n    private makeDecision;\r\n    private onOtherMenuOpening;\r\n}\r\n"}}
