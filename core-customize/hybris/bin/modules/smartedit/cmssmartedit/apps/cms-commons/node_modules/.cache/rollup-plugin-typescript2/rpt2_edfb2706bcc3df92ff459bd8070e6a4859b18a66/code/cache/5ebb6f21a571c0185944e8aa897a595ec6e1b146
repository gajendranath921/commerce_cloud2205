{"code":"import { __awaiter, __decorate, __metadata } from \"tslib\";\r\n/*\r\n * Copyright (c) 2022 SAP SE or an SAP affiliate company. All rights reserved.\r\n */\r\nimport { ChangeDetectionStrategy, Component } from '@angular/core';\r\nimport { AlertRef } from '@fundamental-ngx/core';\r\nimport { SeDowngradeComponent, stringUtils, IEditorModalService } from 'smarteditcommons';\r\nimport { IComponentVisibilityAlertService } from './IComponentVisibilityAlertService';\r\nwindow.__smartedit__.addDecoratorPayload(\"Component\", \"ComponentVisibilityAlertComponent\", {\r\n    selector: 'se-component-visibility-alert',\r\n    template: `<div>\n        <p [translate]=\"message\"></p>\n        <div>\n            <a (click)=\"onClick()\" [translate]=\"hyperlinkLabel\"></a>\n        </div>\n    </div>`,\r\n    changeDetection: ChangeDetectionStrategy.OnPush\r\n});\r\nlet /* @ngInject */ ComponentVisibilityAlertComponent = class /* @ngInject */ ComponentVisibilityAlertComponent {\r\n    constructor(editorModalService, componentVisibilityAlertService, alertRef) {\r\n        this.editorModalService = editorModalService;\r\n        this.componentVisibilityAlertService = componentVisibilityAlertService;\r\n        this.alertRef = alertRef;\r\n        this.hyperlinkLabel = 'se.cms.component.visibility.alert.hyperlink';\r\n        ({ component: this.component, message: this.message } = this.alertRef.data);\r\n    }\r\n    onClick() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.alertRef.dismiss();\r\n            this.checkProvidedArguments(this.component);\r\n            const item = yield this.editorModalService.openAndRerenderSlot(this.component.itemType, this.component.itemId, 'visibilityTab');\r\n            this.componentVisibilityAlertService.checkAndAlertOnComponentVisibility({\r\n                itemId: item.uuid,\r\n                itemType: item.itemtype,\r\n                catalogVersion: item.catalogVersion,\r\n                restricted: item.restricted,\r\n                slotId: this.component.slotId,\r\n                visible: item.visible\r\n            });\r\n        });\r\n    }\r\n    // TODO: since we can leverage TypeScript it could possibly be removed once we migrate each consumer.\r\n    checkProvidedArguments(component) {\r\n        const checkedArguments = [component.itemId, component.itemType, component.slotId];\r\n        const nonEmptyArguments = checkedArguments.filter((value) => value && !stringUtils.isBlank(value));\r\n        if (nonEmptyArguments.length !== checkedArguments.length) {\r\n            throw new Error('componentVisibilityAlertService.checkAndAlertOnComponentVisibility - missing properly typed parameters');\r\n        }\r\n    }\r\n};\r\n/* @ngInject */ ComponentVisibilityAlertComponent = __decorate([\r\n    SeDowngradeComponent(),\r\n    Component({\r\n        selector: 'se-component-visibility-alert',\r\n        template: `<div>\n        <p [translate]=\"message\"></p>\n        <div>\n            <a (click)=\"onClick()\" [translate]=\"hyperlinkLabel\"></a>\n        </div>\n    </div>`,\r\n        changeDetection: ChangeDetectionStrategy.OnPush\r\n    }),\r\n    __metadata(\"design:paramtypes\", [IEditorModalService,\r\n        IComponentVisibilityAlertService,\r\n        AlertRef])\r\n], /* @ngInject */ ComponentVisibilityAlertComponent);\r\nexport { /* @ngInject */ ComponentVisibilityAlertComponent };\r\n//# sourceMappingURL=ComponentVisibilityAlertComponent.js.map","references":["/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@angular+core@8.2.14_rxjs@6.5.4+zone.js@0.9.1/node_modules/@angular/core/core.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@fundamental-ngx+core@0.13.2_9a9a80bb6ff375d99f90188f858ebbd5/node_modules/@fundamental-ngx/core/fundamental-ngx-core.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/dist/index.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-commons/src/modules/componentVisibilityAlert/IComponentVisibilityAlertService.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-commons/src/modules/componentVisibilityAlert/types.ts"],"map":"{\"version\":3,\"file\":\"ComponentVisibilityAlertComponent.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../src/modules/componentVisibilityAlert/ComponentVisibilityAlertComponent.ts\"],\"names\":[],\"mappings\":\";AAAA;;GAEG;AACH,OAAO,EAAE,uBAAuB,EAAE,SAAS,EAAE,MAAM,eAAe,CAAC;AACnE,OAAO,EAAE,QAAQ,EAAE,MAAM,uBAAuB,CAAC;AACjD,OAAO,EAAE,oBAAoB,EAAE,WAAW,EAAE,mBAAmB,EAAE,MAAM,kBAAkB,CAAC;AAC1F,OAAO,EAAE,gCAAgC,EAAE,MAAM,oCAAoC,CAAC;2FAI3E;IACP,QAAQ,EAAE,+BAA+B;IACzC,QAAQ,EAAE;;;;;WAKH;IACP,eAAe,EAAE,uBAAuB,CAAC,MAAM;CAClD;AACD,wDAAA;IAMI,YACY,kBAAuC,EACvC,+BAAiE,EACjE,QAAkB;QAFlB,uBAAkB,GAAlB,kBAAkB,CAAqB;QACvC,oCAA+B,GAA/B,+BAA+B,CAAkC;QACjE,aAAQ,GAAR,QAAQ,CAAU;QARvB,mBAAc,GAAG,6CAA6C,CAAC;QAUlE,CAAC,EAAE,SAAS,EAAE,IAAI,CAAC,SAAS,EAAE,OAAO,EAAE,IAAI,CAAC,OAAO,EAAE,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;IAChF,CAAC;IAEY,OAAO;;YAChB,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;YAExB,IAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;YAE5C,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,kBAAkB,CAAC,mBAAmB,CAC1D,IAAI,CAAC,SAAS,CAAC,QAAQ,EACvB,IAAI,CAAC,SAAS,CAAC,MAAM,EACrB,eAAe,CAClB,CAAC;YAEF,IAAI,CAAC,+BAA+B,CAAC,kCAAkC,CAAC;gBACpE,MAAM,EAAE,IAAI,CAAC,IAAI;gBACjB,QAAQ,EAAE,IAAI,CAAC,QAAQ;gBACvB,cAAc,EAAE,IAAI,CAAC,cAAc;gBACnC,UAAU,EAAE,IAAI,CAAC,UAAU;gBAC3B,MAAM,EAAE,IAAI,CAAC,SAAS,CAAC,MAAM;gBAC7B,OAAO,EAAE,IAAI,CAAC,OAAO;aACxB,CAAC,CAAC;QACP,CAAC;KAAA;IAED,qGAAqG;IAC7F,sBAAsB,CAAC,SAAwB;QACnD,MAAM,gBAAgB,GAAG,CAAC,SAAS,CAAC,MAAM,EAAE,SAAS,CAAC,QAAQ,EAAE,SAAS,CAAC,MAAM,CAAC,CAAC;QAClF,MAAM,iBAAiB,GAAG,gBAAgB,CAAC,MAAM,CAC7C,CAAC,KAAK,EAAE,EAAE,CAAC,KAAK,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,KAAK,CAAC,CAClD,CAAC;QAEF,IAAI,iBAAiB,CAAC,MAAM,KAAK,gBAAgB,CAAC,MAAM,EAAE;YACtD,MAAM,IAAI,KAAK,CACX,wGAAwG,CAC3G,CAAC;SACL;IACL,CAAC;CACJ,CAAA;AAhDD;IAXC,oBAAoB,EAAE;IACtB,SAAS,CAAC;QACP,QAAQ,EAAE,+BAA+B;QACzC,QAAQ,EAAE;;;;;WAKH;QACP,eAAe,EAAE,uBAAuB,CAAC,MAAM;KAClD,CAAC;qCAQkC,mBAAmB;QACN,gCAAgC;QACvD,QAAQ;qDAuCjC\"}","dts":{"name":"/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-commons/node_modules/.cache/rollup-plugin-typescript2/placeholder/modules/componentVisibilityAlert/ComponentVisibilityAlertComponent.d.ts","writeByteOrderMark":false,"text":"import { AlertRef } from '@fundamental-ngx/core';\r\nimport { IEditorModalService } from 'smarteditcommons';\r\nimport { IComponentVisibilityAlertService } from './IComponentVisibilityAlertService';\r\nexport declare class ComponentVisibilityAlertComponent {\r\n    private editorModalService;\r\n    private componentVisibilityAlertService;\r\n    private alertRef;\r\n    hyperlinkLabel: string;\r\n    message: string;\r\n    private component;\r\n    constructor(editorModalService: IEditorModalService, componentVisibilityAlertService: IComponentVisibilityAlertService, alertRef: AlertRef);\r\n    onClick(): Promise<void>;\r\n    private checkProvidedArguments;\r\n}\r\n"}}
