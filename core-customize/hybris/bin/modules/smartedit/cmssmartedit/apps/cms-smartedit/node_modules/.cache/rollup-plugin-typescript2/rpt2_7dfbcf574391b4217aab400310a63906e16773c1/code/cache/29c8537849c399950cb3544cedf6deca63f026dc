{"code":"import { __decorate, __metadata } from \"tslib\";\r\n/*\r\n * Copyright (c) 2022 SAP SE or an SAP affiliate company. All rights reserved.\r\n */\r\nimport { DRAG_AND_DROP_EVENTS } from 'cmscommons';\r\nimport { CLOSE_CTX_MENU, CTX_MENU_DROPDOWN_IS_OPEN, SeDowngradeService, SystemEventService } from 'smarteditcommons';\r\n/**\r\n * ContextualMenuDropdownService is an internal service that provides methods for interaction between\r\n * Drag and Drop Service and the Contextual Menu.\r\n *\r\n * Note: The contextualMenuDropdownService functions are as a glue between the Drag and Drop Service and the Contextual Menu.\r\n *  The service was created to solve the issue of closing any contextual menu that is open whenever a drag operation is started.\r\n *  It does so while keeping the DnD and Contextual Menu services decoupled.\r\n */\r\nlet /* @ngInject */ ContextualMenuDropdownService = class /* @ngInject */ ContextualMenuDropdownService {\r\n    constructor(systemEventService) {\r\n        this.systemEventService = systemEventService;\r\n    }\r\n    registerIsOpenEvent() {\r\n        this.systemEventService.subscribe(CTX_MENU_DROPDOWN_IS_OPEN, () => {\r\n            this.registerDragStarted();\r\n        });\r\n    }\r\n    registerDragStarted() {\r\n        this.unsubscribeFn = this.systemEventService.subscribe(DRAG_AND_DROP_EVENTS.DRAG_STARTED, () => {\r\n            this.triggerCloseOperation();\r\n        });\r\n    }\r\n    triggerCloseOperation() {\r\n        this.systemEventService.publishAsync(CLOSE_CTX_MENU);\r\n        if (this.unsubscribeFn) {\r\n            this.unsubscribeFn();\r\n        }\r\n    }\r\n};\r\n/* @ngInject */ ContextualMenuDropdownService = __decorate([\r\n    SeDowngradeService(),\r\n    __metadata(\"design:paramtypes\", [SystemEventService])\r\n], /* @ngInject */ ContextualMenuDropdownService);\r\nexport { /* @ngInject */ ContextualMenuDropdownService };\r\n//# sourceMappingURL=ContextualMenuDropdownService.js.map","references":["/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-commons/dist/index.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/dist/index.d.ts"],"map":"{\"version\":3,\"file\":\"ContextualMenuDropdownService.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/services/ContextualMenuDropdownService.ts\"],\"names\":[],\"mappings\":\";AAAA;;GAEG;AACH,OAAO,EAAE,oBAAoB,EAAE,MAAM,YAAY,CAAC;AAClD,OAAO,EACH,cAAc,EACd,yBAAyB,EACzB,kBAAkB,EAClB,kBAAkB,EACrB,MAAM,kBAAkB,CAAC;AAE1B;;;;;;;GAOG;AAEH,oDAAA;IAEI,YAAoB,kBAAsC;QAAtC,uBAAkB,GAAlB,kBAAkB,CAAoB;IAAG,CAAC;IAEvD,mBAAmB;QACtB,IAAI,CAAC,kBAAkB,CAAC,SAAS,CAAC,yBAAyB,EAAE,GAAG,EAAE;YAC9D,IAAI,CAAC,mBAAmB,EAAE,CAAC;QAC/B,CAAC,CAAC,CAAC;IACP,CAAC;IAEO,mBAAmB;QACvB,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,kBAAkB,CAAC,SAAS,CAClD,oBAAoB,CAAC,YAAY,EACjC,GAAG,EAAE;YACD,IAAI,CAAC,qBAAqB,EAAE,CAAC;QACjC,CAAC,CACJ,CAAC;IACN,CAAC;IAEO,qBAAqB;QACzB,IAAI,CAAC,kBAAkB,CAAC,YAAY,CAAC,cAAc,CAAC,CAAC;QACrD,IAAI,IAAI,CAAC,aAAa,EAAE;YACpB,IAAI,CAAC,aAAa,EAAE,CAAC;SACxB;IACL,CAAC;CACJ,CAAA;AAzBD;IADC,kBAAkB,EAAE;qCAGuB,kBAAkB;iDAuB7D\"}","dts":{"name":"/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit/node_modules/.cache/rollup-plugin-typescript2/placeholder/services/ContextualMenuDropdownService.d.ts","writeByteOrderMark":false,"text":"import { SystemEventService } from 'smarteditcommons';\r\n/**\r\n * ContextualMenuDropdownService is an internal service that provides methods for interaction between\r\n * Drag and Drop Service and the Contextual Menu.\r\n *\r\n * Note: The contextualMenuDropdownService functions are as a glue between the Drag and Drop Service and the Contextual Menu.\r\n *  The service was created to solve the issue of closing any contextual menu that is open whenever a drag operation is started.\r\n *  It does so while keeping the DnD and Contextual Menu services decoupled.\r\n */\r\nexport declare class ContextualMenuDropdownService {\r\n    private systemEventService;\r\n    private unsubscribeFn;\r\n    constructor(systemEventService: SystemEventService);\r\n    registerIsOpenEvent(): void;\r\n    private registerDragStarted;\r\n    private triggerCloseOperation;\r\n}\r\n"}}
