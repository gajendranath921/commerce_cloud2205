{"code":"import { __awaiter, __decorate, __metadata } from \"tslib\";\r\nimport { ChangeDetectionStrategy, ChangeDetectorRef, Component, Input } from '@angular/core';\r\nimport { cloneDeep } from 'lodash';\r\nimport { CONTENT_SLOT_TYPE, SeDowngradeComponent, ComponentHandlerService } from 'smarteditcommons';\r\nimport { HiddenComponentMenuService } from '../../../services';\r\nwindow.__smartedit__.addDecoratorPayload(\"Component\", \"HiddenComponentMenuComponent\", {\r\n    selector: 'se-hidden-component-menu',\r\n    template: `<se-popup-overlay class=\"se-hidden-component-menu__popup-anchor\" [popupOverlay]=\"popupConfig\" [popupOverlayTrigger]=\"isMenuOpen\" (popupOverlayOnHide)=\"hideMenu()\"><span *ngIf=\"menuItems.length > 0\" class=\"sap-icon--overflow se-hidden-component-menu__toggle\" (click)=\"toggle($event)\"></span><div se-popup-overlay-body class=\"se-hidden-component-menu fd-menu__list\"><div class=\"se-hidden-component-menu__item fd-menu__item\" *ngFor=\"let item of menuItems\" (click)=\"executeMenuItemCallback(item, $event)\"><span class=\"se-hidden-component-menu__item-icon\" [ngClass]=\"item.displayIconClass\"></span> <span class=\"se-hidden-component-menu__item-link\" [translate]=\"item.i18nKey\"></span></div></div></se-popup-overlay>`,\r\n    styles: [`.se-hidden-component-menu{box-shadow:0 6px 12px rgba(0,0,0,.175);background-color:#fff;border-radius:4px!important;min-width:100px;width:fit-content;position:absolute;border:1px solid #d9d9d9;z-index:2000;top:96%;left:initial!important;right:0}.se-hidden-component-menu::before{height:0;width:0;border-style:solid;border-width:0 8px 8px 8px;border-bottom-color:#d9d9d9;border-bottom-color:var(var(--fd-color-neutral-4));border-left-color:transparent;border-right-color:transparent;content:\"\";position:absolute;top:-8px}.se-hidden-component-menu::after{height:0;width:0;border-style:solid;border-width:0 8px 8px 8px;border-bottom-color:#fff;border-bottom-color:var(var(--fd-color-background-4));border-left-color:transparent;border-right-color:transparent;content:\"\";position:absolute;top:-7px}.se-hidden-component-menu::after,.se-hidden-component-menu::before{right:10px}.se-hidden-component-menu::after,.se-hidden-component-menu::before{display:none}.se-hidden-component-menu__toggle{cursor:pointer;color:#0a6ed1}.se-hidden-component-menu__item{display:flex;flex-direction:row;align-items:center}.se-hidden-component-menu__item-icon{font-size:.8571428571rem;line-height:1.3333333333;font-weight:400;margin-right:8px}`],\r\n    changeDetection: ChangeDetectionStrategy.OnPush\r\n});\r\nlet /* @ngInject */ HiddenComponentMenuComponent = class /* @ngInject */ HiddenComponentMenuComponent {\r\n    constructor(componentHandlerService, hiddenComponentMenuService, cdr) {\r\n        this.componentHandlerService = componentHandlerService;\r\n        this.hiddenComponentMenuService = hiddenComponentMenuService;\r\n        this.cdr = cdr;\r\n        this.isMenuOpen = false;\r\n        this.menuItems = [];\r\n        this.popupConfig = {\r\n            halign: 'left',\r\n            valign: 'bottom'\r\n        };\r\n    }\r\n    ngOnInit() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const slot = this.componentHandlerService.getOriginalComponent(this.slotId, CONTENT_SLOT_TYPE);\r\n            this.slotUuid = this.componentHandlerService.getUuid(slot);\r\n            const hiddenComponentMenu = yield this.hiddenComponentMenuService.getItemsForHiddenComponent(this.component, this.slotId);\r\n            this.configuration = cloneDeep(hiddenComponentMenu.configuration);\r\n            this.configuration.slotUuid = this.slotUuid;\r\n            this.menuItems = cloneDeep(hiddenComponentMenu.buttons);\r\n            if (!this.cdr.destroyed) {\r\n                this.cdr.detectChanges();\r\n            }\r\n        });\r\n    }\r\n    toggle(event) {\r\n        event.stopPropagation();\r\n        this.isMenuOpen = !this.isMenuOpen;\r\n    }\r\n    hideMenu() {\r\n        this.isMenuOpen = false;\r\n    }\r\n    executeMenuItemCallback(item, event) {\r\n        item.action.callback(this.configuration, event);\r\n        this.isMenuOpen = false;\r\n    }\r\n};\r\n__decorate([\r\n    Input(),\r\n    __metadata(\"design:type\", Object)\r\n], /* @ngInject */ HiddenComponentMenuComponent.prototype, \"component\", void 0);\r\n__decorate([\r\n    Input(),\r\n    __metadata(\"design:type\", String)\r\n], /* @ngInject */ HiddenComponentMenuComponent.prototype, \"slotId\", void 0);\r\n/* @ngInject */ HiddenComponentMenuComponent = __decorate([\r\n    SeDowngradeComponent(),\r\n    Component({\r\n        selector: 'se-hidden-component-menu',\r\n        template: `<se-popup-overlay class=\"se-hidden-component-menu__popup-anchor\" [popupOverlay]=\"popupConfig\" [popupOverlayTrigger]=\"isMenuOpen\" (popupOverlayOnHide)=\"hideMenu()\"><span *ngIf=\"menuItems.length > 0\" class=\"sap-icon--overflow se-hidden-component-menu__toggle\" (click)=\"toggle($event)\"></span><div se-popup-overlay-body class=\"se-hidden-component-menu fd-menu__list\"><div class=\"se-hidden-component-menu__item fd-menu__item\" *ngFor=\"let item of menuItems\" (click)=\"executeMenuItemCallback(item, $event)\"><span class=\"se-hidden-component-menu__item-icon\" [ngClass]=\"item.displayIconClass\"></span> <span class=\"se-hidden-component-menu__item-link\" [translate]=\"item.i18nKey\"></span></div></div></se-popup-overlay>`,\r\n        styles: [`.se-hidden-component-menu{box-shadow:0 6px 12px rgba(0,0,0,.175);background-color:#fff;border-radius:4px!important;min-width:100px;width:fit-content;position:absolute;border:1px solid #d9d9d9;z-index:2000;top:96%;left:initial!important;right:0}.se-hidden-component-menu::before{height:0;width:0;border-style:solid;border-width:0 8px 8px 8px;border-bottom-color:#d9d9d9;border-bottom-color:var(var(--fd-color-neutral-4));border-left-color:transparent;border-right-color:transparent;content:\"\";position:absolute;top:-8px}.se-hidden-component-menu::after{height:0;width:0;border-style:solid;border-width:0 8px 8px 8px;border-bottom-color:#fff;border-bottom-color:var(var(--fd-color-background-4));border-left-color:transparent;border-right-color:transparent;content:\"\";position:absolute;top:-7px}.se-hidden-component-menu::after,.se-hidden-component-menu::before{right:10px}.se-hidden-component-menu::after,.se-hidden-component-menu::before{display:none}.se-hidden-component-menu__toggle{cursor:pointer;color:#0a6ed1}.se-hidden-component-menu__item{display:flex;flex-direction:row;align-items:center}.se-hidden-component-menu__item-icon{font-size:.8571428571rem;line-height:1.3333333333;font-weight:400;margin-right:8px}`],\r\n        changeDetection: ChangeDetectionStrategy.OnPush\r\n    }),\r\n    __metadata(\"design:paramtypes\", [ComponentHandlerService,\r\n        HiddenComponentMenuService,\r\n        ChangeDetectorRef])\r\n], /* @ngInject */ HiddenComponentMenuComponent);\r\nexport { /* @ngInject */ HiddenComponentMenuComponent };\r\n//# sourceMappingURL=HiddenComponentMenuComponent.js.map","references":["/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@angular+core@8.2.14_rxjs@6.5.4+zone.js@0.9.1/node_modules/@angular/core/core.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-commons/dist/index.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@types+lodash@4.14.159/node_modules/@types/lodash/ts3.1/index.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/dist/index.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit/src/services/index.ts"],"map":"{\"version\":3,\"file\":\"HiddenComponentMenuComponent.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../../src/components/slotVisibility/hiddenComponentMenu/HiddenComponentMenuComponent.ts\"],\"names\":[],\"mappings\":\";AACA,OAAO,EACH,uBAAuB,EACvB,iBAAiB,EACjB,SAAS,EACT,KAAK,EAGR,MAAM,eAAe,CAAC;AAEvB,OAAO,EAAE,SAAS,EAAE,MAAM,QAAQ,CAAC;AACnC,OAAO,EACH,iBAAiB,EAIjB,oBAAoB,EACpB,uBAAuB,EAC1B,MAAM,kBAAkB,CAAC;AAC1B,OAAO,EAAE,0BAA0B,EAAE,MAAM,mBAAmB,CAAC;sFAIpD;IACP,QAAQ,EAAE,0BAA0B;IACpC,QAAQ,EAAE,ssBAAssB;IAChtB,MAAM,EAAE,CAAC,msCAAmsC,CAAC;IAC7sC,eAAe,EAAE,uBAAuB,CAAC,MAAM;CAClD;AACD,mDAAA;IAWI,YACY,uBAAgD,EAChD,0BAAsD,EACtD,GAAsB;QAFtB,4BAAuB,GAAvB,uBAAuB,CAAyB;QAChD,+BAA0B,GAA1B,0BAA0B,CAA4B;QACtD,QAAG,GAAH,GAAG,CAAmB;QAE9B,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;QACxB,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;QACpB,IAAI,CAAC,WAAW,GAAG;YACf,MAAM,EAAE,MAAM;YACd,MAAM,EAAE,QAAQ;SACnB,CAAC;IACN,CAAC;IAEK,QAAQ;;YACV,MAAM,IAAI,GAAG,IAAI,CAAC,uBAAuB,CAAC,oBAAoB,CAC1D,IAAI,CAAC,MAAM,EACX,iBAAiB,CACpB,CAAC;YACF,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,uBAAuB,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;YAE3D,MAAM,mBAAmB,GAAG,MAAM,IAAI,CAAC,0BAA0B,CAAC,0BAA0B,CACxF,IAAI,CAAC,SAAS,EACd,IAAI,CAAC,MAAM,CACd,CAAC;YACF,IAAI,CAAC,aAAa,GAAG,SAAS,CAAC,mBAAmB,CAAC,aAAa,CAAC,CAAC;YAClE,IAAI,CAAC,aAAa,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;YAC5C,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC,mBAAmB,CAAC,OAAO,CAAC,CAAC;YAExD,IAAI,CAAE,IAAI,CAAC,GAAe,CAAC,SAAS,EAAE;gBAClC,IAAI,CAAC,GAAG,CAAC,aAAa,EAAE,CAAC;aAC5B;QACL,CAAC;KAAA;IAEM,MAAM,CAAC,KAAiB;QAC3B,KAAK,CAAC,eAAe,EAAE,CAAC;QAExB,IAAI,CAAC,UAAU,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC;IACvC,CAAC;IAGM,QAAQ;QACX,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;IAC5B,CAAC;IAEM,uBAAuB,CAAC,IAA2B,EAAE,KAAiB;QACzE,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,aAAa,EAAE,KAAK,CAAC,CAAC;QAChD,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;IAC5B,CAAC;CACJ,CAAA;AA1DY;IAAR,KAAK,EAAE;;+EAA0B;AACzB;IAAR,KAAK,EAAE;;4EAAgB;AAF5B;IAPC,oBAAoB,EAAE;IACtB,SAAS,CAAC;QACP,QAAQ,EAAE,0BAA0B;QACpC,QAAQ,EAAE,ssBAAssB;QAChtB,MAAM,EAAE,CAAC,msCAAmsC,CAAC;QAC7sC,eAAe,EAAE,uBAAuB,CAAC,MAAM;KAClD,CAAC;qCAauC,uBAAuB;QACpB,0BAA0B;QACjD,iBAAiB;gDA6CrC\"}","dts":{"name":"/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit/node_modules/.cache/rollup-plugin-typescript2/placeholder/components/slotVisibility/hiddenComponentMenu/HiddenComponentMenuComponent.d.ts","writeByteOrderMark":false,"text":"import { ChangeDetectorRef, OnInit } from '@angular/core';\r\nimport { ICMSComponent } from 'cmscommons';\r\nimport { IContextualMenuButton, PopupOverlayConfig, ComponentHandlerService } from 'smarteditcommons';\r\nimport { HiddenComponentMenuService } from '../../../services';\r\nexport declare class HiddenComponentMenuComponent implements OnInit {\r\n    private componentHandlerService;\r\n    private hiddenComponentMenuService;\r\n    private cdr;\r\n    component: ICMSComponent;\r\n    slotId: string;\r\n    isMenuOpen: boolean;\r\n    menuItems: IContextualMenuButton[];\r\n    popupConfig: PopupOverlayConfig;\r\n    private slotUuid;\r\n    private configuration;\r\n    constructor(componentHandlerService: ComponentHandlerService, hiddenComponentMenuService: HiddenComponentMenuService, cdr: ChangeDetectorRef);\r\n    ngOnInit(): Promise<void>;\r\n    toggle(event: MouseEvent): void;\r\n    hideMenu(): void;\r\n    executeMenuItemCallback(item: IContextualMenuButton, event: MouseEvent): void;\r\n}\r\n"}}
