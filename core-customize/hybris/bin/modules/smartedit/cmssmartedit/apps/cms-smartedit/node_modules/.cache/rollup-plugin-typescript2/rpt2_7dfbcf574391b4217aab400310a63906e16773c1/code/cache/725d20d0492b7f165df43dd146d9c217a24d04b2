{"code":"import { __awaiter, __decorate, __metadata } from \"tslib\";\r\n/*\r\n * Copyright (c) 2022 SAP SE or an SAP affiliate company. All rights reserved.\r\n */\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { IComponentMenuConditionAndCallbackService, IComponentSharedService, IComponentVisibilityAlertService, IRemoveComponentService, ISlotVisibilityService, TypePermissionsRestService } from 'cmscommons';\r\nimport { CmsitemsRestService, ComponentHandlerService, CrossFrameEventService, EVENT_PAGE_TREE_SLOT_NEED_UPDATE, EVENT_SMARTEDIT_COMPONENT_UPDATED, GatewayProxied, IAlertService, ICatalogService, ICatalogVersionPermissionService, IConfirmationModalService, IEditorModalService, IFeatureService, IPageInfoService, ISlotRestrictionsService, LogService, SeDowngradeService } from 'smarteditcommons';\r\nimport { ComponentInfoService } from './ComponentInfoService';\r\nimport { ComponentEditingFacade } from './dragAndDrop/ComponentEditingFacade';\r\nlet /* @ngInject */ ComponentMenuConditionAndCallbackService = class /* @ngInject */ ComponentMenuConditionAndCallbackService extends IComponentMenuConditionAndCallbackService {\r\n    constructor(componentHandlerService, typePermissionsRestService, componentVisibilityAlertService, editorModalService, featureService, slotRestrictionsService, confirmationModalService, logService, alertService, removeComponentService, slotVisibilityService, crossFrameEventService, translateService, componentInfoService, cmsitemsRestService, componentEditingFacade, componentSharedService, pageInfoService, catalogService, catalogVersionPermissionService) {\r\n        super();\r\n        this.componentHandlerService = componentHandlerService;\r\n        this.typePermissionsRestService = typePermissionsRestService;\r\n        this.componentVisibilityAlertService = componentVisibilityAlertService;\r\n        this.editorModalService = editorModalService;\r\n        this.featureService = featureService;\r\n        this.slotRestrictionsService = slotRestrictionsService;\r\n        this.confirmationModalService = confirmationModalService;\r\n        this.logService = logService;\r\n        this.alertService = alertService;\r\n        this.removeComponentService = removeComponentService;\r\n        this.slotVisibilityService = slotVisibilityService;\r\n        this.crossFrameEventService = crossFrameEventService;\r\n        this.translateService = translateService;\r\n        this.componentInfoService = componentInfoService;\r\n        this.cmsitemsRestService = cmsitemsRestService;\r\n        this.componentEditingFacade = componentEditingFacade;\r\n        this.componentSharedService = componentSharedService;\r\n        this.pageInfoService = pageInfoService;\r\n        this.catalogService = catalogService;\r\n        this.catalogVersionPermissionService = catalogVersionPermissionService;\r\n    }\r\n    editConditionForHiddenComponent(configuration) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const isSlotEditable = yield this.slotRestrictionsService.isSlotEditable(configuration.slotId);\r\n            if (!isSlotEditable) {\r\n                return false;\r\n            }\r\n            const smarteditCatalogVersionUuid = configuration.componentAttributes &&\r\n                configuration.componentAttributes.smarteditCatalogVersionUuid;\r\n            if (smarteditCatalogVersionUuid) {\r\n                const uuid = yield this.pageInfoService.getCatalogVersionUUIDFromPage();\r\n                const isExternal = smarteditCatalogVersionUuid !== uuid;\r\n                const { catalogId, version } = yield this.catalogService.getCatalogVersionByUuid(smarteditCatalogVersionUuid);\r\n                const isWritable = yield this.catalogVersionPermissionService.hasWritePermission(catalogId, version);\r\n                return isWritable && !isExternal;\r\n            }\r\n            return false;\r\n        });\r\n    }\r\n    sharedCondition(configuration) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let slotId = null;\r\n            if (configuration.element) {\r\n                slotId = this.componentHandlerService.getParentSlotForComponent(configuration.element);\r\n            }\r\n            else {\r\n                slotId = configuration.slotId;\r\n            }\r\n            const [isExternalComponent, isSlotEditable] = yield Promise.all([\r\n                this.componentHandlerService.isExternalComponent(configuration.componentId, configuration.componentType),\r\n                this.slotRestrictionsService.isSlotEditable(slotId)\r\n            ]);\r\n            if (isExternalComponent || !isSlotEditable) {\r\n                return false;\r\n            }\r\n            return this.componentSharedService.isComponentShared(configuration.componentAttributes.smarteditComponentUuid);\r\n        });\r\n    }\r\n    externalCondition(configuration) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let slotId = null;\r\n            if (!!configuration.element) {\r\n                slotId = this.componentHandlerService.getParentSlotForComponent(configuration.element);\r\n            }\r\n            else {\r\n                slotId = configuration.slotId;\r\n            }\r\n            const isSlotEditable = yield this.slotRestrictionsService.isSlotEditable(slotId);\r\n            if (!isSlotEditable) {\r\n                return false;\r\n            }\r\n            const smarteditCatalogVersionUuid = configuration.componentAttributes &&\r\n                configuration.componentAttributes.smarteditCatalogVersionUuid;\r\n            if (smarteditCatalogVersionUuid) {\r\n                const uuid = yield this.pageInfoService.getCatalogVersionUUIDFromPage();\r\n                return smarteditCatalogVersionUuid !== uuid;\r\n            }\r\n            return this.componentHandlerService.isExternalComponent(configuration.componentId, configuration.componentType);\r\n        });\r\n    }\r\n    removeCondition(configuration) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (!configuration.isComponentHidden) {\r\n                let slotId = null;\r\n                if (!!configuration.element) {\r\n                    slotId = this.componentHandlerService.getParentSlotForComponent(configuration.element);\r\n                }\r\n                else {\r\n                    slotId = configuration.slotId;\r\n                }\r\n                const slotEditable = yield this.slotRestrictionsService.isSlotEditable(slotId);\r\n                if (slotEditable) {\r\n                    const hasDeletePermission = yield this.typePermissionsRestService.hasDeletePermissionForTypes([configuration.componentType]);\r\n                    return hasDeletePermission[configuration.componentType];\r\n                }\r\n                return false;\r\n            }\r\n            const hasDeletePermissionOfHidden = yield this.typePermissionsRestService.hasDeletePermissionForTypes([configuration.componentType]);\r\n            return hasDeletePermissionOfHidden[configuration.componentType];\r\n        });\r\n    }\r\n    removeCallback(configuration, $event) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let slotOperationRelatedId;\r\n            let slotOperationRelatedType;\r\n            if (configuration.element) {\r\n                slotOperationRelatedId = this.componentHandlerService.getSlotOperationRelatedId(configuration.element);\r\n                slotOperationRelatedType = this.componentHandlerService.getSlotOperationRelatedType(configuration.element);\r\n            }\r\n            else {\r\n                slotOperationRelatedId = configuration.containerId\r\n                    ? configuration.containerId\r\n                    : configuration.componentId;\r\n                slotOperationRelatedType =\r\n                    configuration.containerId && configuration.containerType\r\n                        ? configuration.containerType\r\n                        : configuration.componentType;\r\n            }\r\n            const confirmed = yield this.confirmationModalService\r\n                .confirm({\r\n                description: 'se.cms.contextmenu.removecomponent.confirmation.message',\r\n                title: 'se.cms.contextmenu.removecomponent.confirmation.title'\r\n            })\r\n                .catch(() => this.logService.log('Confirmation cancelled'));\r\n            if (!confirmed) {\r\n                return;\r\n            }\r\n            yield this.removeComponentService.removeComponent({\r\n                slotId: configuration.slotId,\r\n                slotUuid: configuration.slotUuid,\r\n                componentId: configuration.componentId,\r\n                componentType: configuration.componentType,\r\n                componentUuid: configuration.componentAttributes.smarteditComponentUuid,\r\n                slotOperationRelatedId,\r\n                slotOperationRelatedType\r\n            });\r\n            this.slotVisibilityService.reloadSlotsInfo();\r\n            // This is necessary in case the component was used more than once in the page. If so, those instances need to be updated.\r\n            this.crossFrameEventService.publish(EVENT_SMARTEDIT_COMPONENT_UPDATED, {\r\n                componentId: configuration.componentId,\r\n                componentType: configuration.componentType,\r\n                requiresReplayingDecorators: true\r\n            });\r\n            const translation = this.translateService.instant('se.cms.alert.component.removed.from.slot', {\r\n                componentID: slotOperationRelatedId,\r\n                slotID: configuration.slotId\r\n            });\r\n            this.alertService.showSuccess({\r\n                message: translation\r\n            });\r\n            if (configuration.isComponentHidden) {\r\n                yield this.crossFrameEventService.publish(EVENT_PAGE_TREE_SLOT_NEED_UPDATE, configuration.slotUuid);\r\n            }\r\n            $event.preventDefault();\r\n            $event.stopPropagation();\r\n        });\r\n    }\r\n    cloneCondition(configuration) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const componentUuid = configuration.componentAttributes.smarteditComponentUuid;\r\n            if (!configuration.isComponentHidden) {\r\n                let slotId = null;\r\n                if (!!configuration.element) {\r\n                    slotId = this.componentHandlerService.getParentSlotForComponent(configuration.element);\r\n                }\r\n                else {\r\n                    slotId = configuration.slotId;\r\n                }\r\n                const isSlotEditable = yield this.slotRestrictionsService.isSlotEditable(slotId);\r\n                if (isSlotEditable) {\r\n                    const hasCreatePermission = yield this.typePermissionsRestService.hasCreatePermissionForTypes([configuration.componentType]);\r\n                    if (hasCreatePermission[configuration.componentType]) {\r\n                        const component = yield this.componentInfoService.getById(componentUuid, true);\r\n                        return component.cloneable;\r\n                    }\r\n                    else {\r\n                        return false;\r\n                    }\r\n                }\r\n                return false;\r\n            }\r\n            const hiddenComponent = yield this.cmsitemsRestService.getById(componentUuid);\r\n            return hiddenComponent.cloneable;\r\n        });\r\n    }\r\n    cloneCallback(configuration) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const sourcePosition = this.componentHandlerService.getComponentPositionInSlot(configuration.slotId, configuration.componentAttributes.smarteditComponentId);\r\n            yield this.componentEditingFacade.cloneExistingComponentToSlot({\r\n                targetSlotId: configuration.slotId,\r\n                dragInfo: {\r\n                    componentId: configuration.componentAttributes.smarteditComponentId,\r\n                    componentType: configuration.componentType,\r\n                    componentUuid: configuration.componentAttributes.smarteditComponentUuid\r\n                },\r\n                position: sourcePosition + 1\r\n            });\r\n            if (configuration.isComponentHidden) {\r\n                yield this.crossFrameEventService.publish(EVENT_PAGE_TREE_SLOT_NEED_UPDATE, configuration.slotUuid);\r\n            }\r\n            return null;\r\n        });\r\n    }\r\n};\r\n/* @ngInject */ ComponentMenuConditionAndCallbackService = __decorate([\r\n    SeDowngradeService(IComponentMenuConditionAndCallbackService),\r\n    GatewayProxied('externalCondition', 'removeCondition', 'removeCallback', 'cloneCondition', 'cloneCallback', 'sharedCondition', 'editConditionForHiddenComponent'),\r\n    __metadata(\"design:paramtypes\", [ComponentHandlerService,\r\n        TypePermissionsRestService,\r\n        IComponentVisibilityAlertService,\r\n        IEditorModalService,\r\n        IFeatureService,\r\n        ISlotRestrictionsService,\r\n        IConfirmationModalService,\r\n        LogService,\r\n        IAlertService,\r\n        IRemoveComponentService,\r\n        ISlotVisibilityService,\r\n        CrossFrameEventService,\r\n        TranslateService,\r\n        ComponentInfoService,\r\n        CmsitemsRestService,\r\n        ComponentEditingFacade,\r\n        IComponentSharedService,\r\n        IPageInfoService,\r\n        ICatalogService,\r\n        ICatalogVersionPermissionService])\r\n], /* @ngInject */ ComponentMenuConditionAndCallbackService);\r\nexport { /* @ngInject */ ComponentMenuConditionAndCallbackService };\r\n//# sourceMappingURL=ComponentMenuConditionAndCallbackServiceInner.js.map","references":["/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedittools/common/temp/node_modules/.pnpm/@ngx-translate+core@11.0.1_@angular+core@8.2.14+rxjs@6.5.4/node_modules/@ngx-translate/core/ngx-translate-core.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-commons/dist/index.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/smartedit/apps/smartedit-commons/dist/index.d.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit/src/services/ComponentInfoService.ts","/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit/src/services/dragAndDrop/ComponentEditingFacade.ts"],"map":"{\"version\":3,\"file\":\"ComponentMenuConditionAndCallbackServiceInner.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/services/ComponentMenuConditionAndCallbackServiceInner.ts\"],\"names\":[],\"mappings\":\";AAAA;;GAEG;AACH,OAAO,EAAE,gBAAgB,EAAE,MAAM,qBAAqB,CAAC;AACvD,OAAO,EACH,yCAAyC,EACzC,uBAAuB,EACvB,gCAAgC,EAChC,uBAAuB,EACvB,sBAAsB,EACtB,0BAA0B,EAC7B,MAAM,YAAY,CAAC;AACpB,OAAO,EACH,mBAAmB,EACnB,uBAAuB,EAEvB,sBAAsB,EACtB,gCAAgC,EAChC,iCAAiC,EACjC,cAAc,EACd,aAAa,EACb,eAAe,EACf,gCAAgC,EAChC,yBAAyB,EAEzB,mBAAmB,EACnB,eAAe,EACf,gBAAgB,EAChB,wBAAwB,EACxB,UAAU,EACV,kBAAkB,EACrB,MAAM,kBAAkB,CAAC;AAC1B,OAAO,EAAE,oBAAoB,EAAE,MAAM,wBAAwB,CAAC;AAC9D,OAAO,EAAE,sBAAsB,EAAE,MAAM,sCAAsC,CAAC;AAY9E,+DAAA,8DAAsD,SAAQ,yCAAyC;IACnG,YACqB,uBAAgD,EAChD,0BAAsD,EACtD,+BAAiE,EACjE,kBAAuC,EACvC,cAA+B,EAC/B,uBAAiD,EACjD,wBAAmD,EACnD,UAAsB,EACtB,YAA2B,EAC3B,sBAA+C,EAC/C,qBAA6C,EAC7C,sBAA8C,EAC9C,gBAAkC,EAClC,oBAA0C,EAC1C,mBAAwC,EACxC,sBAA8C,EAC9C,sBAA+C,EAC/C,eAAiC,EACjC,cAA+B,EAC/B,+BAAiE;QAElF,KAAK,EAAE,CAAC;QArBS,4BAAuB,GAAvB,uBAAuB,CAAyB;QAChD,+BAA0B,GAA1B,0BAA0B,CAA4B;QACtD,oCAA+B,GAA/B,+BAA+B,CAAkC;QACjE,uBAAkB,GAAlB,kBAAkB,CAAqB;QACvC,mBAAc,GAAd,cAAc,CAAiB;QAC/B,4BAAuB,GAAvB,uBAAuB,CAA0B;QACjD,6BAAwB,GAAxB,wBAAwB,CAA2B;QACnD,eAAU,GAAV,UAAU,CAAY;QACtB,iBAAY,GAAZ,YAAY,CAAe;QAC3B,2BAAsB,GAAtB,sBAAsB,CAAyB;QAC/C,0BAAqB,GAArB,qBAAqB,CAAwB;QAC7C,2BAAsB,GAAtB,sBAAsB,CAAwB;QAC9C,qBAAgB,GAAhB,gBAAgB,CAAkB;QAClC,yBAAoB,GAApB,oBAAoB,CAAsB;QAC1C,wBAAmB,GAAnB,mBAAmB,CAAqB;QACxC,2BAAsB,GAAtB,sBAAsB,CAAwB;QAC9C,2BAAsB,GAAtB,sBAAsB,CAAyB;QAC/C,oBAAe,GAAf,eAAe,CAAkB;QACjC,mBAAc,GAAd,cAAc,CAAiB;QAC/B,oCAA+B,GAA/B,+BAA+B,CAAkC;IAGtF,CAAC;IAEY,+BAA+B,CACxC,aAA2C;;YAE3C,MAAM,cAAc,GAAG,MAAM,IAAI,CAAC,uBAAuB,CAAC,cAAc,CACpE,aAAa,CAAC,MAAM,CACvB,CAAC;YACF,IAAI,CAAC,cAAc,EAAE;gBACjB,OAAO,KAAK,CAAC;aAChB;YACD,MAAM,2BAA2B,GAC7B,aAAa,CAAC,mBAAmB;gBACjC,aAAa,CAAC,mBAAmB,CAAC,2BAA2B,CAAC;YAClE,IAAI,2BAA2B,EAAE;gBAC7B,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,6BAA6B,EAAE,CAAC;gBACxE,MAAM,UAAU,GAAG,2BAA2B,KAAK,IAAI,CAAC;gBACxD,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,MAAM,IAAI,CAAC,cAAc,CAAC,uBAAuB,CAC5E,2BAA2B,CAC9B,CAAC;gBAEF,MAAM,UAAU,GAAG,MAAM,IAAI,CAAC,+BAA+B,CAAC,kBAAkB,CAC5E,SAAS,EACT,OAAO,CACV,CAAC;gBACF,OAAO,UAAU,IAAI,CAAC,UAAU,CAAC;aACpC;YACD,OAAO,KAAK,CAAC;QACjB,CAAC;KAAA;IAEY,eAAe,CAAC,aAA2C;;YACpE,IAAI,MAAM,GAAG,IAAI,CAAC;YAClB,IAAI,aAAa,CAAC,OAAO,EAAE;gBACvB,MAAM,GAAG,IAAI,CAAC,uBAAuB,CAAC,yBAAyB,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;aAC1F;iBAAM;gBACH,MAAM,GAAG,aAAa,CAAC,MAAM,CAAC;aACjC;YAED,MAAM,CAAC,mBAAmB,EAAE,cAAc,CAAC,GAAG,MAAM,OAAO,CAAC,GAAG,CAAC;gBAC5D,IAAI,CAAC,uBAAuB,CAAC,mBAAmB,CAC5C,aAAa,CAAC,WAAW,EACzB,aAAa,CAAC,aAAa,CAC9B;gBACD,IAAI,CAAC,uBAAuB,CAAC,cAAc,CAAC,MAAM,CAAC;aACtD,CAAC,CAAC;YACH,IAAI,mBAAmB,IAAI,CAAC,cAAc,EAAE;gBACxC,OAAO,KAAK,CAAC;aAChB;YAED,OAAO,IAAI,CAAC,sBAAsB,CAAC,iBAAiB,CAChD,aAAa,CAAC,mBAAmB,CAAC,sBAAsB,CAC3D,CAAC;QACN,CAAC;KAAA;IAEY,iBAAiB,CAAC,aAA2C;;YACtE,IAAI,MAAM,GAAG,IAAI,CAAC;YAClB,IAAI,CAAC,CAAC,aAAa,CAAC,OAAO,EAAE;gBACzB,MAAM,GAAG,IAAI,CAAC,uBAAuB,CAAC,yBAAyB,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;aAC1F;iBAAM;gBACH,MAAM,GAAG,aAAa,CAAC,MAAM,CAAC;aACjC;YAED,MAAM,cAAc,GAAG,MAAM,IAAI,CAAC,uBAAuB,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;YACjF,IAAI,CAAC,cAAc,EAAE;gBACjB,OAAO,KAAK,CAAC;aAChB;YAED,MAAM,2BAA2B,GAC7B,aAAa,CAAC,mBAAmB;gBACjC,aAAa,CAAC,mBAAmB,CAAC,2BAA2B,CAAC;YAClE,IAAI,2BAA2B,EAAE;gBAC7B,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,6BAA6B,EAAE,CAAC;gBACxE,OAAO,2BAA2B,KAAK,IAAI,CAAC;aAC/C;YAED,OAAO,IAAI,CAAC,uBAAuB,CAAC,mBAAmB,CACnD,aAAa,CAAC,WAAW,EACzB,aAAa,CAAC,aAAa,CAC9B,CAAC;QACN,CAAC;KAAA;IAEY,eAAe,CAAC,aAA2C;;YACpE,IAAI,CAAC,aAAa,CAAC,iBAAiB,EAAE;gBAClC,IAAI,MAAM,GAAG,IAAI,CAAC;gBAClB,IAAI,CAAC,CAAC,aAAa,CAAC,OAAO,EAAE;oBACzB,MAAM,GAAG,IAAI,CAAC,uBAAuB,CAAC,yBAAyB,CAC3D,aAAa,CAAC,OAAO,CACxB,CAAC;iBACL;qBAAM;oBACH,MAAM,GAAG,aAAa,CAAC,MAAM,CAAC;iBACjC;gBAED,MAAM,YAAY,GAAG,MAAM,IAAI,CAAC,uBAAuB,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;gBAC/E,IAAI,YAAY,EAAE;oBACd,MAAM,mBAAmB,GAAG,MAAM,IAAI,CAAC,0BAA0B,CAAC,2BAA2B,CACzF,CAAC,aAAa,CAAC,aAAa,CAAC,CAChC,CAAC;oBACF,OAAO,mBAAmB,CAAC,aAAa,CAAC,aAAa,CAAC,CAAC;iBAC3D;gBACD,OAAO,KAAK,CAAC;aAChB;YAED,MAAM,2BAA2B,GAAG,MAAM,IAAI,CAAC,0BAA0B,CAAC,2BAA2B,CACjG,CAAC,aAAa,CAAC,aAAa,CAAC,CAChC,CAAC;YACF,OAAO,2BAA2B,CAAC,aAAa,CAAC,aAAa,CAAC,CAAC;QACpE,CAAC;KAAA;IACY,cAAc,CACvB,aAA2C,EAC3C,MAAa;;YAEb,IAAI,sBAA8B,CAAC;YACnC,IAAI,wBAAgC,CAAC;YAErC,IAAI,aAAa,CAAC,OAAO,EAAE;gBACvB,sBAAsB,GAAG,IAAI,CAAC,uBAAuB,CAAC,yBAAyB,CAC3E,aAAa,CAAC,OAAO,CACxB,CAAC;gBACF,wBAAwB,GAAG,IAAI,CAAC,uBAAuB,CAAC,2BAA2B,CAC/E,aAAa,CAAC,OAAO,CACxB,CAAC;aACL;iBAAM;gBACH,sBAAsB,GAAG,aAAa,CAAC,WAAW;oBAC9C,CAAC,CAAC,aAAa,CAAC,WAAW;oBAC3B,CAAC,CAAC,aAAa,CAAC,WAAW,CAAC;gBAChC,wBAAwB;oBACpB,aAAa,CAAC,WAAW,IAAI,aAAa,CAAC,aAAa;wBACpD,CAAC,CAAC,aAAa,CAAC,aAAa;wBAC7B,CAAC,CAAC,aAAa,CAAC,aAAa,CAAC;aACzC;YAED,MAAM,SAAS,GAAG,MAAM,IAAI,CAAC,wBAAwB;iBAChD,OAAO,CAAC;gBACL,WAAW,EAAE,yDAAyD;gBACtE,KAAK,EAAE,uDAAuD;aACjE,CAAC;iBACD,KAAK,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,wBAAwB,CAAC,CAAC,CAAC;YAChE,IAAI,CAAC,SAAS,EAAE;gBACZ,OAAO;aACV;YAED,MAAM,IAAI,CAAC,sBAAsB,CAAC,eAAe,CAAC;gBAC9C,MAAM,EAAE,aAAa,CAAC,MAAM;gBAC5B,QAAQ,EAAE,aAAa,CAAC,QAAQ;gBAChC,WAAW,EAAE,aAAa,CAAC,WAAW;gBACtC,aAAa,EAAE,aAAa,CAAC,aAAa;gBAC1C,aAAa,EAAE,aAAa,CAAC,mBAAmB,CAAC,sBAAsB;gBACvE,sBAAsB;gBACtB,wBAAwB;aAC3B,CAAC,CAAC;YACH,IAAI,CAAC,qBAAqB,CAAC,eAAe,EAAE,CAAC;YAE7C,0HAA0H;YAC1H,IAAI,CAAC,sBAAsB,CAAC,OAAO,CAAC,iCAAiC,EAAE;gBACnE,WAAW,EAAE,aAAa,CAAC,WAAW;gBACtC,aAAa,EAAE,aAAa,CAAC,aAAa;gBAC1C,2BAA2B,EAAE,IAAI;aACP,CAAC,CAAC;YAEhC,MAAM,WAAW,GAAG,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAC7C,0CAA0C,EAC1C;gBACI,WAAW,EAAE,sBAAsB;gBACnC,MAAM,EAAE,aAAa,CAAC,MAAM;aAC/B,CACJ,CAAC;YACF,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC;gBAC1B,OAAO,EAAE,WAAW;aACvB,CAAC,CAAC;YAEH,IAAI,aAAa,CAAC,iBAAiB,EAAE;gBACjC,MAAM,IAAI,CAAC,sBAAsB,CAAC,OAAO,CACrC,gCAAgC,EAChC,aAAa,CAAC,QAAQ,CACzB,CAAC;aACL;YAED,MAAM,CAAC,cAAc,EAAE,CAAC;YACxB,MAAM,CAAC,eAAe,EAAE,CAAC;QAC7B,CAAC;KAAA;IACY,cAAc,CAAC,aAA2C;;YACnE,MAAM,aAAa,GAAG,aAAa,CAAC,mBAAmB,CAAC,sBAAsB,CAAC;YAE/E,IAAI,CAAC,aAAa,CAAC,iBAAiB,EAAE;gBAClC,IAAI,MAAM,GAAG,IAAI,CAAC;gBAClB,IAAI,CAAC,CAAC,aAAa,CAAC,OAAO,EAAE;oBACzB,MAAM,GAAG,IAAI,CAAC,uBAAuB,CAAC,yBAAyB,CAC3D,aAAa,CAAC,OAAO,CACxB,CAAC;iBACL;qBAAM;oBACH,MAAM,GAAG,aAAa,CAAC,MAAM,CAAC;iBACjC;gBAED,MAAM,cAAc,GAAG,MAAM,IAAI,CAAC,uBAAuB,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;gBACjF,IAAI,cAAc,EAAE;oBAChB,MAAM,mBAAmB,GAAG,MAAM,IAAI,CAAC,0BAA0B,CAAC,2BAA2B,CACzF,CAAC,aAAa,CAAC,aAAa,CAAC,CAChC,CAAC;oBACF,IAAI,mBAAmB,CAAC,aAAa,CAAC,aAAa,CAAC,EAAE;wBAClD,MAAM,SAAS,GAAG,MAAM,IAAI,CAAC,oBAAoB,CAAC,OAAO,CAAC,aAAa,EAAE,IAAI,CAAC,CAAC;wBAC/E,OAAO,SAAS,CAAC,SAAS,CAAC;qBAC9B;yBAAM;wBACH,OAAO,KAAK,CAAC;qBAChB;iBACJ;gBACD,OAAO,KAAK,CAAC;aAChB;YACD,MAAM,eAAe,GAAG,MAAM,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;YAC9E,OAAO,eAAe,CAAC,SAAoB,CAAC;QAChD,CAAC;KAAA;IACY,aAAa,CAAC,aAA2C;;YAClE,MAAM,cAAc,GAAG,IAAI,CAAC,uBAAuB,CAAC,0BAA0B,CAC1E,aAAa,CAAC,MAAM,EACpB,aAAa,CAAC,mBAAmB,CAAC,oBAAoB,CACzD,CAAC;YACF,MAAM,IAAI,CAAC,sBAAsB,CAAC,4BAA4B,CAAC;gBAC3D,YAAY,EAAE,aAAa,CAAC,MAAM;gBAClC,QAAQ,EAAE;oBACN,WAAW,EAAE,aAAa,CAAC,mBAAmB,CAAC,oBAAoB;oBACnE,aAAa,EAAE,aAAa,CAAC,aAAa;oBAC1C,aAAa,EAAE,aAAa,CAAC,mBAAmB,CAAC,sBAAsB;iBAC1E;gBACD,QAAQ,EAAE,cAAc,GAAG,CAAC;aAC/B,CAAC,CAAC;YAEH,IAAI,aAAa,CAAC,iBAAiB,EAAE;gBACjC,MAAM,IAAI,CAAC,sBAAsB,CAAC,OAAO,CACrC,gCAAgC,EAChC,aAAa,CAAC,QAAQ,CACzB,CAAC;aACL;YACD,OAAO,IAAI,CAAC;QAChB,CAAC;KAAA;CACJ,CAAA;AAjQD;IAVC,kBAAkB,CAAC,yCAAyC,CAAC;IAC7D,cAAc,CACX,mBAAmB,EACnB,iBAAiB,EACjB,gBAAgB,EAChB,gBAAgB,EAChB,eAAe,EACf,iBAAiB,EACjB,iCAAiC,CACpC;qCAGiD,uBAAuB;QACpB,0BAA0B;QACrB,gCAAgC;QAC7C,mBAAmB;QACvB,eAAe;QACN,wBAAwB;QACvB,yBAAyB;QACvC,UAAU;QACR,aAAa;QACH,uBAAuB;QACxB,sBAAsB;QACrB,sBAAsB;QAC5B,gBAAgB;QACZ,oBAAoB;QACrB,mBAAmB;QAChB,sBAAsB;QACtB,uBAAuB;QAC9B,gBAAgB;QACjB,eAAe;QACE,gCAAgC;4DA4OzF\"}","dts":{"name":"/home/wadmin/Documents/cloud-commerce-sample-setup-update-2211/core-customize/hybris/bin/modules/smartedit/cmssmartedit/apps/cms-smartedit/node_modules/.cache/rollup-plugin-typescript2/placeholder/services/ComponentMenuConditionAndCallbackServiceInner.d.ts","writeByteOrderMark":false,"text":"import { TranslateService } from '@ngx-translate/core';\r\nimport { IComponentMenuConditionAndCallbackService, IComponentSharedService, IComponentVisibilityAlertService, IRemoveComponentService, ISlotVisibilityService, TypePermissionsRestService } from 'cmscommons';\r\nimport { CmsitemsRestService, ComponentHandlerService, CrossFrameEventService, IAlertService, ICatalogService, ICatalogVersionPermissionService, IConfirmationModalService, IContextualMenuConfiguration, IEditorModalService, IFeatureService, IPageInfoService, ISlotRestrictionsService, LogService } from 'smarteditcommons';\r\nimport { ComponentInfoService } from './ComponentInfoService';\r\nimport { ComponentEditingFacade } from './dragAndDrop/ComponentEditingFacade';\r\nexport declare class ComponentMenuConditionAndCallbackService extends IComponentMenuConditionAndCallbackService {\r\n    private readonly componentHandlerService;\r\n    private readonly typePermissionsRestService;\r\n    private readonly componentVisibilityAlertService;\r\n    private readonly editorModalService;\r\n    private readonly featureService;\r\n    private readonly slotRestrictionsService;\r\n    private readonly confirmationModalService;\r\n    private readonly logService;\r\n    private readonly alertService;\r\n    private readonly removeComponentService;\r\n    private readonly slotVisibilityService;\r\n    private readonly crossFrameEventService;\r\n    private readonly translateService;\r\n    private readonly componentInfoService;\r\n    private readonly cmsitemsRestService;\r\n    private readonly componentEditingFacade;\r\n    private readonly componentSharedService;\r\n    private readonly pageInfoService;\r\n    private readonly catalogService;\r\n    private readonly catalogVersionPermissionService;\r\n    constructor(componentHandlerService: ComponentHandlerService, typePermissionsRestService: TypePermissionsRestService, componentVisibilityAlertService: IComponentVisibilityAlertService, editorModalService: IEditorModalService, featureService: IFeatureService, slotRestrictionsService: ISlotRestrictionsService, confirmationModalService: IConfirmationModalService, logService: LogService, alertService: IAlertService, removeComponentService: IRemoveComponentService, slotVisibilityService: ISlotVisibilityService, crossFrameEventService: CrossFrameEventService, translateService: TranslateService, componentInfoService: ComponentInfoService, cmsitemsRestService: CmsitemsRestService, componentEditingFacade: ComponentEditingFacade, componentSharedService: IComponentSharedService, pageInfoService: IPageInfoService, catalogService: ICatalogService, catalogVersionPermissionService: ICatalogVersionPermissionService);\r\n    editConditionForHiddenComponent(configuration: IContextualMenuConfiguration): Promise<boolean>;\r\n    sharedCondition(configuration: IContextualMenuConfiguration): Promise<boolean>;\r\n    externalCondition(configuration: IContextualMenuConfiguration): Promise<boolean>;\r\n    removeCondition(configuration: IContextualMenuConfiguration): Promise<boolean>;\r\n    removeCallback(configuration: IContextualMenuConfiguration, $event: Event): Promise<void>;\r\n    cloneCondition(configuration: IContextualMenuConfiguration): Promise<boolean>;\r\n    cloneCallback(configuration: IContextualMenuConfiguration): Promise<void>;\r\n}\r\n"}}
